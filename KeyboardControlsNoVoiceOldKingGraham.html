
<!DOCTYPE html>
<html>
<!-- WELCOME TO THE MINOTAUR'S CODE LABRYNTH.  ALL THE ANSWERS YOU DESIRE ARE HERE, IF ONLY YOU CAN NAVIGATE THE MAZE... -->
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<link rel="icon" href="/crowny.ico">
<title>Owl in the family</title>
<style>
canvas {
    border:1px solid #d3d3d3;
    background-color: #f1f1f1;
     display: block;
  margin-left: auto;
  margin-right: auto;
  width: 80%;
}

input {
 font-size: 32px;
  background-color: white;
  background-image: url('typeicon.png');
  background-position: 1px 1px; 
  background-repeat: no-repeat;
  padding-left: 25px;
   width: 50%;
}

img {
  border: 1px solid #ddd;
  border-radius: 4px;
  padding: 5px;
  width: 60px;
}

img:hover {
  box-shadow: 0 0 2px 1px rgba(0, 140, 186, 0.5);
}

</style>
</head>

<body onload="startGame()">



<script>

var room = "throneRoom1";
var myGamePiece;
var myBackground;
var oldBackground;
var oldForeground;
var speed;
speed = 0;
yspeed = 0;
var mainX = 0;
var mainY = 0;
var textVar = "";
var textVar2 = "";
var textVar3 = "";
var touchdown = 0;
var touchup = 0;
var touchright = 0;
var touchleft = 0;
var textIter = 0;
var iterTwo = 0;
var iterFour = 0;
var OldBackgroundfile = "mirrorfront.png";
var OldForegroundfile = "throneroomforeground.png";
var gotFiddle = 0;
var playedFiddle = 0;
var climbing = 0;
var gotDough = 0;
var gotChocolate = 0;
var walking = 1;
var swimming = 0;
var becameCat = 0;
var xlocation = 0;
var scrolling = 0;
var heardStory = 0;
var readingJournal = 0;
var toggleJournal = 0;
var readthejournal = 0;
var lookingatmap = 0;
var tempted = 0;
var gotHoney = 0;
var gotFruit = 0;
var gotLockpick = 0;
var gotIngredient = 0;
var correctIngredients = 0;
var gotTelescope = 0;
var gotHam = 0;
var small = 0;
var gotAlexander = 0;
var grey = 0;
var kq = 0;
var youth = 0;
var alexanderYoung = 0;
var rosellaYoung = 0;
var valaniceYoung = 0;
var oldthronefile = "mirrorfront.png";
var bowing = 0;


//var did = 0;
var didFang = 0;
var didScale= 0;
var didHeart = 0;
var didSnail = 0;
var didJelly = 0;
var didCathair = 0;
var didWine = 0;
var didRose = 0;
var didHair = 0;
var didLamp = 0;
var didLion = 0;
var didTomato = 0;
var didKraken = 0;
var didShark = 0;
var didMoon = 0;
var didCave = 0;
var didSatyr = 0;
var didOlympic = 0;
var didMusk = 0;
var didPegasus = 0;
var didWillow = 0;


var rumpleRand = 0;
var rumpleY = 0;

var CompletedThroneRoomRequirements = 0;
var CompletedCageRequirements = 0;
var CompletedCageKey = 0;
var CompletedCastleFrontRequirements = 0;
var gotEmeraldInTree = 0;
var gaveLoadOwlInfo = 0;
var gotSeeds = 0;
var plantedSeeds = 0;
var gotHairpin = 0;
var gotPickaxe = 0;
var gotCoin = 0;
var doorOpen = 0;
var gotTooth = 0;
var unlockedDoor = 0;
var madeCookie = 0;
var gotCookie = 0;
var mermaidHappy = 0;
var gotShell = 0;
var heardStory = 0;
var gotJournal = 0;
var openedmap = 0;
var madeElixir = 0;
var gotGrail = 0;
var elixirInGrail = 0;
var gotConnor = 0;
var gotOtar = 0;

var walkright = ["walkright1.png", "walkright2.png", "walkright3.png","walkright4.png","walkright5.png","walkright6.png"];
var walkleft = ["walkleft1.png", "walkleft2.png", "walkleft3.png","walkleft4.png","walkleft5.png","walkleft6.png"];
var walkfront = ["frontg1.png", "frontg2.png", "frontg3.png","frontg4.png","frontg5.png","frontg6.png"];
var walkback = ["backg1.png", "backg2.png", "backg3.png","backg4.png","backg5.png","backg6.png"];
var climbArray = ["climb1.png", "climb2.png", "climb3.png","climb4.png","climb5.png","climb6.png"];
var swimArray = ["swim1.png", "swim2.png", "swim3.png","swim4.png","swim5.png","swim6.png"];
var youngleft = ["walkleft1young.png", "walkleft2young.png", "walkleft3young.png","walkleft4young.png","walkleft5young.png","walkleft6young.png"];
var youngright = ["walkright1young.png", "walkright2young.png", "walkright3young.png","walkright4young.png","walkright5young.png","walkright6young.png"];
var smallArray = ["smallwalk1.png","smallwalk2.png","smallwalk3.png","smallwalk4.png","smallwalk5.png","smallwalk6.png"];

var greyright = ["walkrightg1.png", "walkrightg2.png", "walkrightg3.png","walkrightg4.png","walkrightg5.png","walkrightg6.png"];
var greyleft = ["walkleftg1.png", "walkleftg2.png", "walkleftg3.png","walkleftg4.png","walkleftg5.png","walkleftg6.png"];
var greyfront = ["frontgr1.png", "frontgr2.png", "frontgr3.png","frontgr4.png","frontgr5.png","frontgr6.png"];
var greyback = ["backgr1.png", "backgr2.png", "backgr3.png","backgr4.png","backgr5.png","backgr6.png"];

var kqright = ["walkright51.png", "walkright52.png", "walkright53.png","walkright54.png","walkright55.png","walkright56.png"];
var kqleft = ["walkleft51.png", "walkleft52.png", "walkleft53.png","walkleft54.png","walkleft55.png","walkleft56.png"];
var kqfront = ["front51.png", "front52.png", "front53.png","front54.png","front55.png","front56.png"];
var kqback = ["back51.png", "back52.png", "back53.png","back54.png","back55.png","back56.png"];

var youthright = ["walkrighty1.png", "walkrighty2.png", "walkrighty3.png","walkrighty4.png","walkrighty5.png","walkrighty6.png"];
var youthleft = ["walklefty1.png", "walklefty2.png", "walklefty3.png","walklefty4.png","walklefty5.png","walklefty6.png"];
var youthfront = ["fronty1.png", "fronty2.png", "fronty3.png","fronty4.png","fronty5.png","fronty6.png"];
var youthback = ["backy1.png", "backy2.png", "backy3.png","backy4.png","backy5.png","backy6.png"];



walkiter = 0;
var toggle = 1;


var myObstacle;
var myObstacles = [];


///////////////////OBSTACLES//////////////////////////////////////
function createObstacles(){
if (room == "throneRoom1"){
var myObstacle;
myObstacles = [];

/*
myObstacles.push(new component(546, 90, "green", 0, 0)); //top thick bar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(152, 133, "green", 0, 0));
myObstacles.push(new component(27, 280, "green", 0, 0));
myObstacles.push(new component(95, 143, "green", 0, 0));
myObstacles.push(new component(250, 100, "green", 322, 251));
myObstacles.push(new component(226, 120, "green", 317, 0));
myObstacles.push(new component(56, 156, "green", 0, 0));
myObstacles.push(new component(25, 147, "green", 328, 0));//Alexander
myObstacles.push(new component(25, 140, "green", 463, 0));//Rosella
*/

myObstacles.push(new component(27, 117, "green", 436, 0));//Alexander
myObstacles.push(new component(29, 117, "green", 493, 0));//Rosella

myObstacles.push(new component(546, 63, "green", 0, 0)); //top thick bar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(207, 98, "green", 0, 0)); //Valanice
myObstacles.push(new component(150, 110, "green", 0, 0)); //throne box
myObstacles.push(new component(117, 128, "green", 0, 0)); //throne box2

myObstacles.push(new component(232, 5, "green", 338, 96)); //top right gallery
myObstacles.push(new component(198, 33, "green", 372, 247)); //botm right galler

myObstacles.push(new component(5, 280, "green", 69, 0)); //left wall
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end

}
else if (room == "throneRoom2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 10, "green", 0, 79)); //top thick bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(5, 280, "green", 393, 0)); //right full rail
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
}
else if (room == "throneRoom3"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 10, "green", 0, 55)); //top thick bar
myObstacles.push(new component(3, 280, "green", 115, 0)); //left full rail
myObstacles.push(new component(5, 280, "green", 393, 0)); //right full rail
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar


}//end room 3
else if (room == "castleFront"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(200, 10, "green", 300, 130)); //top door bar
myObstacles.push(new component(161, 171, "green", 175, 0)); //left block
myObstacles.push(new component(10, 280, "green", 175, 0)); //bridge block
myObstacles.push(new component(120, 171, "green", 439, 0)); //right block
myObstacles.push(new component(500, 10, "green", 50, 255)); //bottom bar
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
}

else if (room == "castleFront2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 10, "green", 0, 255)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(300, 171, "green", 0, 0)); //castle block
myObstacles.push(new component(60, 70, "green", 403, 244)); //under bridge
myObstacles.push(new component(23, 70, "green", 421, 237)); //under bridge 2
myObstacles.push(new component(25, 16, "green", 290, 144)); //over bridge
myObstacles.push(new component(546, 5, "green", 0, 115)); //topbar
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
myObstacles.push(new component(45, 147, "green", 451, 0)); //tree

} //end castleFront2

else if (room == "garden"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(299, 5, "green", 0, 37)); //topleft wall
myObstacles.push(new component(120, 5, "green", 426, 37)); //topright wall
myObstacles.push(new component(150, 5, "green", 290, 26)); //top exit
myObstacles.push(new component(7, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(30, 65, "green", 0, 0)); //rosegirl
} // end garden

else if (room == "gardenStalk"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(94, 5, "green", 0, 37)); //topleft wall
myObstacles.push(new component(120, 5, "green", 426, 37)); //topright wall
myObstacles.push(new component(150, 5, "green", 290, 26)); //top exit
myObstacles.push(new component(7, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar

//myObstacles.push(new component(198, 126, "green", 87, 0)); //stalk

myObstacles.push(new component(5, 126, "green", 87, 0)); //outstalkLeftbar
myObstacles.push(new component(5, 126, "green", 280, 0)); //outstalkRightbar

if (climbing == 1){
myObstacles.push(new component(198, 5, "green", 87, 176)); //outstalkBottombar
} else {
myObstacles.push(new component(198, 5, "green", 87, 115)); //outstalkBottombar
}

myObstacles.push(new component(546, 5, "green", 0, -43)); //verytopVinebar

myObstacles.push(new component(5, 120, "green", 153, 0)); //fallLeftbox
myObstacles.push(new component(71, 98, "green", 194, 0)); //fallrighttop
myObstacles.push(new component(5, 120, "green", 225, 0)); //fallrightbottom

} // end garden

else if (room == "stalk2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, -43)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 215, 0)); //left full rail
myObstacles.push(new component(5, 280, "green", 322, 0)); //right wall end

myObstacles.push(new component(24, 10, "green", 241, 108)); //top obstacle

} //end stalk2

else if (room == "stalk3"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(24, 60, "green", 272, 0)); //top obstacle
myObstacles.push(new component(5, 280, "green", 292, 0)); //right wall end
myObstacles.push(new component(3, 280, "green", 219, 0)); //left full rail
myObstacles.push(new component(546, 5, "green", 0, -43)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
} //end stalk3

else if (room == "stalkTop"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 78)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 219, 0)); //left full rail
myObstacles.push(new component(5, 280, "green", 292, 0)); //right vine rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
myObstacles.push(new component(277, 5, "green", 293, 103)); //topbar walking
myObstacles.push(new component(277, 5, "green", 293, 174)); //bottom bar walk

} //end stalkTop

else if (room == "cloud1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 10, "green", 0, 225)); //bottom bar
myObstacles.push(new component(546, 5, "green", 0, 34)); //topbar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
} //end cloud1

else if (room == "cloud2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 34)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
myObstacles.push(new component(97, 152, "green", 137, 0)); //left hand bones
myObstacles.push(new component(25, 126, "green", 273, 0)); //right hand bones
myObstacles.push(new component(160, 181, "green", 410, 0)); //skull

myObstacles.push(new component(60, 108, "green", 214, 0)); //door

//need to add open door

} //end cloud2


else if (room == "C1pooltoy"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 351, 0)); //right full wall
myObstacles.push(new component(546, 5, "green", 0, 75)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(55, 133, "green", 58, 0)); //roseplant
} // end pooltoy

else if (room == "gardenNorthCliff"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 62)); //topbar
myObstacles.push(new component(10, 280, "green", 570, 0)); //right wall end

myObstacles.push(new component(325, 35, "green", 0, 97)); //lake water
myObstacles.push(new component(350, 16, "green", 0, 132)); //lake water
myObstacles.push(new component(315, 29, "green", 0, 148)); //lake water
myObstacles.push(new component(295, 26, "green", 0, 177)); //lake water
myObstacles.push(new component(262, 15, "green", 0, 203)); //lake water

myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
}

else if (room == "fairyGround"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 48)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
}

else if (room == "A1clover"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 140)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end

myObstacles.push(new component(37, 159, "green", 35, 0)); //left leprechaun

}

else if (room == "A2lake"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(316, 202, "green", 0, 0)); //topbar
myObstacles.push(new component(240, 5, "green", 310, 157));//toprightside
myObstacles.push(new component(125, 184, "green", 449, 0));//topfarright
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end

} //end A2lake

else if (room == "A3cave"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 79)); //topbar
myObstacles.push(new component(104, 87, "green", 466, 0)); //cave area
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 497, 0)); //right wall end

} //end A3cave

else if (room == "B2goat"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 64)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end

} //end B2goat

else if (room == "B3goatback"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 37)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 497, 0)); //right wall end
} //end B3goatback

else if (room == "cave"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 115)); //topbar
myObstacles.push(new component(114, 154, "green", 0, 0)); //topdoorway
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 288, 0)); //right wall end
}

else if (room == "mill"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 15)); //topbar
myObstacles.push(new component(234, 75, "green", 0, 0)); //house
myObstacles.push(new component(145, 45, "green", 0, 149)); //topwater
myObstacles.push(new component(206, 110, "green", 0, 170)); //water
myObstacles.push(new component(10, 280, "green", 90, 0)); //left bar river
myObstacles.push(new component(546, 10, "green", 0, 238)); //bottom bar
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
}

else if (room == "rumplestiltskin"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 48)); //topbar
myObstacles.push(new component(135, 84, "green", 0, 0)); //tree 
myObstacles.push(new component(265, 187, "green", 281, 159)); //rumplestilts
myObstacles.push(new component(546, 10, "green", 0, 270)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 427, 0)); //right wall end
} //end rumplestiltskin

else if (room == "hood"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 116)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 275)); //bottom bar
myObstacles.push(new component(3, 280, "green", 134, 0)); //left full rail
myObstacles.push(new component(10, 280, "green", 256, 0)); //right wall end
} //end hood


else if (room == "manannan"){
var myObstacle;
myObstacles = [];


myObstacles.push(new component(546, 10, "green", 0, 258)); //bottom bar
myObstacles.push(new component(3, 280, "green", 54, 0)); //left full rail
myObstacles.push(new component(175, 280, "green", 395, 0)); //right wall end
myObstacles.push(new component(546, 5, "green", 0, 104)); //topbar

myObstacles.push(new component(24, 117, "green", 322, 0)); //desk chair
myObstacles.push(new component(214, 70, "green", 256, 220)); //table
myObstacles.push(new component(3, 137, "green", 155, 0)); //stair box

}//end  manannan

else if (room == "manannanDoor"){
var myObstacle;
myObstacles = [];


myObstacles.push(new component(546, 10, "green", 0, 258)); //bottom bar
myObstacles.push(new component(3, 280, "green", 54, 0)); //left full rail
myObstacles.push(new component(175, 280, "green", 395, 0)); //right wall end
myObstacles.push(new component(546, 5, "green", 0, 104)); //topbar

myObstacles.push(new component(24, 117, "green", 322, 0)); //desk chair
myObstacles.push(new component(214, 70, "green", 256, 220)); //table
myObstacles.push(new component(3, 137, "green", 155, 0)); //stair box

myObstacles.push(new component(92, 121, "green", 0, 0)); //door box

}//end  manannan

else if (room == "manannanmap"){
var myObstacle;
myObstacles = [];


myObstacles.push(new component(546, 10, "green", 0, 258)); //bottom bar
myObstacles.push(new component(3, 280, "green", 54, 0)); //left full rail
myObstacles.push(new component(175, 280, "green", 395, 0)); //right wall end
myObstacles.push(new component(546, 5, "green", 0, 104)); //topbar

myObstacles.push(new component(24, 117, "green", 322, 0)); //desk chair
myObstacles.push(new component(214, 70, "green", 256, 220)); //table
myObstacles.push(new component(3, 137, "green", 155, 0)); //stair box

}//end  manannan

else if (room == "undermoat1"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 0)); //topbar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 550, 0)); //right wall end
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar

} //end under moat

else if (room == "undermoat2"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 0)); //topbar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 550, 0)); //right wall end
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar

} //end under moat2

else if (room == "undermoat3"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 0)); //topbar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 550, 0)); //right wall end
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar

} //end under moat3

else if (room == "undermoat4"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
}

else if (room == "journal"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 129, "green", 0, 0)); //topbar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 550, 0)); //right wall end
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
}

else if (room == "journal2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 129, "green", 0, 0)); //topbar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 550, 0)); //right wall end
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
}

else if (room == "whale"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 132)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 523, 0)); //right wall end

myObstacles.push(new component(168, 45, "green", 402, 240)); //boat box

}

else if (room == "trapped"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 280, "green", 0, 0)); //trapbar

}

/*
///
else if (room == ""){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 0)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end
///
*/

//grailobstacles

else if (room == "vulcanix"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 100)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(387, 163, "green", 183, 0)); //dragon & trolls
} //end

else if (room == "realmdoor3"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 142)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end

else if (room == "realmdoor2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 142)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end

else if (room == "realmdoor1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 142)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end


else if (room == "realmofthesun"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 142)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end


else if (room == "samhain"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 169)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end

else if (room == "charon"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 102)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end

else if (room == "landofthedead"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 61)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 135, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 359, 0)); //right wall end

myObstacles.push(new component(278, 177, "green", 292, 0)); //right chasm

myObstacles.push(new component(227, 177, "green", 0, 0)); //left chasm

} //end

else if (room == "yetilair"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 105)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 6, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(102, 153, "green", 263, 0)); //yetis
} //end

else if (room == "witchlair2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 175)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 247)); //bottom bar
myObstacles.push(new component(3, 280, "green", 245, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 275, 0)); //right wall end
} //end

else if (room == "witchlair"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 88)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 527, 0)); //right wall end

myObstacles.push(new component(59, 22, "green", 231, 258)); //crystal ball
myObstacles.push(new component(106, 22, "green", 27, 258)); //cauldron
} //end

else if (room == "throneRoom2grail"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 10, "green", 0, 79)); //top thick bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(5, 280, "green", 393, 0)); //right full rail
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
}
else if (room == "throneRoom3grail"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 10, "green", 0, 55)); //top thick bar
myObstacles.push(new component(3, 280, "green", 115, 0)); //left full rail
myObstacles.push(new component(5, 280, "green", 393, 0)); //right full rail
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar


}//end room 3
else if (room == "castleFrontgrail"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(200, 10, "green", 300, 130)); //top door bar
myObstacles.push(new component(161, 171, "green", 175, 0)); //left block
myObstacles.push(new component(10, 280, "green", 237, 0)); //bridge block
myObstacles.push(new component(120, 171, "green", 439, 0)); //right block
myObstacles.push(new component(500, 10, "green", 50, 255)); //bottom bar
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
}

else if (room == "throneroomgrail"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(27, 117, "green", 436, 0));//Alexander
myObstacles.push(new component(29, 117, "green", 493, 0));//Rosella

myObstacles.push(new component(546, 63, "green", 0, 0)); //top thick bar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(207, 98, "green", 0, 0)); //Valanice
myObstacles.push(new component(150, 110, "green", 0, 0)); //throne box
myObstacles.push(new component(117, 128, "green", 0, 0)); //throne box2

myObstacles.push(new component(232, 5, "green", 338, 96)); //top right gallery
myObstacles.push(new component(198, 33, "green", 372, 247)); //botm right galler

myObstacles.push(new component(5, 280, "green", 69, 0)); //left wall
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end

}

else if (room == "blackscreen"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 137)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 208)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end

else if (room == "islandofspirits"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 128)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end

else if (room == "castleFrontEnd"){
myObstacles.push(new component(546, 5, "green", 0, 82)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 265)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 160, 0)); //right wall end

myObstacles.push(new component(415, 67, "green", 131, 213)); //top bridge box
myObstacles.push(new component(415, 51, "green", 53, 245)); //low bridge box
myObstacles.push(new component(415, 51, "green", 62, 229)); //low bridge box

}

else if (room == "end4"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 82)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 265)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
} //end4

else if (room == "end3"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 130)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end

myObstacles.push(new component(25, 84, "green", 408, 83)); //stair right

myObstacles.push(new component(3, 148, "green", 392, 0)); //stairwater corner
myObstacles.push(new component(385, 46, "green", 0, 234)); //bottom bridge

} //end3

else if (room == "end2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 130)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end



myObstacles.push(new component(3, 147, "green", 271, 0)); //stair water

myObstacles.push(new component(112, 133, "green", 0, 0)); //left tree
myObstacles.push(new component(71, 169, "green", 199, 0)); //water

myObstacles.push(new component(272, 46, "green", 298, 234)); //bottom bridge

} //end2

else if (room == "end1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 131)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
} //end1

else if (room == "manannanfinal"){
var myObstacle;
myObstacles = [];


myObstacles.push(new component(546, 10, "green", 0, 258)); //bottom bar
myObstacles.push(new component(3, 280, "green", 54, 0)); //left full rail
myObstacles.push(new component(175, 280, "green", 395, 0)); //right wall end
myObstacles.push(new component(546, 5, "green", 0, 104)); //topbar

myObstacles.push(new component(24, 117, "green", 322, 0)); //desk chair
myObstacles.push(new component(214, 70, "green", 256, 220)); //table
myObstacles.push(new component(3, 137, "green", 155, 0)); //stair box

myObstacles.push(new component(92, 121, "green", 0, 0)); //door box
} //end

else if (room == "northpole3"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 100)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 383, 0)); //right wall end
} //end

else if (room == "northpole2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 125)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
} //end

else if (room == "northpole1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 125)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
} //end

else if (room == "sereniabottle"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 113)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 185)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 289, 0)); //right wall end
} //end

else if (room == "serenia3"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 32)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 41, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(34, 92, "green", 118, 0)); //bottle

} //end serenia3


else if (room == "sereniadoor"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 122)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(125, 160, "green", 210, 0)); //black ant bed

}


else if (room == "sereniahole"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 177)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 249)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 256, 0)); //right wall end
} //end


else if (room == "serenia2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 42)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 247)); //bottom bar
myObstacles.push(new component(3, 280, "green", 57, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(115, 142, "green", 455, 0)); //tree
} //end

else if (room == "sereniagrass2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 166)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 238)); //bottom bar
myObstacles.push(new component(3, 280, "green", 97, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end

else if (room == "sereniagrass"){ //red ants
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 163)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 235)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 419, 0)); //right wall end
} //end

else if (room == "serenia"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 122)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(125, 160, "green", 210, 0)); //black ant bed
myObstacles.push(new component(72, 136, "green", 368, 0)); //red ant bed

}

else if (room == "equestria"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 90)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(148, 121, "green", 0, 0)); //top left horse

myObstacles.push(new component(141, 139, "green", 256, 0)); //horse king

myObstacles.push(new component(114, 139, "green", 456, 0)); //right tree


} //end equestria

else if (room == "equestria1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 15)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 252)); //bottom bar
myObstacles.push(new component(3, 280, "green", 26, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 278, 0)); //right wall end

myObstacles.push(new component(433, 176, "green", 152, 163)); //pond

} //end

else if (room == "northernsea"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 99)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 212)); //bottom bar
myObstacles.push(new component(3, 280, "green", 262, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 431, 0)); //right wall end

myObstacles.push(new component(100, 111, "green", 376, 169)); //satyr

myObstacles.push(new component(328, 118, "green", 0, 0)); //topleft box
myObstacles.push(new component(316, 132, "green", 0, 0)); //topleft box2

} //end

else if (room == "rockyshoals"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 118)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 212)); //bottom bar
myObstacles.push(new component(3, 280, "green", 137, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 289, 0)); //right wall end
} //end

else if (room == "tamir2dark"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 146)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 238)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end

else if (room == "tamir1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 50)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 42, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 351, 0)); //right wall end

myObstacles.push(new component(194, 160, "green", 0, 0)); //statue

myObstacles.push(new component(285, 105, "green", 285, 0)); //right tree top

} //end

else if (room == "tamir2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 146)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 238)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end


else if (room == "EnchantedTower3"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 123)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 56, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 429, 0)); //right wall end

myObstacles.push(new component(87, 45, "green", 0, 235)); //bottomleftbox
myObstacles.push(new component(283, 164, "green", 287, 0)); //rightpeoplebox
myObstacles.push(new component(50, 163, "green", 177, 0)); //middle column

} //end

else if (room == "EnchantedTower2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 136)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 391, 0)); //right wall end

myObstacles.push(new component(351, 69, "green", 219, 212)); //bottom right box

} //end

else if (room == "EnchantedTower1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 55)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 189)); //bottom bar
myObstacles.push(new component(3, 280, "green", 122, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 212, 0)); //right wall end
} //end



else if (room == "greenisles"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 83)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 405, 0)); //right wall end
} //end

else if (room == "greenisles2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 83)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(178, 173, "green", 0, 0)); //ladybug box

} //end





else if (room == "lion"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 140)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 216)); //bottom bar
myObstacles.push(new component(3, 280, "green", 132, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 435, 0)); //right wall end
} //end


else if (room == "fairy4"){ //left beach
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 89)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 233, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
} //end

else if (room == "fairy2"){ //right beach
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 104)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 296, 0)); //right wall end
} //end

else if (room == "fairy1"){ //center beach
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 82)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
} //end

else if (room == "fairy3"){ //fairy castle
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 96)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end





else if (room == "moon"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 104)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(171, 128, "green", 296, 0)); //alien box

} //end

else if (room == "harpy"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 127)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 390, 0)); //right wall end

myObstacles.push(new component(100, 152, "green", 293, 0)); //stone post
}

else if (room == "mordack2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 145)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 5, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(316, 191, "green", 114, 0)); //machine

} //end

else if (room == "mordack1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 61)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(148, 169, "green", 0, 0)); //left snake

myObstacles.push(new component(268, 169, "green", 302, 0)); //right snake

myObstacles.push(new component(195, 140, "green", 0, 0)); // left water1
myObstacles.push(new component(215, 91, "green", 0, 0)); // left water2
myObstacles.push(new component(203, 117, "green", 0, 0)); // left water3
}

else if (room == "EnchantedA1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 20)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 216, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 391, 0)); //right wall end

}
else if (room == "EnchantedA2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 0)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
}
else if (room == "EnchantedA3"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 0)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
}
else if (room == "EnchantedB1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 15)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 278, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 444, 0)); //right wall end
}
else if (room == "EnchantedB2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 91)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 529, 0)); //right wall end

myObstacles.push(new component(488, 149, "green", 0, 0)); //rock

myObstacles.push(new component(268, 206, "green", 0, 0)); //tower

}
else if (room == "EnchantedB3"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 0)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
}
else if (room == "EnchantedC1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 0)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 168)); //bottom bar
myObstacles.push(new component(3, 280, "green", 206, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
}
else if (room == "EnchantedC2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 41)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 198)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(187, 57, "green", 0, 0)); //top left bush

}
else if (room == "EnchantedC3"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 114)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 271)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 194, 0)); //right wall end
}

else if (room == "pirate4"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 81)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 152)); //bottom bar
myObstacles.push(new component(3, 280, "green", 265, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 426, 0)); //right wall end
}

else if (room == "pirate3"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0,129)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 236)); //bottom bar
myObstacles.push(new component(3, 280, "green", 225, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 463, 0)); //right wall end
}

else if (room == "pirate2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 135)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 55, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(429, 60, "green", 141, 224)); //bottom dragon
}

else if (room == "pirate1"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 47)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 118)); //bottom bar
myObstacles.push(new component(3, 280, "green", 163, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 263, 0)); //right wall end
}

else if (room == "sereniadesertlamp"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 187)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 259)); //bottom bar
myObstacles.push(new component(3, 280, "green", 156, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 466, 0)); //right wall end
}

else if (room == "sereniadesert2"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 100)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(34, 115, "green", 453, 0)); //lamp
}


else if (room == "daventrytown"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 137)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(25, 154, "green", 371, 0)); //dog

} //end daventrytown

else if (room == "daventrystore"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 27)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 180, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 393, 0)); //right wall end

myObstacles.push(new component(200, 83, "green", 263, 0)); //counter

} //end daventrystore

else if (room == "daventrystoredoor"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 27)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 180, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 393, 0)); //right wall end

myObstacles.push(new component(200, 83, "green", 263, 0)); //counter

} //end daventrystore

else if (room == "daventry"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 156)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 228)); //bottom bar
myObstacles.push(new component(3, 280, "green", 122, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 409, 0)); //right wall end

} //end daventry

else if (room == "edgeoftheworld"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 75)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 172)); //bottom bar
myObstacles.push(new component(3, 280, "green", 230, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 336, 0)); //right wall end

} //end edgeoftheworld

else if (room == "edgeoftheworlddry"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 63)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 172)); //bottom bar
myObstacles.push(new component(3, 280, "green", 143, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 336, 0)); //right wall end

myObstacles.push(new component(235, 140, "green", 0, 142)); //left bottom box

} //end edgeoftheworld

else if (room == "tanalore"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 130)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 25, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(2, 124, "green", 363, 0)); //door

}//end tanalore

else if (room == "llewdor"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 111)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 261)); //bottom bar
myObstacles.push(new component(3, 280, "green", 84, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 483, 0)); //right wall end

myObstacles.push(new component(256, 172, "green", 0, 0)); //house
//house


} //end llewdor

else if (room == "whaledoor"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 132)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 523, 0)); //right wall end

myObstacles.push(new component(168, 45, "green", 402, 240)); //boat box

myObstacles.push(new component(2, 145, "green", 59, 0)); //door box

}

else if (room == "neptune"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 0)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(38, 24, "green", 248, 256)); //door
}

else if (room == "neptunedoor"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 0)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

} //end neptunedoor

else if (room == "tanaloredesert"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 138)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

}

else if (room == "tanaloredesertdoor"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 138)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

}

else if (room == "sereniadesert"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 142)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
}

else if (room == "sereniadesertopen"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 142)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end sereniadesert2

else if (room == "swamp" || room == "swampsnake"|| room == "swampdoor"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 169)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 420, 0)); //right wall end

//step slivers
myObstacles.push(new component(2, 280, "green", 25, 0)); //step1l
myObstacles.push(new component(20, 100, "green", 30, 110)); //step1bottom
myObstacles.push(new component(9, 280, "green", 53, 0)); //step1r

myObstacles.push(new component(20, 100, "green", 68, 115)); //step2bottom
myObstacles.push(new component(2, 280, "green", 92, 0)); //step2r

myObstacles.push(new component(20, 100, "green", 100, 110)); //step3bottom
myObstacles.push(new component(2, 280, "green", 122, 0)); //step3r

myObstacles.push(new component(20, 100, "green", 135, 115)); //step4bottom
myObstacles.push(new component(2, 280, "green", 158, 0)); //step4r 

myObstacles.push(new component(20, 5, "green", 161, 210)); //water top

myObstacles.push(new component(2, 280, "green", 196, 0)); //islandL

myObstacles.push(new component(347, 10, "green", 199, 240)); //bottom island

} //end swamp

else if (room == "church1"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 196)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end
} //end church 1

else if (room == "church2"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 190)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
} //end church 2

else if (room == "church2door"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 190)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(2, 199, "green", 153, 0)); //left full rail

} //end church 2door

else if (room == "church3"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 80)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end

myObstacles.push(new component(256, 145, "green", 0, 145)); //left pew
myObstacles.push(new component(256, 145, "green", 312, 145)); //right pew
} //end church3

else if (room == "portbruce"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 81)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 280)); //bottom bar
myObstacles.push(new component(3, 280, "green", 187, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 570, 0)); //right wall end

myObstacles.push(new component(203, 86, "green", 367, 194)); //botm right box

myObstacles.push(new component(349, 113, "green", 0, 0)); //sign box
myObstacles.push(new component(320, 124, "green", 0, 0)); //store boxes
myObstacles.push(new component(295, 127, "green", 0, 0)); //store boxes
myObstacles.push(new component(287, 141, "green", 0, 0)); //store boxes
myObstacles.push(new component(260, 149, "green", 0, 0)); //store boxes
myObstacles.push(new component(245, 160, "green", 0, 0)); //store boxes
myObstacles.push(new component(208, 175, "green", 0, 0)); //store boxes
myObstacles.push(new component(192, 179, "green", 0, 0)); //store boxes
} //end portbruce

else if (room == "portbrucedock"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 76)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 198)); //bottom bar
myObstacles.push(new component(3, 280, "green", 0, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 430, 0)); //right wall end
}//end portbrucedock

else if (room == "dolphin"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 188)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 259)); //bottom bar
myObstacles.push(new component(3, 280, "green", 240, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
}//end dolphin

else if (room == "dangerouscurrents"){
var myObstacle;
myObstacles = [];
myObstacles.push(new component(546, 5, "green", 0, 151)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 240)); //bottom bar
myObstacles.push(new component(3, 280, "green", 240, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 546, 0)); //right wall end
}//end dolphin

else if (room == "portbrucestore"){
var myObstacle;
myObstacles = [];

myObstacles.push(new component(546, 5, "green", 0, 151)); //topbar
myObstacles.push(new component(546, 10, "green", 0, 260)); //bottom bar
myObstacles.push(new component(3, 280, "green", 155, 0)); //left full rail
myObstacles.push(new component(25, 280, "green", 432, 0)); //right wall end

myObstacles.push(new component(247, 161, "green", 0, 0)); //dog

}//end portbrucestore


} //end function
////////////////////////////////////////////////////////////////////
function ingredientCalculator(){

if(gotGrail == 0){
textVar3 = "And we must find\nthe Holy Grail!";
}

if(correctIngredients == 1){
textVar2 = "Cedric the Grey:\nAstounding work!\nNine more ingredients\nto go!";
} 
else if(correctIngredients == 2){
textVar2 = "Cedric the Grey:\nGood!\nEight more ingredients\nto go!";
}
else if(correctIngredients == 3){
textVar2 = "Cedric the Grey:\nYes!\nSeven more ingredients\nto go!";
}
else if(correctIngredients == 4){
textVar2 = "Cedric the Grey:\nProgress!\nSix more ingredients\nto go!";
}
else if(correctIngredients == 5){
textVar2 = "Cedric the Grey:\nHalfway there!\nFive more ingredients\nto go";
}
else if(correctIngredients == 6){
textVar2 = "Cedric the Grey:\nTerrific!\nFour more ingredients\nto go";
}
else if(correctIngredients == 7){
textVar2 = "Cedric the Grey:\nGetting close now!\nOnly three more ingredients\nto add";
}
else if(correctIngredients == 8){
textVar2 = "Cedric the Grey: Great!\nOnly two more ingredients\nleft to go!";
}
else if(correctIngredients == 9){
textVar2 = "Cedric the Grey:\nWe're so close now.\nOnly one more to add";
}
else if(correctIngredients == 10){
textVar2 = "Cedric the Grey:That's it,\nyour highness. All ten.\nThe purest red wine.\nSuch rubbish transformed to\nsuch beautiful sacrament.\nIsn't that the way\nof things, Graham";

/*
if(gotGrail == 0){
textVar3 = "Cedric the Grey:\nNow we only need \nthe Holy Grail to \nput the elixir in";
} else{
textVar3 = "Cedric the Grey:\nNow you only need \nto put the elixir\nin the Holy Grail!";
}
*/

}
else if(correctIngredients == 11){
textVar2 = "Cedric the Grey:\nYou have all ten\ningredients, and one extra!";
}
else if(correctIngredients == 12){
textVar2 = "Cedric the Grey:\nYou have all ten\ningredients, and two extra!";
}
else if(correctIngredients == 13){
textVar2 = "Cedric the Grey:\nYou have all ten\ningredients, and three extra!";
}
else if(correctIngredients == 14){
textVar2 = "Cedric the Grey:\nYou have all ten\ningredients, and four extra!";
}
else if(correctIngredients == 15){
textVar2 = "Cedric the Grey:\nYou have all ten\ningredients, and five extra!";
}
else if(correctIngredients == 16){
textVar2 = "Cedric the Grey:\nYou have all ten\ningredients, and six extra!";
}
else if(correctIngredients == 17){
textVar2 = "Cedric the Grey:\nYou have all ten\ningredients, and seven extra!";
}
else if(correctIngredients == 18){
textVar2 = "Cedric the Grey:\nYou have all ten\ningredients, and eight extra!";
}
else if(correctIngredients == 19){
textVar2 = "Cedric the Grey:\nYou have all ten\ningredients, and nine extra!";
}
else if(correctIngredients == 20){
textVar2 = "Cedric the Grey:\nYou have all ten\ningredients, and ten extra!";
}
else if(correctIngredients == 21){
textVar2 = "Cedric the Grey:\nYou have all\ntwenty-one ingredients!\nYou are an amazing\ntraveler!\nWhat an accomplishment!";
}




}//end function
////////////FOREGROUND OBJECTS///////////////////////////////////////
function foregroundItems(){

myForegroundItem = new component(10, 0, "transparent.png",0, 0, "image");
myForegroundItem2 = new component(10, 0, "transparent.png",0, 0, "image");



if (room == "castleFront"){

if (mermaidHappy == 0){
if (iterFour == 0){
myForegroundItem = new component(546, 280, "castlemermaidsForeground1.png",0, 0, "image");
} else if (iterFour == 1){
myForegroundItem = new component(546, 280, "castlemermaidsForeground2.png",0, 0, "image");
}
 else if (iterFour == 2){
myForegroundItem = new component(546, 280, "castlemermaidsForeground3.png",0, 0, "image");
}
 else if (iterFour == 3){
myForegroundItem = new component(546, 280, "castlemermaidsForeground4.png",0, 0, "image");
}
} else {
if (iterFour == 0){
myForegroundItem = new component(546, 280, "castlecatForeground1.png",0, 0, "image");
} else if (iterFour == 1){
myForegroundItem = new component(546, 280, "castlecatForeground2.png",0, 0, "image");
}
 else if (iterFour == 2){
myForegroundItem = new component(546, 280, "castlecatForeground3.png",0, 0, "image");
}
 else if (iterFour == 3){
myForegroundItem = new component(546, 280, "castlecatForeground4.png",0, 0, "image");
}

if(gotShell == 0){
myForegroundItem2 = new component(546, 280, "mermaidshellForeground.png", 0, 0, "image");
}

}

iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}


}//end castleFront

else if (room == "castleFront2"){

if(gotJournal == 0){
if (iterFour == 0){
myForegroundItem = new component(546, 280, "castleFront2Foreground1.png",0, 0, "image");
} else if (iterFour == 1){
myForegroundItem = new component(546, 280, "castleFront2Foreground2.png",0, 0, "image");
} else if (iterFour == 2){
myForegroundItem = new component(546, 280, "castleFront2Foreground3.png",0, 0, "image");
} else if (iterFour == 3){
myForegroundItem = new component(546, 280, "castleFront2Foreground4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}

} else {

if (iterFour == 0){
myForegroundItem = new component(546, 280, "castleFront2ValaniceForeground1.png",0, 0, "image");
} else if (iterFour == 1){
myForegroundItem = new component(546, 280, "CastleFront2ValaniceForeground2.png",0, 0, "image");
} else if (iterFour == 2){
myForegroundItem = new component(546, 280, "CastleFront2ValaniceForeground3.png",0, 0, "image");
} else if (iterFour == 3){
myForegroundItem = new component(546, 280, "CastleFront2ValaniceForeground4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}

}

}//end castleFront2

else if (room == "A2lake"){

if (iterFour == 0){
myBackground = new component(546, 280, "A2lake1.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "A2lake2.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "A2lake3.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "A2lake4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}

} //end A2lake

else if (room == "A1clover"){
if (gotFiddle == 0 && playedFiddle == 0){
oldBackground = new component(546, 280, "A1cloverLeprechaunBackground1.png",0, 0, "image");
myBackground = new component(546, 280, "A1cloverLeprechaunBackground1.png",0, 0, "image");
} else if(gotFiddle == 1 && playedFiddle == 0) {
myBackground = new component(546, 280, "A1cloverLeprechaunBackground2.png",0, 0, "image");
oldBackground = new component(546, 280, "A1cloverLeprechaunBackground2.png",0, 0, "image");
} 

}//end A1clover

else if (room == "rumplestiltskin"){
if (iterTwo == 0){
myForegroundItem2 = new component(546, 280, "rumplestiltskinForeground1.png",0, 0, "image");
} else if (iterTwo == 1){
myForegroundItem2 = new component(546, 280, "rumplestiltskinForeground2.png",0, 0, "image");
}
iterTwo = iterTwo + 1;
if (iterTwo > 1){
iterTwo = 0;
}

} //end rumplestiltskin

else if (room == "C1pooltoy"){

if (iterTwo == 0){
myBackground = new component(546, 280, "C1pooltoy.png",0, 0, "image");
} else if (iterTwo == 1){
myBackground = new component(546, 280, "C1pooltoy2.png",0, 0, "image");
}
iterTwo = iterTwo + 1;
if (iterTwo > 1){
iterTwo = 0;
}

}

else if (room == "hood"){
if (iterFour == 0){
myForegroundItem = new component(546, 280, "hoodForeground1.png",0, 0, "image");
} else if (iterFour == 1){
myForegroundItem = new component(546, 280, "hoodForeground2.png",0, 0, "image");
}
 else if (iterFour == 2){
myForegroundItem = new component(546, 280, "hoodForeground3.png",0, 0, "image");
}
 else if (iterFour == 3){
myForegroundItem = new component(546, 280, "hoodForeground4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}

if (gotCoin == 0){
myForegroundItem2 = new component(546, 280, "hoodCoin.png", 0, 0, "image");
}

}//end hood

else if (room == "mill"){
if (iterFour == 0){
myForegroundItem = new component(546, 280, "millForeground1.png",0, 0, "image");
} else if (iterFour == 1){
myForegroundItem = new component(546, 280, "millForeground2.png",0, 0, "image");
}
 else if (iterFour == 2){
myForegroundItem = new component(546, 280, "millForeground3.png",0, 0, "image");
}
 else if (iterFour == 3){
myForegroundItem = new component(546, 280, "millForeground4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
}//end mill


else if ((room == "manannan" || room == "manannanDoor"|| room == "manannanmap"||room == "manannanfinal")&&lookingatmap == 0){

if(madeCookie == 1 && gotCookie == 0){
myForegroundItem2 = new component(546, 280, "manannanForegroundCookie.png",0, 0, "image");
}
if (becameCat == 1){
myForegroundItem2 = new component(546, 280, "manannancat.png",0, 0, "image");
}

if(gotGrail == 1 && madeElixir == 1){
myForegroundItem2 = new component(546, 280, "manannanForegroundMapElixirGrail.png",0, 0, "image");
} 
else if(gotGrail == 0 && madeElixir == 1){
myForegroundItem2 = new component(546, 280, "manannanForegroundMapElixir.png",0, 0, "image");
}
else if(gotGrail == 1 && madeElixir == 0){
myForegroundItem2 = new component(546, 280, "manannanForegroundMapGrail.png",0, 0, "image");
}


if (iterFour == 0){
myForegroundItem = new component(546, 280, "manannanfire1.png",0, 0, "image");
} else if (iterFour == 1){
myForegroundItem = new component(546, 280, "manannanfire2.png",0, 0, "image");
} else if (iterFour == 2){
myForegroundItem = new component(546, 280, "manannanfire3.png",0, 0, "image");
} else if (iterFour == 3){
myForegroundItem = new component(546, 280, "manannanfire4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}

} //end manannan


else if (room == "dangerouscurrents"){
if (iterTwo == 0){
myForegroundItem = new component(546, 280, "dangerouscurrentsForeground1.png",0, 0, "image");
} else if (iterTwo == 1){
myForegroundItem = new component(546, 280, "dangerouscurrentsForeground2.png",0, 0, "image");
}
iterTwo = iterTwo + 1;
if (iterTwo > 1){
iterTwo = 0;
}

} //end dangerouscurrents

else if (room == "edgeoftheworld"){
if(gotIngredient == 1){
myBackground = new component(546, 280, "edgeoftheworldForegrounddoor.png",0, 0, "image");
myForegroundItem = new component(546, 280, "transparent.png",0, 0, "image");

}

} //end edgeoftheworld

else if (room == "sereniadesertlamp"){

if (iterTwo == 0){
myForegroundItem = new component(546, 280, "sereniadesertgenieForeground1.png",0, 0, "image");
} else if (iterTwo == 1){
myForegroundItem = new component(546, 280, "sereniadesertgenieForeground2.png",0, 0, "image");
}
iterTwo = iterTwo + 1;
if (iterTwo > 1){
iterTwo = 0;
}

} //end sereniadesertlamp


else if (room == "charon"){

if (iterTwo == 0){
myBackground = new component(546, 280, "charon.png",0, 0, "image");
} else if (iterTwo == 1){
myBackground = new component(546, 280, "charon2.png",0, 0, "image");
}
iterTwo = iterTwo + 1;
if (iterTwo > 1){
iterTwo = 0;
}

}

/*  //NOT WORKING
else if (room == "pirate1"){
if (iterTwo == 0){
myForegroundItem = new component(546, 280, "pirate1flagforeground.png",0, 0, "image");
} else if (iterTwo == 1){
myForegroundItem = new component(546, 280, "transparent.png",0, 0, "image");
}
iterTwo = iterTwo + 1;
if (iterTwo > 1){
iterTwo = 0;
}

} //end pirate1
*/

else if (room == "northernsea"){
if (iterTwo == 0){
myBackground = new component(546, 280, "northernsea.png",0, 0, "image");
} else if (iterTwo == 1){
myBackground = new component(546, 280, "northernsea1.png",0, 0, "image");
}
iterTwo = iterTwo + 1;
if (iterTwo > 1){
iterTwo = 0;
}

} //end northernsea

else if (room == "moon" && gotIngredient >= 3){

if (iterTwo == 0){
myBackground = new component(546, 280, "moondoor.png",0, 0, "image");
} else if (iterTwo == 1){
myBackground = new component(546, 280, "moondoor2.png",0, 0, "image");
}
iterTwo = iterTwo + 1;
if (iterTwo > 1){
iterTwo = 0;
}

}

else if (room == "tanaloredesert" || room == "tanaloredesertdoor"){

if (iterTwo == 0){
myForeground = new component(546, 280, "tanaloredesertForeground1.png",0, 0, "image");
} else if (iterTwo == 1){
myForeground = new component(546, 280, "tanaloredesertForeground2.png",0, 0, "image");
}
iterTwo = iterTwo + 1;
if (iterTwo > 1){
iterTwo = 0;
}
}

else if (room == "EnchantedC3"){

if (iterTwo == 0){
myForeground = new component(546, 280, "EnchantedC3Foreground1.png",0, 0, "image");
} else if (iterTwo == 1){
myForeground = new component(546, 280, "EnchantedC3Foreground2.png",0, 0, "image");
}
iterTwo = iterTwo + 1;
if (iterTwo > 1){
iterTwo = 0;
}
}


}//end function
////////////////////////////////////////////////////////////////////

///////////////ANIMATE FAST/////////////////////////////////////////////////

function animatefast(){



if (room == "gardenNorthCliff"){

if (iterFour == 0){
myBackground = new component(546, 280, "gardenNorthCliffForeground1.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "gardenNorthCliffForeground2.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "gardenNorthCliffForeground3.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "gardenNorthCliffForeground4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
}//end gardenNorthCliff

else if (room == "throneRoom1" && bowing == 1){

if (iterFour == 0){

myGamePiece = new component(52, 64, "bow1.png", myGamePiece.x-28, myGamePiece.y, "image");
oldthronefile = "mirrorbow1.png";

} else if (iterFour == 1 || iterFour == 2){
myGamePiece = new component(52, 64, "bow2.png", myGamePiece.x, myGamePiece.y, "image");
oldthronefile = "mirrorbow2.png";
} else if (iterFour == 3|| iterFour == 4){
myGamePiece = new component(52, 64, "bow3.png", myGamePiece.x, myGamePiece.y, "image");
oldthronefile = "mirrorbow3.png";
} else if (iterFour == 5|| iterFour == 6){
myGamePiece = new component(52, 64, "bow4.png", myGamePiece.x, myGamePiece.y, "image");
oldthronefile = "mirrorbow4.png";
} else if (iterFour == 7|| iterFour == 8){
myGamePiece = new component(52, 64, "bow5.png", myGamePiece.x, myGamePiece.y, "image");
oldthronefile = "mirrorbow5.png";
} else if (iterFour == 9|| iterFour == 10){
myGamePiece = new component(52, 64, "bow6.png", myGamePiece.x, myGamePiece.y, "image");
oldthronefile = "mirrorbow6.png";
} else if (iterFour == 11|| iterFour == 12){
myGamePiece = new component(52, 64, "bow7.png", myGamePiece.x, myGamePiece.y, "image");
oldthronefile = "mirrorbow7.png";
} else if (iterFour == 13|| iterFour == 14){
myGamePiece = new component(52, 64, "bow8.png", myGamePiece.x, myGamePiece.y, "image");
oldthronefile = "mirrorbow8.png";
} else if (iterFour == 15|| iterFour == 16){
myGamePiece = new component(52, 64, "bow9.png", myGamePiece.x, myGamePiece.y, "image");
oldthronefile = "mirrorbow9.png";
} else if (iterFour == 17|| iterFour == 18){
myGamePiece = new component(52, 64, "bow10.png", myGamePiece.x, myGamePiece.y, "image");
oldthronefile = "mirrorbow10.png";
} 
else if (iterFour == 19){
myGamePiece = new component(24, 64, "walkleft3.png", myGamePiece.x + 28, myGamePiece.y, "image");
oldthronefile = youngleft[walkiter];
}
else if (iterFour == 20){
myGamePiece = new component(24, 64, "walkleft3.png", myGamePiece.x, myGamePiece.y, "image");
oldthronefile = youngleft[walkiter];

}

iterFour = iterFour + 1;
if (iterFour > 20){
iterFour = 0;
bowing = 0;
}
}//end throneroom1 bow

else if (room == "throneroomgrail" && bowing == 1){

if (iterFour == 0){

myGamePiece = new component(52, 64, "bowend1.png", myGamePiece.x-28, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = "mirrorbow1.png";
}
} else if (iterFour == 1){
myGamePiece = new component(52, 64, "bowend2.png", myGamePiece.x, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = "mirrorbow2.png";
}
} else if (iterFour == 2){
myGamePiece = new component(52, 64, "bowend3.png", myGamePiece.x, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = "mirrorbow3.png";
}
} else if (iterFour == 3){
myGamePiece = new component(52, 64, "bowend4.png", myGamePiece.x, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = "mirrorbow4.png";
}
} else if (iterFour == 4){
myGamePiece = new component(52, 64, "bowend5.png", myGamePiece.x, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = "mirrorbow5.png";
}
} else if (iterFour == 5){
myGamePiece = new component(52, 64, "bowend6.png", myGamePiece.x, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = "mirrorbow6.png";
}
} else if (iterFour == 6){
myGamePiece = new component(52, 64, "bowend7.png", myGamePiece.x, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = "mirrorbow7.png";
}
} else if (iterFour == 7){
myGamePiece = new component(52, 64, "bowend8.png", myGamePiece.x, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = "mirrorbow8.png";
}
} else if (iterFour == 8){
myGamePiece = new component(52, 64, "bowend9.png", myGamePiece.x, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = "mirrorbow9.png";
}
} else if (iterFour == 9){
myGamePiece = new component(52, 64, "bowend10.png", myGamePiece.x, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = "mirrorbow10.png";
}
} 
else if (iterFour == 10){
myGamePiece = new component(24, 64, "walklefty3.png", myGamePiece.x + 28, myGamePiece.y, "image");
if(gotIngredient == 0){
oldthronefile = youngleft[walkiter];
}
}

iterFour = iterFour + 1;
if (iterFour > 10){
iterFour = 0;
bowing = 0;
}
}//end throneroomgrail bow

else if (room == "castleFront"){

if (iterFour == 0){
myBackground = new component(546, 280, "castleFrontflag4.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "castleFrontflag3.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "castleFrontflag2.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "castleFront.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
}//end castlefront

else if (room == "castleFront2"){

if (iterFour == 0){
myBackground = new component(546, 280, "castleFront24.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "castleFront23.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "castleFront22.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "castleFront2.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
}//end castlefront


else if (room == "rumplestiltskin"){

rumpleRand = Math.floor(Math.random() * 10);
if(rumpleRand > 4){
rumpleY += 2;
} else {
rumpleY -= 2;
}
if(rumpleY < -20){
rumpleY += 2;
} else if (rumpleY > 30){
rumpleY -=2;
}

if (iterFour == 0){
myForegroundItem = new component(546, 280, "rumplego.png",0, rumpleY, "image");
} else if (iterFour == 1){
myForegroundItem = new component(546, 280, "rumplego.png",0, rumpleY, "image");
} else if (iterFour == 2){
myForegroundItem = new component(546, 280, "rumplego.png",0, rumpleY, "image");
} else if (iterFour == 3){
myForegroundItem = new component(546, 280, "rumplego.png",0, rumpleY, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
}

else if (room == "A1clover" && playedFiddle == 1){

if (iterFour == 0){
myBackground = new component(546, 280, "leprechaunDance1.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "leprechaunDance2.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "leprechaunDance3.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "leprechaunDance4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}

}//end A1clover dance

else if (room == "A1clover" && playedFiddle == 2){

if (iterFour == 0){
myBackground = new component(546, 280, "leprechaunDanceRainbow1.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "leprechaunDanceRainbow2.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "leprechaunDanceRainbow3.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "leprechaunDanceRainbow4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}

}//end A1clover dance


else if (room == "stalk2" || room == "stalk3" || room == "stalkTop"){
if (iterFour == 0){
myForegroundItem = new component(34, 25, "owlfly2right.png",60, myGamePiece.y, "image");
} else if (iterFour == 1){
myForegroundItem = new component(34, 25, "owlfly3right.png",60, myGamePiece.y, "image");
} else if (iterFour == 2){
myForegroundItem = new component(34, 25, "owlfly4right.png",60, myGamePiece.y, "image");
} else if (iterFour == 3){
myForegroundItem = new component(34, 25, "owlfly5right.png",60, myGamePiece.y, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
}//end gardenNorthCliff

else if(room == "journal2"){
if(scrolling == 1){
myForegroundItem = new component(1638, 280, "scroll.png",xlocation, 0, "image");

if(myGameArea.key && myGameArea.key == 39){
speed = 0;
xlocation = xlocation - 2;

}
}

if(readingJournal == 0){
if (iterFour == 0){
myForegroundItem2 = new component(34, 25, "owlfly2right.png",60, 100, "image");
} else if (iterFour == 1){
myForegroundItem2 = new component(34, 25, "owlfly3right.png",60, 100, "image");
} else if (iterFour == 2){
myForegroundItem2 = new component(34, 25, "owlfly4right.png",60, 100, "image");
} else if (iterFour == 3){
myForegroundItem2 = new component(34, 25, "owlfly5right.png",60, 100, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
}



if (xlocation < -1242){
scrolling = 0;
heardStory = 1;
xlocation = 0;
}

if(heardStory == 1 && readingJournal == 1){
 myForegroundItem2 = new component(546, 280, "journalpage.png",0, 0, "image");

  if (myGameArea.key == false){
    toggleJournal = 1;
    }
 
 if(myGameArea.key && (myGameArea.key == 39 || myGameArea.key == 13 || myGameArea.key == 37|| myGameArea.key == 38|| myGameArea.key == 40)){

    if (toggleJournal == 1){
     readingJournal = 0;
     toggleJournal = 0;
    }
 }
 
}
} //end journal2

else if(room == "manannanmap"){

if(lookingatmap == 1){
speed = 0;
yspeed = 0;
}

if(heardStory == 1 && readingJournal == 1){
 myForegroundItem2 = new component(546, 280, "journalpage.png",0, 0, "image");

  if (myGameArea.key == false){
    toggleJournal = 1;
    }
 
 if(myGameArea.key && (myGameArea.key == 39 || myGameArea.key == 13 || myGameArea.key == 37|| myGameArea.key == 38|| myGameArea.key == 40)){

    if (toggleJournal == 1){
     readingJournal = 0;
     toggleJournal = 0;
    }
 }
 
}



} //end manannanmap


else if(room == "dangerouscurrents"){
myGamePiece.x += 7;

if (iterFour == 0){
myForegroundItem2 = new component(34, 25, "owlfly2right.png",400, 50, "image");
} else if (iterFour == 1){
myForegroundItem2 = new component(34, 25, "owlfly3right.png",400, 50, "image");
} else if (iterFour == 2){
myForegroundItem2 = new component(34, 25, "owlfly4right.png",400, 50, "image");
} else if (iterFour == 3){
myForegroundItem2 = new component(34, 25, "owlfly5right.png",400, 50, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end dangerous currents

else if (room == "vulcanix"){

if (iterFour == 0){
myBackground = new component(546, 280, "volcanix1.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "volcanix2.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "volcanix3.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "volcanix4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
}//end vulcanix

else if(room == "landofthedead" && gotIngredient == 1){
if (iterFour == 0){
myBackground = new component(546, 280, "deadbackground1.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "deadbackground2.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "deadbackground3.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "deadbackground4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end landofthedead

else if(room == "edgeoftheworld"){
if (iterFour == 0){
myBackground = new component(546, 280, "edgeoftheworldForeground1.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "edgeoftheworldForeground2.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "edgeoftheworldForeground3.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "edgeoftheworldForeground4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end edgeoftheworld

else if(room == "edgeoftheworlddry" && textVar == ""){
if (iterFour == 0){
myBackground = new component(546, 280, "edgeoftheworldForegrounddry1.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "edgeoftheworldForegrounddry2.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "edgeoftheworldForegrounddry3.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "edgeoftheworldForegrounddry4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end edgeoftheworld

else if(room == "realmdoor1" && gotIngredient == 1 && textVar == ""){
 room = "realmdoor2";
     changeToNewScreen("realmdoor2.png", "transparent.png", "goingUp",264,208);
   speed = 0;
   yspeed = 0;
   gotIngredient = 0;
}

else if(room == "realmdoor2" && gotIngredient == 1 && textVar == ""){
 room = "realmdoor3";
     changeToNewScreen("realmdoor3.png", "transparent.png", "goingUp",264,208);
   speed = 0;
   yspeed = 0;
   gotIngredient = 0;
}

else if(room == "realmdoor3" && gotIngredient == 1 && textVar == ""){
 room = "realmofthesun";
 if(gotConnor == 1){ 
     changeToNewScreen("realmofthesun.png", "transparent.png", "goingUp",264,208);
   }else{
    changeToNewScreen("realmofthesunnoconnor.png", "transparent.png", "goingUp",264,208);
   }
   speed = 0;
   yspeed = 0;
   gotIngredient = 0;
}


else if(room == "witchlair2"){

if (iterFour == 0){
myForeground = new component(546, 280, "witchcrispin1.png",0, 0, "image");
} else if (iterFour == 1){
myForeground = new component(546, 280, "witchcrispin2.png",0, 0, "image");
} else if (iterFour == 2){
myForeground = new component(546, 280, "witchcrispin3.png",0, 0, "image");
} else if (iterFour == 3){
myForeground = new component(546, 280, "witchcrispin4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end mordack


else if(room == "mordack1"){

if (iterFour == 0){
myBackground = new component(546, 280, "mordackForeground1L.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "mordackForeground2L.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "mordackForeground3L.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "mordackForeground4L.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end mordack

else if(room == "fairy3"){

if (iterFour == 0){
myBackground = new component(546, 280, "fairy31.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "fairy32.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "fairy33.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "fairy34.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end fairy3

else if(room == "tanalore"){
if (iterFour == 0){
myForegroundItem2 = new component(546, 280, "tanaloreForegroundbees1.png",0, 0, "image");
} else if (iterFour == 1){
myForegroundItem2 = new component(546, 280, "tanaloreForegroundbees2.png",0, 0, "image");
} else if (iterFour == 2){
myForegroundItem2 = new component(546, 280, "tanaloreForegroundbees3.png",0, 0, "image");
} else if (iterFour == 3){
myForegroundItem2 = new component(546, 280, "tanaloreForegroundbees4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end tanalore

else if(room == "serenia"){
if (iterFour == 0){
myBackground = new component(546, 280, "sereniaForeground1.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "sereniaForeground2.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "sereniaForeground3.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "sereniaForeground4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end serenia

else if(room == "rockyflying"){

if (iterFour == 0){
myForegroundItem = new component(546, 280, "unicornridingsky1.png",0, 0, "image");
} else if (iterFour == 1){
myForegroundItem = new component(546, 280, "unicornridingsky2.png",0, 0, "image");
} else if (iterFour == 2){
myForegroundItem = new component(546, 280, "unicornridingsky3.png",0, 0, "image");
} else if (iterFour == 3){
myForegroundItem = new component(546, 280, "unicornridingsky4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end rockyflying

else if(room == "tamir2dark"){ //lightening
if (iterFour == 0){
myForegroundItem = new component(546, 280, "tamir2darkforeground1.png",0, 0, "image");
} else if (iterFour == 1){
myForegroundItem = new component(546, 280, "transparent.png",0, 0, "image");
} else if (iterFour == 2){
myForegroundItem = new component(546, 280, "tamir2darkforeground4.png",0, 0, "image");
} else if (iterFour == 3){
myForegroundItem = new component(546, 280, "transparent.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end tamir2dark


else if(room == "fairy2"){
if (iterFour == 0){
myForegroundItem2 = new component(39, 40, "fairyred.png",myGamePiece.x, 20, "image");
} else if (iterFour == 1){
myForegroundItem2 = new component(39, 40, "fairyred2.png",myGamePiece.x, 20, "image");
} else if (iterFour == 2){
myForegroundItem2 = new component(39, 40, "fairyred.png",myGamePiece.x, 20, "image");
} else if (iterFour == 3){
myForegroundItem2 = new component(39, 40, "fairyred2.png",myGamePiece.x, 20, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end fairy2

else if(room == "fairy4"){
if (iterFour == 0){
myForegroundItem2 = new component(39, 40, "fairyblue.png",myGamePiece.x, 20, "image");
} else if (iterFour == 1){
myForegroundItem2 = new component(39, 40, "fairyblue2.png",myGamePiece.x, 20, "image");
} else if (iterFour == 2){
myForegroundItem2 = new component(39, 40, "fairyblue.png",myGamePiece.x, 20, "image");
} else if (iterFour == 3){
myForegroundItem2 = new component(39, 40, "fairyblue2.png",myGamePiece.x, 20, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end fairy2


else if(room == "end1"){

if (iterFour == 0){
myForegroundItem2 = new component(34, 25, "owlfly2right.png",myGamePiece.x, 50, "image");
} else if (iterFour == 1){
myForegroundItem2 = new component(34, 25, "owlfly3right.png",myGamePiece.x, 50, "image");
} else if (iterFour == 2){
myForegroundItem2 = new component(34, 25, "owlfly4right.png",myGamePiece.x, 50, "image");
} else if (iterFour == 3){
myForegroundItem2 = new component(34, 25, "owlfly5right.png",myGamePiece.x, 50, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}

}

else if(room == "end2"){
if (iterFour == 0){
myBackground = new component(546, 280, "end21.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "end22.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "end23.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "end24.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end 2

else if(room == "end3"){
if (iterFour == 0){
myBackground = new component(546, 280, "end31.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "end32.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "end33.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "end34.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end 3

else if(room == "castleFrontEnd"){

if (iterFour == 0){
myBackground = new component(546, 280, "castleFrontEnd2.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "castleFrontEnd3.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "castleFrontEnd4.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "castleFrontEnd.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
}

else if(room == "blackscreen"){

if (iterFour == 0){
myBackground = new component(546, 280, "blackscreen1.png",0, 0, "image");
} else if (iterFour == 1){
myBackground = new component(546, 280, "blackscreen2.png",0, 0, "image");
} else if (iterFour == 2){
myBackground = new component(546, 280, "blackscreen3.png",0, 0, "image");
} else if (iterFour == 3){
myBackground = new component(546, 280, "blackscreen4.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}

if(gotIngredient == 1 && textVar == ""){

room = "throneroomgrail";
OldBackgroundfile = "mirrorfront.png";

  myBackground.image = new Image();
  myBackground.image.src = "throneroomgrailrosella.png";
   myBackground.image = new Image();
  myBackground.image.src = "throneroomgrailalexander.png";
   myBackground.image = new Image();
  myBackground.image.src = "throneroomgrailvalanice.png";
     myBackground.image = new Image();
  myBackground.image.src = "throneroomgrailall.png";
     myBackground.image = new Image();
  myBackground.image.src = "throneroomgrailrosellaalexander.png";
   myBackground.image = new Image();
  myBackground.image.src = "throneroomgrailrosellavalanice.png";
  myBackground.image = new Image();
  myBackground.image.src = "throneroomgrailvalanicealexander.png";
  
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow1.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow2.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow3.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow4.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow5.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow6.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow7.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow8.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow9.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow10.png";

myGamePiece.image = new Image();
myGamePiece.image.src = "bowend1.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bowend2.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bowend3.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bowend4.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bowend5.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bowend6.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bowend7.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bowend8.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bowend9.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bowend10.png";

myGamePiece.image.src = "walklefty3.png";

changeToNewScreen("throneroomgrail.png", "throneroomforeground.png", "goingRight",506,145);
speed = 0;
yspeed = 0;
gotIngredient = 0;
}

} //end blackscreen

else if(room == "pirate3" && gotIngredient == 2 && textVar == ""){
 room = "pirate4";
   changeToNewScreen("pirate4.png", "transparent.png", "goingLeft",394,87);
     speed = 0;
     yspeed = 0;
     gotIngredient = 0;
}

else if(room == "theend" && textVar == "" && gotIngredient == 3){
if (iterFour == 0){
myForeground = new component(546, 280, "castleFrontFinaleGoodbye.png",0, 0, "image");
} else if (iterFour == 1){
myForeground = new component(546, 280, "castleFrontFinaleGoodbye.png",0, 0, "image");
} else if (iterFour == 2){
myForeground = new component(546, 280, "castleFrontFinaleGoodbye.png",0, 0, "image");
} else if (iterFour == 3){
myForeground = new component(546, 280, "castleFrontFinaleGoodbye.png",0, 0, "image");
}
iterFour = iterFour + 1;
if (iterFour > 3){
iterFour = 0;
}
} //end edgeoftheworld


}//end function
///////////////////////////////////////////////////////////////////////

function startGame() {
   
   
     myGamePiece = new component(24, 64, "walkright1.png", 237, 71, "image");
     
     myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow1.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow2.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow3.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow4.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow5.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow6.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow7.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow8.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow9.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "mirrorbow10.png";

myGamePiece.image = new Image();
myGamePiece.image.src = "bow1.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bow2.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bow3.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bow4.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bow5.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bow6.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bow7.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bow8.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bow9.png";
myGamePiece.image = new Image();
myGamePiece.image.src = "bow10.png";
     
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontg1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontg2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontg3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontg4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontg5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontg6.png";
     
   
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft6.png";
     
      myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft1young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft2young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft3young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft4young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft5young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft6young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "mirrorback.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "mirrorfront.png";
      myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright1young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright2young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright3young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright4young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright5young.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright6young.png";
     
      myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright6.png";
     
       myGamePiece.image = new Image();
     myGamePiece.image.src = "backg1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backg2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backg3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backg4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backg5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backg6.png";
     
     oldBackground = new component(546, 280, OldBackgroundfile, -149, -53, "image");
    oldForeground = new component(546, 280, "throneroomforeground.png", 0, 0, "image");
      myBackground = new component(546, 280, "throneroom.png", 0, 0, "image");
      myForeground = new component(546, 280, "throneroomforeground.png", 0, 0, "image");
      myForegroundItem = new component(10, 0, "birdcage.png",0, 0, "image");
      myForegroundItem2 = new component(10, 0, "transparent.png",0, 0, "image");
      
      createObstacles();
     myObstacle  = new component(546, 5, "green", 0, 280);  
      
      myGameArea.start();
}

var myGameArea = {
    canvas : document.createElement("canvas"),
    start : function() {
        this.canvas.width = 545.5;
        this.canvas.height = 293.5;
        this.context = this.canvas.getContext("2d");
        document.body.insertBefore(this.canvas, document.body.childNodes[0]);
        this.interval = setInterval(updateGameArea, 20);
        this.intervalGraham = setInterval(updateGraham, 200);
        this.intervalAnimate = setInterval(foregroundItems, 800);
        this.intervalAnimateFast = setInterval(animatefast, 100);
        
        /*
    window.addEventListener('touchmove', function (e) {
      myGameArea.x = e.touches[0].screenX;
      myGameArea.y = e.touches[0].screenY;
    })
        */
        
        window.addEventListener('keydown', function (e) {
            if([37, 38, 39, 40].indexOf(e.keyCode) > -1) {
        e.preventDefault(); //thx Adam
    }
            myGameArea.key = e.keyCode;
           
        })
        window.addEventListener('keyup', function (e) {
            myGameArea.key = false;
        })
    }, 
    clear : function(){
        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
    }
}

function component(width, height, color, x, y, type) {
    this.type = type;
    if (type == "image") {
        this.image = new Image();
        this.image.src = color;
    }
    this.width = width;
    this.height = height;
    this.speedX = 0;
    this.speedY = 0;    
    this.x = x;
    this.y = y;   
    
    this.update = function() {
        ctx = myGameArea.context;
        if (type == "image") {
            ctx.drawImage(this.image, 
                this.x, 
                this.y,
                this.width, this.height);
                
        } else {
            ctx.fillStyle = color;
            ctx.fillRect(this.x, this.y, this.width, this.height);
        }
    }
    this.newPos = function() {
    
        this.x += this.speedX;
        this.y += this.speedY;
        
        
    if(room =="throneRoom1" || room == "throneroomgrail"){
    
    if(OldBackgroundfile == "throneroomgrail.png" || OldBackgroundfile != oldthronefile){
    OldBackgroundfile = oldthronefile;
    }
    
oldBackground = new component(546, 280, OldBackgroundfile,(myGamePiece.x-326), -53, "image"); //mirrorfront

//youngpictures
if(speed == 1 && bowing == 0){
OldBackgroundfile = youngright[walkiter];
}
else if(speed == -1&& bowing == 0){
OldBackgroundfile = youngleft[walkiter];
}
else if(yspeed == -1&& bowing == 0){
OldBackgroundfile = "mirrorfront.png";
}
else if(yspeed == 1&& bowing == 0){
OldBackgroundfile = "mirrorback.png";
}
oldthronefile = OldBackgroundfile;
} //end throneroom1
    
       
        
        for (i = 0; i < myObstacles.length; i += 1) {
    if (myGamePiece.crashWith(myObstacles[i])) {
         
    this.x -= this.speedX;
        this.y -= this.speedY;
         speed = 0;
    yspeed = 0;
    myGamePiece.speedX = 0;
    myGamePiece.speedY = 0;
    checkSpecialCollisionEvents();
  } 
   }     
    }    
    
    this.crashWith = function(otherobj) {
    var myleft = this.x;
    var myright = this.x + (this.width);
    var mytop = this.y;
    var mybottom = this.y + (this.height);
    var otherleft = otherobj.x;
    var otherright = otherobj.x + (otherobj.width);
    var othertop = otherobj.y;
    var otherbottom = otherobj.y + (otherobj.height);
    var crash = true;
    if ((mybottom < othertop) ||
    (mytop > otherbottom) ||
    (myright < otherleft) ||
    (myleft > otherright)) {
      crash = false;
    }
    return crash;
  }
    
}


function updateGraham(){
//yspeed and speed


    
    if (walking == 1){
   if (speed == 1){
        myGamePiece.image.src = walkright[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    } else if (speed == -1){
        myGamePiece.image.src = walkleft[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    } else if (yspeed == 1){
        myGamePiece.image.src = walkfront[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    }
    else if (yspeed == -1){
        myGamePiece.image.src = walkback[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    }
    
   
    
    } else if (climbing == 1){
    if (speed != 0 || yspeed != 0){
    myGamePiece.image.src = climbArray[walkiter];
     walkiter = walkiter + 1;
    if (walkiter > 5){ walkiter = 0;}
    }
    } else if (swimming == 1){
    if (speed != 0 || yspeed != 0){
    myGamePiece.image.src = swimArray[walkiter];
     walkiter = walkiter + 1;
    if (walkiter > 5){ walkiter = 0;}
    }
    }
    else if (small == 1){
    if (speed != 0 || yspeed != 0){
    myGamePiece.image.src = smallArray[walkiter];
     walkiter = walkiter + 1;
    if (walkiter > 5){ walkiter = 0;}
    } else{
    myGamePiece.image.src = smallArray[5];
    }
    }
     //end type of walking/climbing
    else if (grey == 1){
   if (speed == 1){
        myGamePiece.image.src = greyright[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    } else if (speed == -1){
        myGamePiece.image.src = greyleft[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    } else if (yspeed == 1){
        myGamePiece.image.src = greyfront[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    }
    else if (yspeed == -1){
        myGamePiece.image.src = greyback[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    }
    }
    else if (kq == 1){
   if (speed == 1){
        myGamePiece.image.src = kqright[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    } else if (speed == -1){
        myGamePiece.image.src = kqleft[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    } else if (yspeed == 1){
        myGamePiece.image.src = kqfront[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    }
    else if (yspeed == -1){
        myGamePiece.image.src = kqback[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    }
    }
    
    else if (youth == 1){
   if (speed == 1){
        myGamePiece.image.src = youthright[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    } else if (speed == -1){
        myGamePiece.image.src = youthleft[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    } else if (yspeed == 1){
        myGamePiece.image.src = youthfront[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    }
    else if (yspeed == -1){
        myGamePiece.image.src = youthback[walkiter];
        walkiter = walkiter + 1;
        if (walkiter > 5){ walkiter = 0;}
    }
    }
    
    
} //end update graham function

function updateGameArea() {
  if (myGamePiece.crashWith(myObstacle)) {
    speed = 0;
    yspeed = 0;
    myGamePiece.speedX = 0;
    myGamePiece.speedY = 0;
  } 
 
    myGameArea.clear();
    
    oldBackground.update();
    oldForeground.update();
     myBackground.newPos();  
     
    myBackground.update();
    
    myGamePiece.speedX = speed;
    myGamePiece.speedY = yspeed; 
    
    if (myGameArea.key == false){
    toggle = 1;
    
    }
    
    if (toggle == 1 && textVar2.length == 0){
    
    
    /*
    //TOUCHSCREEN QUADRANT CALCULATIONS
    if (myGameArea.y > 0 || myGameArea.x > 0){
    reversedy = 280 - myGameArea.y;
    reversedx = 546 - myGameArea.x;
    slope = reversedy / myGameArea.x;
    reversedslope = reversedy - reversedx;
    
    if (slope < .512 && reversedslope < .512){
    touchdown = 1;
    }
    if (myGameArea.y > 140){
    touchdown = 1;
    }
    } //end quadrant calculations
    */
    
    //PRESSED LEFT
    if (myGameArea.key && myGameArea.key == 37) {
    textVar = "";
    toggle = 0;
    yspeed = 0;
        if (speed == 1){
         myGamePiece.speedX = 0; 
         if(walking == 1){
         myGamePiece.image.src = walkright[2];
         }
        speed = 0;
        }
      else if (speed == -1){
       myGamePiece.speedX = 0; 
        speed = 0;
         if(walking == 1){
         myGamePiece.image.src = walkleft[2];
         }
       } else {
        myGamePiece.speedX = -1; 
        speed = -1;
        if(walking == 1){
        myGamePiece.image.src = walkleft[walkiter];
        }
        }
        }
        //PRESSED RIGHT
    if (myGameArea.key && myGameArea.key == 39) {
    textVar = "";
    toggle = 0;
    yspeed = 0;
    if (speed == -1){
         myGamePiece.speedX = 0; 
        speed = 0;
         if(walking == 1){
        myGamePiece.image.src = walkleft[2];
        }
        }
      else if (speed == 1){
       myGamePiece.speedX = 0; 
        speed = 0;
         if(walking == 1){
        myGamePiece.image.src = walkright[2];
        }
       } else {
        myGamePiece.speedX = 1; 
        speed = 1; 
         if(walking == 1){
        myGamePiece.image.src = walkright[walkiter];
        }
        }
        
        }
        //PRESSED UP
    if (myGameArea.key && myGameArea.key == 38) {
    textVar = "";
    toggle = 0;
    speed = 0;
        if (yspeed == 1){
         myGamePiece.speedY = 0; 
        yspeed = 0;
        }
      else if (yspeed == -1){
       myGamePiece.speedY = 0; 
        yspeed = 0;
       } else {
        myGamePiece.speedY = -1; 
        yspeed = -1;
         if(walking == 1){
        myGamePiece.image.src = walkback[3];
        }
        }
    
    }
    //PRESSED DOWN
    if (myGameArea.key && myGameArea.key == 40) {
    
    textVar = "";
     toggle = 0;
     speed = 0;
    if (yspeed == -1){
         myGamePiece.speedY = 0; 
        yspeed = 0;
         if(walking == 1){
        myGamePiece.image.src = walkback[3];
        }
        }
      else if (yspeed == 1){
       myGamePiece.speedY = 0; 
        yspeed = 0;
       } else {
        myGamePiece.speedY = 1; 
        yspeed = 1; 
        
        }
    
    
    }
    
 
    }
    
   
    
    myGamePiece.newPos();    
    myGamePiece.update();
    
    myForeground.update();
    myForegroundItem.update();
    myForegroundItem2.update();
    
    drawTextBox(textVar);
    
    
  
    
}
///////////////////NEW SCREEN ////////////////////////////////////////////////
function changeToNewScreen(backgroundFile, foregroundFile, position, startPositionX,startPositionY){

oldBackground = new component(546, 280, OldBackgroundfile, 0, 0, "image");
oldForeground = new component(546, 280, OldForegroundfile, 0, 0, "image");
//oldBackground.update();
//oldForeground.update();

myBackground = new component(546, 280, backgroundFile, 0, 0, "image");
myForeground = new component(546, 280, foregroundFile, 0, 0, "image");


OldBackgroundfile = backgroundFile;

OldForegroundfile = foregroundFile;


foregroundItems();

createObstacles();
myGamePiece.x = startPositionX;
myGamePiece.y = startPositionY;

if (position == "goingUp"){
yspeed = -1;
}
else if (position == "goingDown"){
yspeed = 1;
}
else if (position == "goingRight"){
speed = 1;
}
else if (position == "goingLeft"){
speed = -1;
}

}

////////////SPECIAL COLLISION EVENTS///////////////////////////////////////////
function checkSpecialCollisionEvents(){

if (room == "throneRoom1"){
    if (myGamePiece.x > 540){
        if (CompletedThroneRoomRequirements == 0){
        
        textVar = "I just can't leave without \ntelling Valanice I love her";
        
        
        } else if (CompletedThroneRoomRequirements == 1){
        room = "throneRoom2";
        
         myBackground.image.src = "throne2.png";
        changeToNewScreen("throne2.png", "throne2foreground.png", "goingRight",80,153);
        }
        
    }
    
     
    
} else if (room == "throneRoom2"){
    if (myGamePiece.y > 212){
    room = "throneRoom3";
    
    if(CompletedCageRequirements == 0){
    changeToNewScreen("throne3cage.png", "throne3foreground.png", "goingDown",270,100);
    }else{
     changeToNewScreen("throne3.png", "throne3foreground.png", "goingDown",270,100);
    }
    
    }
    else if (myGamePiece.x < 20){
    
    room = "throneRoom1";
    changeToNewScreen("throneroom.png", "throneroomforeground.png", "goingLeft",530,153);
    
    }
}
else if (room == "throneRoom3"){

if (CompletedCageRequirements == 0 && CompletedCageKey == 0){
cedArray = ["Cedric the Grey: \n Going out for another adventure?\nJust like the old days!", "Cedric the Grey: \nOld friend!\nWhat's that over there?\nLook!", "Cedric the Grey: \nLook!\n'Look!'\nLook"];
textVar = cedArray[textIter];
textIter = textIter + 1;
if (textIter > 2){ 
textIter = 0;
}
//textVar = "Cedric the Grey: \n Down here Graham!";

}
else if (CompletedCageKey == 1){
textVar = "Cedric the Grey:\nThe key!";

} else if(CompletedCageKey == 2 && CompletedCageRequirements == 0){
textVar = "Cedric the Grey:\nA true hero";
}else if (CompletedCageRequirements == 1){
    if (myGamePiece.y > 212){
    room = "castleFront";
    myBackground.image = new Image();
     myBackground.image.src = "castleFront.png";
     myBackground.image = new Image();
     myBackground.image.src = "castleFrontflag2.png";
     myBackground.image = new Image();
     myBackground.image.src = "castleFrontflag3.png";
     myBackground.image = new Image();
     myBackground.image.src = "castleFrontflag4.png";
    changeToNewScreen("castleFrontflag4.png", "transparent.png", "goingDown",379,143);
    }
    else if (myGamePiece.y < 120){
    room = "throneRoom2";
    changeToNewScreen("throne2.png", "throne2foreground.png", "goingUp",270,200);
    }
}

} //end throneroom3
else if (room == "castleFront"){
 if (myGamePiece.y > 189){
    textVar = "Cedric the Grey:\nNoooooooo Graham!\n Mermaids, pull him \nout of the moat!";
    myGamePiece.y = 180
    }
    else if (myGamePiece.x > 540){
    
     if (CompletedCastleFrontRequirements == 0){
     textVar = "Mermaid:\nOh, Grammy!";
     }else{
    room = "castleFront2";
    changeToNewScreen("castleFront2.png", "transparent.png", "goingRight",15,180);
    
    
    if (gaveLoadOwlInfo == 0){
    speed = 0;
    textVar = "Cedric the Grey:\nYou've made beautiful progress.\nWhenever you wish to return \nto this point in time, \nlook in the magical mirror \nand speak the incantation,\n'Load Owl'";
    gaveLoadOwlInfo = 1;
    }
    }
    }
}//end castleFront

else if (room == "castleFront2"){
if (myGamePiece.x < 7){
 room = "castleFront";
 
   myBackground.image = new Image();
     myBackground.image.src = "castleFront.png";
     myBackground.image = new Image();
     myBackground.image.src = "castleFrontflag2.png";
     myBackground.image = new Image();
     myBackground.image.src = "castleFrontflag3.png";
     myBackground.image = new Image();
     myBackground.image.src = "castleFrontflag4.png";
 
changeToNewScreen("castleFrontflag4.png", "transparent.png", "goingLeft",530,180);
}
    else if (myGamePiece.y > 189){
    textVar = "Cedric the Grey:\nNoooooooo!\n Mermaids, pull King Graham \nout of the moat!";
    myGamePiece.y = 180;
    }
    else if (myGamePiece.x > 375 && myGamePiece.x < 454 && myGamePiece.y > 169){
    textVar = "Cedric the Grey:\nCareful on that old bridge!\n Mermaids, pull King Graham \nout of the moat!";
        myGamePiece.y = 157;
        myGamePiece.x = 388;
    }
    else if (myGamePiece.x > 290 && myGamePiece.x < 318 && myGamePiece.y < 163 && myGamePiece.y > 130){
    textVar = "Cedric the Grey:\nCareful on that old bridge!\n Mermaids, pull King Graham \nout of the moat!";
     myGamePiece.y = 157;
        myGamePiece.x = 388;
    }
    else if (myGamePiece.y < 127){
    if(plantedSeeds == 0){
    room = "garden";
    changeToNewScreen("garden.png", "transparent.png", "goingUp",432,215);
    }else{
    room = "gardenStalk";
    changeToNewScreen("gardenStalk.png", "transparent.png", "goingUp",432,215);
    }
    
}
    else if (myGamePiece.x > 540){
    myBackground.image = new Image();
     myBackground.image.src = "C1pooltoy2.png";
    myBackground.image = new Image();
     myBackground.image.src = "C1pooltoy.png";
    
    room = "C1pooltoy";
    changeToNewScreen("C1pooltoy.png", "transparent.png", "goingRight",15,180);
}

} //end castleFront2


else if (room == "garden"){
    if (myGamePiece.y < 34){
    room = "gardenNorthCliff";
    changeToNewScreen("gardenNorthCliff.png", "transparent.png", "goingUp",320,215);
     myBackground.image = new Image();
     myBackground.image.src = "gardenNorthCliffForeground1.png";
     myBackground.image = new Image();
     myBackground.image.src = "gardenNorthCliffForeground2.png";
     myBackground.image = new Image();
     myBackground.image.src = "gardenNorthCliffForeground3.png";
     myBackground.image = new Image();
     myBackground.image.src = "gardenNorthCliffForeground4.png";
    }
    else if (myGamePiece.y > 214){
    
     myBackground.image = new Image();
     myBackground.image.src = "castleFront24.png";
   myBackground.image = new Image();
     myBackground.image.src = "castleFront23.png";
    myBackground.image = new Image();
     myBackground.image.src = "castleFront22.png";
     myBackground.image = new Image();
     myBackground.image.src = "castleFront2.png";
    
     myForegroundItem.image = new Image();
     myForegroundItem.image.src = "castleFront2Foreground4.png";
     myForegroundItem.image = new Image();
     myForegroundItem.image.src = "castleFront2Foreground3.png";
     myForegroundItem.image = new Image();
     myForegroundItem.image.src = "castleFront2Foreground2.png";
     myForegroundItem.image = new Image();
     myForegroundItem.image.src = "castleFront2Foreground1.png";
    
    
    room = "castleFront2";
    changeToNewScreen("castleFront2.png", "transparent.png", "goingDown",390,134);
    }
    
     else if (myGamePiece.x > 540){
      room = "fairyGround";
    changeToNewScreen("fairyGround.png", "transparent.png", "goingRight",15,myGamePiece.y);
    }
} //end garden

else if (room == "gardenStalk"){
    if (myGamePiece.y < 34 && myGamePiece.x >230){
    room = "gardenNorthCliff";
    changeToNewScreen("gardenNorthCliff.png", "transparent.png", "goingUp",320,215);
     myBackground.image = new Image();
     myBackground.image.src = "gardenNorthCliffForeground1.png";
     myBackground.image = new Image();
     myBackground.image.src = "gardenNorthCliffForeground2.png";
     myBackground.image = new Image();
     myBackground.image.src = "gardenNorthCliffForeground3.png";
     myBackground.image = new Image();
     myBackground.image.src = "gardenNorthCliffForeground4.png";
    }
    else if (myGamePiece.y > 214){
    room = "castleFront2";
    changeToNewScreen("castleFront2.png", "transparent.png", "goingDown",390,134);
    }
    
     else if (myGamePiece.x > 540){
      room = "fairyGround";
    changeToNewScreen("fairyGround.png", "transparent.png", "goingRight",15,myGamePiece.y);
    }
    
    else if (myGamePiece.y < -34){
    room = "stalk2";
    changeToNewScreen("stalk2.png", "stalk2Foreground.png", "goingUp",228,210);
    if(gotHairpin == 0 && gotPickaxe == 0){
    yspeed = 0;
    speed = 0;
    textVar = "Cedric the Grey:\nI can see the \nmill house from up here.\nYou didn't visit there.\nIt's west of the Strawman";
    textVar2 = "Cedric the Grey:\nIf you want to go back down\njust speak the incantation\n'downous'\nand I'll lower you\nsafe and sound";
    }
    }
    
    else if (myGamePiece.x < 230 && myGamePiece.x > 150 && myGamePiece.y < 114){
    textVar = "Rosegirl:\nCareful Graham!";
    myGamePiece.x = 189;
    myGamePiece.y = 107;
    }
    
} //end gardenStalk

else if (room == "stalk2"){

//vine obstacle
  if (myGamePiece.y < 125 && myGamePiece.y > 80){
    textVar = "Cedric the Grey:\nCatchous Grahamous!\nCaught you my friend!";
    myGamePiece.x = 228;
    myGamePiece.y = 210;
}
else if (myGamePiece.y < -34){
textVar = "Cedric the Grey:\nKeep going Graham!";
    room = "stalk3";
    changeToNewScreen("stalk3.png", "transparent.png", "goingUp",228,210);
    }

//left wall
else if (myGamePiece.x < 220){
   textVar = "Cedric the Grey:\nCatchous Grahamous!\nCaught you Graham!";
    myGamePiece.x = 228;
    myGamePiece.y = 210;
    }
//right wall
else if (myGamePiece.x > 295){
   textVar = "Cedric the Grey:\nCatchous Grahamous!\nCaught you safe and sound!";
    myGamePiece.x = 228;
    myGamePiece.y = 210;
    }

} //end stalk2

else if (room == "stalk3"){

//left wall
 if (myGamePiece.x < 225){
   textVar = "Cedric the Grey:\nCatchous Grahamous!\nCaught you Graham!";
    myGamePiece.x = 228;
    myGamePiece.y = 210;
    }
//right wall
else if (myGamePiece.x > 246){
   textVar = "Cedric the Grey:\nCatchous Grahamous!\nCaught you safe and sound!";
    myGamePiece.x = 228;
    myGamePiece.y = 210;
    }

else if (myGamePiece.y < -34){
    room = "stalkTop";
    changeToNewScreen("stalkTop.png", "stalkTopForeground.png", "goingUp",228,210);
    }

} //end stalk3

else if (room == "stalkTop"){
if (myGamePiece.y < 91){
    climbing = 0;
    walking = 1;
   textVar = "Cedric the Grey:\nExcellent work!";
   myGamePiece.image.src = walkright[2];
    myGamePiece.x = 300;
    myGamePiece.y = 109;
    }
    
    else if (myGamePiece.x > 540){
    room = "cloud1";
    changeToNewScreen("cloud1.png", "cloud1Foreground.png", "goingRight",15,myGamePiece.y);
    }

} //end stalkTop

else if (room == "cloud1"){
if (myGamePiece.x > 540){
    room = "cloud2";
    if(doorOpen == 0 && gotTooth == 0){
    changeToNewScreen("cloud2doorclosed.png", "cloud2Foreground.png", "goingRight",15,myGamePiece.y);
    } else if (doorOpen == 1 && gotTooth == 0){
     changeToNewScreen("cloud2dooropen.png", "cloud2Foreground.png", "goingRight",15,myGamePiece.y);
     } else if (doorOpen == 1 && gotTooth == 1){
     changeToNewScreen("cloud2dooropengottooth.png", "cloud2Foreground.png", "goingRight",15,myGamePiece.y);
    } else if (doorOpen == 0 && gotTooth == 1){
     changeToNewScreen("cloud2doorclosedgottooth.png", "cloud2Foreground.png", "goingRight",15,myGamePiece.y);
    }
    
    }
}//end cloud1

else if (room == "cloud2"){

if(unlockedDoor == 1){
if (myGamePiece.x > 225 && myGamePiece.x < 282 && myGamePiece.y < 127){

if(gotJournal == 1){
room = "manannanmap";
changeToNewScreen("manannanmap1.png", "manannanForegroundMap.png", "goingDown",173,141);
    yspeed = 0;
    speed = 0;
    textVar = "Cedric the Grey:\nTo return to this\nclimactic quest\nlook in the magical mirror\nand speak the incantation...";
    textVar2 = "Cedric the Grey:\n'Load grail quest'";
}else{
room = "manannan";
    changeToNewScreen("manannan.png", "manannanForeground.png", "goingDown",173,141);
    yspeed = 0;
    speed = 0;
    
    textVar = "Cedric the Grey:\nWe're in the basement\nof Manannan,\nwhere prince Alexander\nlearned the\ndark Wizard's magic";
textVar2 = "Cedric the Grey:\nKeep quiet, a family \nof bears resides \nin the mansion overhead";
}


}
}

} //end cloud2door

else if (room == "gardenNorthCliff"){
    if (myGamePiece.x < 353 && myGamePiece.y < 214){
        textVar = "Cedric the Grey:\nRestorous Royalus Heightous!\nI caught you Graham!"; 
        myGamePiece.x = 455;
        myGamePiece.y = 177;
    }
    else if (myGamePiece.y > 214){
    if(plantedSeeds == 0){
    room = "garden";
    changeToNewScreen("garden.png", "transparent.png", "goingDown",357,56);
    } else{
    room = "gardenStalk";
    changeToNewScreen("gardenStalk.png", "transparent.png", "goingDown",357,56);
    }
    }
    else if (myGamePiece.x > 540){
    room = "A1clover";
    changeToNewScreen("A1clover.png", "transparent.png", "goingRight",15,212);
    
    }
    
} //end gardenNorthCliff


else if (room == "C1pooltoy"){
if (myGamePiece.x < 7){
 room = "castleFront2";
changeToNewScreen("castleFront2.png", "transparent.png", "goingLeft",530,157);
}

 else if (myGamePiece.x > 320){
    textVar = "Cedric the Grey:\nRegus Protectus!\nCareful! You don't swim as well\nas the old days, Graham!"; 
        myGamePiece.x = 205;
        myGamePiece.y = 136;
    }
    else if (myGamePiece.y < 84){
    room = "fairyGround";
changeToNewScreen("fairyGround.png", "transparent.png", "goingUp",myGamePiece.x,210);
    }

} //end pooltoy

else if (room == "fairyGround"){
if (myGamePiece.y < 56){
  room = "A1clover";
changeToNewScreen("A1clover.png", "transparent.png", "goingUp",myGamePiece.x,210);

}
else if (myGamePiece.x < 7){
if(plantedSeeds == 0){
 room = "garden";
changeToNewScreen("garden.png", "transparent.png", "goingLeft",530,myGamePiece.y);
}else {
 room = "gardenStalk";
changeToNewScreen("gardenStalk.png", "transparent.png", "goingLeft",530,myGamePiece.y);
}
}
 else if (myGamePiece.y > 214){
  myBackground.image = new Image();
     myBackground.image.src = "C1pooltoy2.png";
    myBackground.image = new Image();
     myBackground.image.src = "C1pooltoy.png";
    room = "C1pooltoy";
    changeToNewScreen("C1pooltoy.png", "transparent.png", "goingDown",179,105);
    }
else if (myGamePiece.x > 540){
    room = "B2goat";
    changeToNewScreen("B2goat.png", "transparent.png", "goingRight",15,myGamePiece.y);
    }

} //end fairyGround

else if (room == "A1clover"){
if (myGamePiece.y > 214){
    room = "fairyGround";
    changeToNewScreen("fairyGround.png", "transparent.png", "goingDown",myGamePiece.x,60);
    gotFiddle = 0;
playedFiddle = 0;
    }
    else if (myGamePiece.x < 7){
 room = "gardenNorthCliff";
changeToNewScreen("gardenNorthCliff.png", "transparent.png", "goingLeft",530,myGamePiece.y);
gotFiddle = 0;
playedFiddle = 0;
 myGamePiece.image = new Image();
     myGamePiece.image.src = "gardenNorthCliffForeground1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "gardenNorthCliffForeground2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "gardenNorthCliffForeground3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "gardenNorthCliffForeground4.png";
}
 else if (myGamePiece.x > 540){
 
    myBackground.image = new Image();
     myBackground.image.src = "A2lake4.png";
     myBackground.image = new Image();
     myBackground.image.src = "A2lake3.png.png";
     myBackground.image = new Image();
     myBackground.image.src = "A2lake2.png.png";
     myBackground.image = new Image();
     myBackground.image.src = "A2lake1.png.png";
 
    room = "A2lake";
    changeToNewScreen("A2lake1.png", "transparent.png", "goingRight",15,205);
    gotFiddle = 0;
playedFiddle = 0;
    }
    }//end A1clover

else if (room == "A2lake"){
if (myGamePiece.y >= 215){
    room = "B2goat";
    changeToNewScreen("B2goat.png", "transparent.png", "goingDown",myGamePiece.x,77);
    }
    else if (myGamePiece.x < 7){
 room = "A1clover";
changeToNewScreen("A1clover.png", "transparent.png", "goingLeft",530,212);
}
 else if (myGamePiece.x > 540){
    room = "A3cave";
    changeToNewScreen("A3cave.png", "transparent.png", "goingRight",15,myGamePiece.y);
    }

 else if ((myGamePiece.x > 101 && myGamePiece.x < 262 && myGamePiece.y < 205)||myGamePiece.x > 310 && myGamePiece.x < 334 && myGamePiece.y < 203){
    myGamePiece.x = 396;
    myGamePiece.y = 203;
    textVar = "Cedric the Grey:\nRemovous Pondous!\nCrispin taught me a\nthing or two!";
    }
}//end A2lake

else if (room == "A3cave"){
if (myGamePiece.x < 7){

  myBackground.image = new Image();
     myBackground.image.src = "A2lake4.png";
     myBackground.image = new Image();
     myBackground.image.src = "A2lake3.png.png";
     myBackground.image = new Image();
     myBackground.image.src = "A2lake2.png.png";
     myBackground.image = new Image();
     myBackground.image.src = "A2lake1.png.png";

 room = "A2lake";
changeToNewScreen("A2lake1.png", "transparent.png", "goingLeft",530,212);
}
else if (myGamePiece.y < 90 && myGamePiece.x > 379){
 room = "cave";
changeToNewScreen("cave.png", "caveForeground.png", "goingRight",15,183);
}
else if (myGamePiece.y > 214){
    room = "B3goatback";
    changeToNewScreen("B3goatback.png", "transparent.png", "goingDown",myGamePiece.x,60);
    }

}//end A3cave

else if (room == "cave"){
if (myGamePiece.x < 7){
 room = "A3cave";
changeToNewScreen("A3cave.png", "transparent.png", "goingLeft",409,85);
}
} //end cave



else if (room == "B2goat"){
if (myGamePiece.x < 7){
 room = "fairyGround";
changeToNewScreen("fairyGround.png", "transparent.png", "goingLeft",530,100);
}
else if (myGamePiece.y > 214){
    room = "mill";
    changeToNewScreen("mill.png", "millForeground.png", "goingDown",300,36);
    }
else if (myGamePiece.y < 72){

  myBackground.image = new Image();
     myBackground.image.src = "A2lake4.png";
     myBackground.image = new Image();
     myBackground.image.src = "A2lake3.png.png";
     myBackground.image = new Image();
     myBackground.image.src = "A2lake2.png.png";
     myBackground.image = new Image();
     myBackground.image.src = "A2lake1.png.png";

  room = "A2lake";
changeToNewScreen("A2lake1.png", "transparent.png", "goingUp",myGamePiece.x,210);
}
else if (myGamePiece.x > 540){
    room = "B3goatback";
    changeToNewScreen("B3goatback.png", "transparent.png", "goingRight",15,myGamePiece.y);
    }

} //end B2goat

else if (room == "B3goatback"){
if (myGamePiece.x < 7){
 room = "B2goat";
changeToNewScreen("B2goat.png", "transparent.png", "goingLeft",530,myGamePiece.y);
}

else if (myGamePiece.y > 214){
    room = "rumplestiltskin";
    changeToNewScreen("rumplestiltskin.png", "rumplestiltskinForeground.png", "goingDown",230,60);
    if (gotSeeds == 0){
textVar = "Cedric the Grey:\nI have a feeling there \nis more to this quest\nthan just mermaids\nisn't there, Graham?";
    speed = 0;
    yspeed = 0;
}
    }
else if (myGamePiece.y < 46){
  room = "A3cave";
changeToNewScreen("A3cave.png", "transparent.png", "goingUp",myGamePiece.x,210);
}

}//end B3goatback

else if (room == "mill"){

if (myGamePiece.y < 51 && myGamePiece.x < 522){
if (gotHairpin == 1){
    room = "B2goat";
    changeToNewScreen("B2goat.png", "transparent.png", "goingUp",myGamePiece.x,210);
}else { textVar = "Cedric the Grey:\nWhat business does a\nstatesman have with a\nmiller?";
room = "B2goat";
    changeToNewScreen("B2goat.png", "transparent.png", "goingUp",myGamePiece.x,210);
}

    }
    else if (myGamePiece.x > 540){
if (gotHairpin == 1){
    room = "rumplestiltskin";
    changeToNewScreen("rumplestiltskin.png", "rumplestiltskinForeground.png", "goingRight",60,149);
    if (gotSeeds == 0){
textVar = "Cedric the Grey:\nI have a feeling there \nis more to this journey\nthan just mermaids\nisn't there, Graham?";
speed = 0;
yspeed = 0;
}
} else { textVar = "Cedric the Grey:\nWhat business does a\nstatesman have with a\nmiller?";
 room = "rumplestiltskin";
    changeToNewScreen("rumplestiltskin.png", "rumplestiltskinForeground.png", "goingRight",60,149);
    if (gotSeeds == 0){
textVar = "Cedric the Grey:\nI have a feeling there \nis more to this journey\nthan just mermaids\nisn't there, Graham?";
speed = 0;
yspeed = 0;
}
}
    }
    
    else if ((myGamePiece.x < 218 && myGamePiece.y > 105) ||(myGamePiece.x < 148 && myGamePiece.y > 78) || (myGamePiece.x < 102)){
    textVar = "Cedric the Grey:\nRiverous Rejectus!\nDon't get carried away,\n Graham";
    myGamePiece.x = 375;
    myGamePiece.y = 105;
    }
    
} //end mill

else if (room == "rumplestiltskin"){

if (gotSeeds == 1){
if (myGamePiece.x < 7){
 room = "mill";
changeToNewScreen("mill.png", "millForeground.png", "goingLeft",530,100);
}

else if (myGamePiece.y < 56){
    room = "B3goatback";
    changeToNewScreen("B3goatback.png", "transparent.png", "goingUp",myGamePiece.x,210);
    }
}
else if(gotSeeds == 0) {
textVar = "Cedric the Grey:\nWhat's going on\nunder that blue hat\nof yours, Graham?";
if (myGamePiece.x < 7){
 room = "mill";
changeToNewScreen("mill.png", "millForeground.png", "goingLeft",530,100);
}

else if (myGamePiece.y < 56){
    room = "B3goatback";
    changeToNewScreen("B3goatback.png", "transparent.png", "goingUp",myGamePiece.x,210);
    }

}

} //end rumplestiltskin

else if (room == "manannanDoor"){
if(myGamePiece.x < 154 && myGamePiece.x > 92 && myGamePiece.y < 120){
 room = "castleFront2";
    changeToNewScreen("castleFront2.png", "transparent.png", "goingDown",myGamePiece.x,210);
    speed = 0;
    yspeed = 0;

}

} //end manannanDoor

else if (room == "undermoat1"){
if (myGamePiece.y > 213){
room = "undermoat2";
    changeToNewScreen("undermoat2.png", "transparent.png", "goingDown",myGamePiece.x,15);
}
} // end undermoat1



else if (room == "undermoat3"){
if (myGamePiece.y > 213){
room = "undermoat4";
    changeToNewScreen("undermoat4.png", "transparent.png", "goingDown",myGamePiece.x,15);
}
} // end undermoat2

else if (room == "journal"){
if (myGamePiece.x < 15){
room = "journal2";

if(gotJournal == 1){
 changeToNewScreen("journal2open.png", "journal2Foreground.png", "goingLeft",500,myGamePiece.y);
} else{
    changeToNewScreen("journal2.png", "journal2Foreground.png", "goingLeft",500,myGamePiece.y);
}
}
}

//specialgrail grailspecial

else if (room == "vulcanix"){
if (myGamePiece.x < 30 && myGamePiece.y < 110){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nKeep going, Graham";
}
}//end samhain

else if (room == "samhain" && gotIngredient == 1){
if (myGamePiece.x > 20 && myGamePiece.x < 41 && myGamePiece.y < 180){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nCherish life";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//end samhain

else if(room == "landofthedead" && gotIngredient == 1){

if(myGamePiece.y < 70){
 room = "charon";
    changeToNewScreen("charon.png", "transparent.png", "goingUp",248,196);
}
}

else if (room == "yetilair"){
if (myGamePiece.x > 9 && myGamePiece.x < 32 && myGamePiece.y < 120){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nWinter melts to spring";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//end witchlair


else if (room == "witchlair2"){

    room = "witchlair";
    changeToNewScreen("witchlair.png", "witchlairForeground.png", "goingLeft",myGamePiece.x,myGamePiece.y);
    yspeed = 0;
    speed = 0;
    
}

else if (room == "witchlair"){
if (myGamePiece.x > 52 && myGamePiece.x < 78 && myGamePiece.y < 96){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nSetting the world right\nisn't easy";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//end witchlair

else if (room == "throneRoom2grail"){
    if (myGamePiece.y > 212){
    room = "throneRoom3grail";
    
     changeToNewScreen("throne3grail.png", "throne3foreground.png", "goingDown",270,100);
    
    
    }
    else if (myGamePiece.x < 20){
    
    room = "throneroomgrail";
    changeToNewScreen("throneroomgrailall.png", "throneroomforeground.png", "goingLeft",530,153);
    
    }
}
else if (room == "throneRoom3grail"){

    if (myGamePiece.y > 212){
    room = "castleFrontgrail";
    changeToNewScreen("castleFrontgrail.png", "transparent.png", "goingDown",379,143);
    }
    else if (myGamePiece.y < 120){
    room = "throneRoom2grail";
    changeToNewScreen("throne2.png", "throne2foreground.png", "goingUp",270,200);
    }


} //end throneroom3

else if(room == "throneroomgrail" && gotIngredient == 1){

if(myGamePiece.x > 540){
 room = "throneRoom2grail";
    changeToNewScreen("throne2.png", "throne2foreground.png", "goingRight",80,153);
}
}

else if(room == "end4"){
if (myGamePiece.x > 540){
room = "castleFrontEnd";
changeToNewScreen("castleFrontEnd.png", "transparent.png", "goingRight",15,myGamePiece.y);
    myBackground.image = new Image();
     myBackground.image.src = "castleFrontEnd.png";
     myBackground.image = new Image();
     myBackground.image.src = "castleFrontEnd2.png";
     myBackground.image = new Image();
     myBackground.image.src = "castleFrontEnd3.png";
     myBackground.image = new Image();
     myBackground.image.src = "castleFrontEnd4.png";

speed = 0;
yspeed = 0;
textVar = "Cedric the Grey:\nCrispin!";
textVar2 = "Cedric the Grey:\nHe's injured.\nMorgash is approaching!";
}
}//end 4

else if(room == "end3"){
if (myGamePiece.x > 540){
room = "end4";
changeToNewScreen("end4.png", "end4Foreground.png", "goingRight",15,170);
kq = 0;
youth = 1;



 myGamePiece.image = new Image();
     myGamePiece.image.src = "fronty1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "fronty2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "fronty3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "fronty4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "fronty5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "fronty6.png";
     
   
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walklefty1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walklefty2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walklefty3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walklefty4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walklefty5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walklefty6.png";
     
      myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrighty1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrighty2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrighty3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrighty4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrighty5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrighty6.png";
     
       myGamePiece.image = new Image();
     myGamePiece.image.src = "backy1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backy2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backy3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backy4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backy5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backy6.png";

}
}//end 3

else if(room == "end2"){
if (myGamePiece.x > 540){
room = "end3";
changeToNewScreen("end31.png", "transparent.png", "goingRight",15,myGamePiece.y);
grey = 0;
kq = 1;

myBackground.image = new Image();
myBackground.image.src = "end31.png";
myBackground.image = new Image();
myBackground.image.src = "end32.png";
myBackground.image = new Image();
myBackground.image.src = "end33.png";
myBackground.image = new Image();
myBackground.image.src = "end34.png";

 myGamePiece.image = new Image();
     myGamePiece.image.src = "front51.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "front52.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "front53.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "front54.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "front55.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "front56.png";
     
   
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft51.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft52.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft53.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft54.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft55.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleft56.png";
     
      myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright51.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright52.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright53.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright54.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright55.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkright56.png";
     
       myGamePiece.image = new Image();
     myGamePiece.image.src = "back51.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "back52.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "back53.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "back54.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "back55.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "back56.png";

}
}//end 2

else if(room == "end1"){
if (myGamePiece.x > 540){
room = "end2";
changeToNewScreen("end21.png", "transparent.png", "goingRight",15,myGamePiece.y);
walking = 0;
grey = 1;

myBackground.image = new Image();
myBackground.image.src = "end21.png";
myBackground.image = new Image();
myBackground.image.src = "end22.png";
myBackground.image = new Image();
myBackground.image.src = "end23.png";
myBackground.image = new Image();
myBackground.image.src = "end24.png";


 myGamePiece.image = new Image();
     myGamePiece.image.src = "frontgr1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontgr2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontgr3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontgr4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontgr5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "frontgr6.png";
     
   
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleftg1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleftg2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleftg3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleftg4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleftg5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkleftg6.png";
     
      myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrightg1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrightg2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrightg3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrightg4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrightg5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "walkrightg6.png";
     
       myGamePiece.image = new Image();
     myGamePiece.image.src = "backgr1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backgr2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backgr3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backgr4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backgr5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "backgr6.png";






}
}//end1



else if (room == "manannanfinal"){
if(myGamePiece.x < 154 && myGamePiece.x > 92 && myGamePiece.y < 120){
 room = "end1";
    changeToNewScreen("end1.png", "transparent.png", "goingRight",myGamePiece.x,210);
    speed = 0;
    yspeed = 0;

}

} //end manannanfinal

else if(room == "islandofspirits"){
if (myGamePiece.x > 33 && myGamePiece.x < 56 && myGamePiece.y < 137){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nNo time to rest!";
}
}//end islandofspirits

else if(room == "northpole3"){
if (myGamePiece.x > 69 && myGamePiece.x < 91 && myGamePiece.y < 109 && gotGrail == 1){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nYou did it, Graham!";
}
}//end northpole3

else if(room == "northpole2"){
if (myGamePiece.x > 540){
room = "northpole3";
changeToNewScreen("northpole3.png", "transparent.png", "goingRight",15,myGamePiece.y);
}
}//end northpole2

else if(room == "northpole1"){
if (myGamePiece.x > 540){
room = "northpole2";
changeToNewScreen("northpole2.png", "transparent.png", "goingRight",15,myGamePiece.y);
}
}//end northpole1

else if(room == "sereniadoor"){
if(myGamePiece.x > 115 && myGamePiece.x < 145 && myGamePiece.y < 133){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nIf you want to\nbecome large, say:\n'Restorous'\nor use the magic map";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}

else if(myGamePiece.y > 212){
room = "serenia2";

if(small == 0){
changeToNewScreen("serenia2.png", "sereniamushroom.png", "goingDown",132,50);
}else{
changeToNewScreen("serenia2.png", "transparent.png", "goingDown",132,50);
}

}
else if(myGamePiece.y < 130 && myGamePiece.x > 144){
room = "serenia3";
changeToNewScreen("serenia3.png", "serenia3Foreground.png", "goingUp",132,200);
}

} //end sereniadoor

else if (room == "sereniabottle"){
if (myGamePiece.x < 6){
room = "serenia3";
changeToNewScreen("serenia3.png", "transparent.png", "goingDown",132,113);
speed = 0;
yspeed = 0;
small = 1;
walking = 0;
myGamePiece.image.src = smallArray[5];
} 
}

else if(room == "serenia3"){
if(myGamePiece.y > 212){
if(gotIngredient !=2){
room = "serenia";
changeToNewScreen("serenia.png", "transparent.png", "goingDown",138,146);
}else{
room = "sereniadoor";
changeToNewScreen("sereniadoor.png", "transparent.png", "goingDown",138,146);
}
}
else if(myGamePiece.x > 108 && myGamePiece.x < 139 && myGamePiece.y < 95 && small == 1){
room = "sereniabottle";
changeToNewScreen("sereniabottle.png", "transparent.png", "goingUp",47,120);
speed = 0;
yspeed = 0;
small = 0;
walking = 1;
myGamePiece.image.src = walkright[2];
}


}

else if (room == "sereniahole"){
if (myGamePiece.x < 6){
room = "serenia2";
changeToNewScreen("serenia2.png", "transparent.png", "goingUp",481,158);
speed = 0;
yspeed = 0;
small = 1;
walking = 0;
myGamePiece.image.src = smallArray[5];
} 
}


else if (room == "serenia2"){

if (myGamePiece.x > 476 && myGamePiece.x < 487 && myGamePiece.y < 146 && small == 1){
room = "sereniahole";
changeToNewScreen("sereniahole.png", "transparent.png", "goingUp",11,184);
speed = 0;
yspeed = 0;
small = 0;
walking = 1;
myGamePiece.image.src = walkright[2];
}

else if(myGamePiece.y < 50){
if(gotIngredient != 2){
room = "serenia";
changeToNewScreen("serenia.png", "transparent.png", "goingUp",myGamePiece.x,186);
}else{
room = "sereniadoor";
changeToNewScreen("sereniadoor.png", "transparent.png", "goingUp",myGamePiece.x,186);
}

}

} //end serenia2

else if (room == "sereniagrass2"){ //black ant
if (myGamePiece.x > 519){
room = "serenia";
changeToNewScreen("serenia.png", "transparent.png", "goingUp",286,182);
speed = 0;
yspeed = 0;
small = 1;
walking = 0;
myGamePiece.image.src = smallArray[5];
} 
} //end sereniagrass2

else if (room == "sereniagrass"){ //red ant
if (myGamePiece.x < 6){
room = "serenia";
if(gotIngredient == 2){
room = "sereniadoor";
changeToNewScreen("sereniadoor.png", "transparent.png", "goingUp",403,145);
speed = 0;
yspeed = 0;
small = 1;
walking = 0;
myGamePiece.image.src = smallArray[5];
}
else{
changeToNewScreen("serenia.png", "transparent.png", "goingUp",403,145);
}
speed = 0;
yspeed = 0;
small = 1;
walking = 0;
myGamePiece.image.src = smallArray[5];
} 
}


else if (room == "serenia"){
if (myGamePiece.x > 353 && myGamePiece.x < 443 && myGamePiece.y < 139 && small == 1){
room = "sereniagrass";
changeToNewScreen("sereniagrass.png", "transparent.png", "goingUp",11,170);
speed = 0;
yspeed = 0;
small = 0;
walking = 1;
myGamePiece.image.src = walkright[2];
} 
else if(myGamePiece.x > 208 && myGamePiece.x < 340 && myGamePiece.y < 165 && small == 1){
room = "sereniagrass2";
changeToNewScreen("sereniagrass2.png", "transparent.png", "goingUp",493,173);
speed = 0;
yspeed = 0;
small = 0;
walking = 1;
myGamePiece.image.src = walkleft[2];
}

else if(myGamePiece.y > 212){
room = "serenia2";

if(small == 0){
changeToNewScreen("serenia2.png", "sereniamushroom.png", "goingDown",132,50);
}else{
changeToNewScreen("serenia2.png", "transparent.png", "goingDown",132,50);
}

}
else if(myGamePiece.y < 130){
room = "serenia3";
changeToNewScreen("serenia3.png", "serenia3Foreground.png", "goingUp",132,200);
}


}//end serenia

else if (room == "EnchantedTower3"){
if (myGamePiece.x > 67 && myGamePiece.x < 85 && myGamePiece.y < 132 && gotIngredient == 1){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nLove is contagious";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//end equestria 1

else if (room == "equestria"){
if (myGamePiece.x > 15 && myGamePiece.x < 33 && myGamePiece.y < 145){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nWild horses aren't\neasily saddled";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//end equestria 1


else if (room == "equestria1"){
if (myGamePiece.y < 50){

if(gotIngredient == 1){
room = "equestria";
changeToNewScreen("equestria.png", "equestriaForeground.png", "goingUp",myGamePiece.x,200);
} else{
room = "equestria";
changeToNewScreen("equestria.png", "transparent.png", "goingUp",myGamePiece.x,200);
}
}
}//end equestria 1





else if (room == "northernseadoor"){
 if(myGamePiece.x > 280 && myGamePiece.x < 299 && myGamePiece.y < 135){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nA fisherman's fish\nis never too big";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}

}


else if (room == "tamir2dark"){
 if(gotIngredient == 1 && myGamePiece.x > 71 && myGamePiece.x < 87 && myGamePiece.y < 155){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The sudden storm\nhas left Graham\nfeeling weak";
textVar2 = "Cedric the Grey:\nPower brings no joy";
textVar3 = "Cedric the Grey:\nKeep going, Graham";
}

}


else if (room == "tamir1"){
if (myGamePiece.y < 58){
room = "tamir2";
changeToNewScreen("tamir2.png", "tamir2Foreground.png", "goingUp",271,168);
speed = 0;
yspeed = 0;
textVar = "Zeus:\nGraham, old boy!\nI heard you've been\nswimming with mermaids,\nyou old sea dog";
}
}//end tamir1

else if (room == "EnchantedTower3"){
if(gotIngredient == 1 && myGamePiece.x > 65 && myGamePiece.x < 82 && myGamePiece.y < 132){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nLove is contagious";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
} //end enchanted3


else if (room == "EnchantedTower1"){
if (myGamePiece.y < 62){
room = "EnchantedTower2";
changeToNewScreen("EnchantedTower2.png", "transparent.png", "goingUp",170,207);
}
}

else if (room == "greenisles"){
if (myGamePiece.y > 214){
room = "greenisles2";
changeToNewScreen("greenisles2.png", "transparent.png", "goingDown",305,124);
speed = 0;
yspeed = 0;
textVar = "Rotten Tomato:\nAnd stay out!";
textVar2 = "The bell pepper rings\nupon Graham's arrival";
}
}

else if (room == "greenisles2"){
if (myGamePiece.y < 90){
room = "greenisles";
changeToNewScreen("greenisles.png", "transparent.png", "goingUp",277,198);
}

else if(gotIngredient == 1 && myGamePiece.x > 48 && myGamePiece.x < 69 && myGamePiece.y < 180){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nEvery garden\nhas its rotten";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}

else if (myGamePiece.y > 210){
textVar = "Rotten Tomato:\n(calls out)\nEasy buddy,\nwhere do you think\nyou're going?\nOysters are sleeping\nover there!";
}


}


else if (room == "lion"){
if (myGamePiece.x < 151){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nNothing surpasses knowing\nyou're moving in\nthe right direction";
textVar2 = "Cedric the Grey:\nKeep going, Graham";

}
}//end lion



else if (room == "fairy3"){
if (myGamePiece.y > 214){
room = "fairy1";
changeToNewScreen("fairy1.png", "transparent.png", "goingDown",myGamePiece.x,90);
} 

}

else if (room == "fairy4"){
if (myGamePiece.x > 540){
room = "fairy1";
changeToNewScreen("fairy1.png", "transparent.png", "goingRight",15,153);
}
}

else if (room == "fairy1"){
if (myGamePiece.y < 89 && myGamePiece.x > 251 && myGamePiece.x < 296){
room = "fairy3";
changeToNewScreen("fairy3.png", "transparent.png", "goingUp",myGamePiece.x,211);
}

else if(myGamePiece.x < 6){
room = "fairy4";
changeToNewScreen("fairy4.png", "transparent.png", "goingLeft",515,153);
}
else if(myGamePiece.x > 540){
room = "fairy2";
changeToNewScreen("fairy2.png", "transparent.png", "goingRight",15,153);
}

}//end fairy1


else if (room == "fairy2"){
if (myGamePiece.x < 6){
room = "fairy1";
changeToNewScreen("fairy1.png", "transparent.png", "goingLeft",515,153);
}
}//end fairy2



else if (room == "moon"){
if (myGamePiece.y < 115 && myGamePiece.x > 143 && myGamePiece.x < 173 && gotIngredient >2){
walking = 1;
climbing = 0;
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The aether of space\nhas weakened you";
textVar2 = "Cedric the Grey:\nKeep going, Graham";

}
}//end moon


else if (room == "mordack2"){
if (myGamePiece.y < 155 && myGamePiece.x < 24 && gotIngredient == 0){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The powerful\nelectrical fields have\nleft Graham feeling\nweak";
textVar2 = "Cedric the Grey:\nKeep going, Graham";

}
}//end mordack2

else if (room == "mordack1"){
if (myGamePiece.y < 69){
room = "mordack2";
changeToNewScreen("mordack2.png", "transparent.png", "goingUp",354,210);
speed = 0;
yspeed = 0;
textVar = "Cedric the Grey:\nI began training with\nCrispin every day\nafter coming here.\nI vowed to never\nbe bullied again";
textVar2 = "Cedric the Grey:\nI don't regret any\nof it though.\nYou were a good\nfriend to me, Graham.\nYou're a good man";
textVar3 = "Cedric the Grey:\nAll my life\npeople had shunned me.\nShowing up was\nthe least I\ncould do for you";
}
}//end mordack

else if (room == "harpy"){
if (myGamePiece.y < 135 && myGamePiece.x > 242 && gotIngredient == 1){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Harpy:\nDon't slam the\ndoor on your way\nout!";
textVar2 = "Cedric hold Manannan's\nmagic telescope for Graham";
textVar3 = "Cedric the Grey:\nKeep going, Graham";

}
else if(myGamePiece.x > 363){
textVar = "Cedric the Grey:\nCatchous Grahamous!";
myGamePiece.x = 136;
myGamePiece.y = 194;
}


}//end enchantedC1



else if (room == "EnchantedB2"){
if (myGamePiece.y < 103){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The power of the\nenchanted island has\nleft Graham feeling\nweak";
textVar2 = "Cedric the Grey:\nKeep going, Graham";

} else if(myGamePiece.y > 214){
room = "EnchantedC2";
changeToNewScreen("EnchantedC2.png", "transparent.png", "goingDown",313,67);


}



}//end enchantedB2

else if (room == "EnchantedC3"){
if (myGamePiece.x < 6){
room = "EnchantedC2";
changeToNewScreen("EnchantedC2.png", "transparent.png", "goingLeft",493,121);
}
}//end fairy2

else if (room == "EnchantedC2"){
if (myGamePiece.y < 50){
room = "EnchantedB2";
changeToNewScreen("EnchantedB2.png", "EnchantedB2Foreground.png", "goingUp",354,210);
speed = 0;
yspeed = 0;
} else if (myGamePiece.x > 515){
room = "EnchantedC3";
changeToNewScreen("EnchantedC3.png", "EnchantedC3Foreground1.png", "goingRight",43,120);
}
}//end enchantedC2

else if (room == "EnchantedC1"){
if (myGamePiece.x > 515){
room = "EnchantedC2";
changeToNewScreen("EnchantedC2.png", "transparent.png", "goingRight",43,120);
}
}//end enchantedC1

else if (room == "EnchantedB1"){
if (myGamePiece.y > 213){
room = "EnchantedC1";
changeToNewScreen("EnchantedC1.png", "EnchantedC1Foreground.png", "goingDown",228,27);
}
}//end enchantedB1

else if (room == "EnchantedA1"){
if (myGamePiece.y > 213){
room = "EnchantedB1";
changeToNewScreen("EnchantedB1.png", "EnchantedB1Foreground.png", "goingDown",309,41);
}
}//end enchantedA1




else if (room == "pirate4"){
if (myGamePiece.x < 270){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The impact of the\nfall has\ninjured Graham";
textVar2 = "Cedric the Grey:\nKeep going, Graham";

}
}//end pirate4

else if (room == "pirate2"){
if (myGamePiece.x > 494 ){
room = "pirate3";
changeToNewScreen("pirate3.png", "transparent.png", "goingUp",250,141);
speed = 0;
yspeed = 0;
}
}//end pirate2

else if (room == "pirate1"){
if (myGamePiece.x < 174 && gotIngredient == 1){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nNo charity\nfrom the greedy";
textVar2 = "Cedric the Grey:\nKeep going, Graham";

}
}//end pirate1

else if (room == "sereniadesertopen"){
if (myGamePiece.x > 245 && myGamePiece.x < 314 && myGamePiece.y < 155){
room = "sereniadesert2";
changeToNewScreen("sereniadesert2.png", "sereniadesert2Foreground.png", "goingDown",117,116);
 myGamePiece.image.src = walkfront[0];
speed = 0;
yspeed = 0;

}
}//end sereniaopen

else if (room == "daventrystoredoor"){
if (myGamePiece.x > 91 && myGamePiece.x < 195 && myGamePiece.y < 105){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nYou've built a strong\nlegacy. Let's keep\nbuilding";
textVar2 = "Cedric the Grey:\nKeep going, Graham";

}
}//end whaledoor


else if (room == "whaledoor"){
if (myGamePiece.x < 91 && myGamePiece.x > 61 && myGamePiece.y < 200){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The grime of the\nwhale has made Graham\nfeel ill";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//end whaledoor

else if (room == "daventry" && gotIngredient == 1){
if (myGamePiece.x < 128){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nOthers make wishes,\nyou chase them";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//end daventry

else if (room == "tanalore"){
if (myGamePiece.x < 44 && myGamePiece.x > 27 && myGamePiece.y < 144){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nKingdoms come\nin all sizes";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//tanalore bees

else if (room == "llewdor"){
if (myGamePiece.x < 379 && myGamePiece.x > 366 && myGamePiece.y < 124){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nIt's tough to find\nthe home that's\njust right";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//llewdor


else if (room == "neptunedoor"){
if (myGamePiece.x < 286 && myGamePiece.x > 246 && myGamePiece.y > 190){
swimming = 0;
walking = 1;
room = "manannanmap";
myGamePiece.image.src = walkback[0];
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The battering of the\nsea has made Graham\nfeel weak";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//end neptunedoor

else if (room == "tanaloredesertdoor"){
if (myGamePiece.x > 70 && myGamePiece.x < 108 && myGamePiece.y < 155){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The hot desert sun\nhas scorched Graham";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}

}//end tanaloredesertdoor

else if (room == "swampdoor"){
if(gotIngredient = 1){

if (myGamePiece.x > 201 && myGamePiece.x < 219){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
tempted = 0;
textVar = "The poison of putrid\nswamp water seeped\ninto Graham's pores";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}

}
} //end swamp

else if (room == "church1"){
 if (myGamePiece.x > 540){
    room = "church2";
    changeToNewScreen("church2.png", "transparent.png", "goingRight",15,myGamePiece.y);
    }
    }//end church1

else if (room == "church3"){
 if (myGamePiece.y > 213){
 if(gotIngredient == 1){
    room = "church2door";
    changeToNewScreen("church2door.png", "transparent.png", "goingDown",280,199);
    speed = 0;
    yspeed = 0;
 }
    }

}//end church3

else if (room == "church2door"){
 if (myGamePiece.x > 153 && myGamePiece.x < 192 && myGamePiece.y < 205){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The cold night\ngave Graham chills";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
}//end church2door

else if (room == "portbruce"){
 if (myGamePiece.x > 540){
    room = "portbrucedock";
    changeToNewScreen("portbrucedock.png", "transparent.png", "goingRight",15,102);
    }
    }//end portbruce

else if (room == "portbrucedock"){

if (myGamePiece.x < 7){
 room = "portbruce";
changeToNewScreen("portbruce.png", "transparent.png", "goingLeft",512,107);
} 
else if (myGamePiece.x > 400){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
unlockedDoor = 0;
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The leap from the dock\nhurt Graham's knees";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}

else if (myGamePiece.y < 84 || myGamePiece.y > 130){
textVar = "Cedric the Grey:\nCatchous Gramous!";
myGamePiece.x = 15;
myGamePiece.y = 102;
}

}//end portbrucedock

else if (room == "dolphin"){
if(gotIngredient == 1 && myGamePiece.x > 506){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The cold seawater\nchilled Graham\nto the bone";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}
} //end dolphin

else if (room == "dangerouscurrents"){
if(myGamePiece.x > 503){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The hard winds\npummeled Graham";
textVar2 = "Cedric the Grey:\nKeep going, Graham";

}
}//end dangerous currents

else if (room == "portbrucestore"){
if(gotIngredient == 1 && myGamePiece.x > 405){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
unlockedDoor = 0;
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The exertion of solving\nthe puzzle tired Graham";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
} else if(gotIngredient == 0 && myGamePiece.x > 405){
 room = "portbruce";
     changeToNewScreen("portbruce.png", "transparent.png", "goingUp",274,157);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;

}


} //end brucestore

else if (room == "edgeoftheworlddry"){
if(gotIngredient == 1){

if(myGamePiece.x > 142 && myGamePiece.x < 155 && myGamePiece.y < 74){
room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The trembling of the ground\nhas injured Graham's\nold bones";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
}

}

} //end edgeoftheworlddry




} //end function

////////////////DRAW TEXT BOX//////////////////////////////////////
//to do: change px to pt and adjust box width accordingly?? or px is better

function drawTextBox(textVar){

//textVar = "1234567890\n123456789012345"; //25 char per line

/*
if (textVar == ""){
if (textVar2.length > 0){
textVar = textVar2;
textVar2 = "";


} else if (textVar3.length > 0){
textVar = textVar3;
textVar3 = "";
    }
}
*/


if (textVar.length > 0){

var lineheight = 25;
var lines = textVar.split('\n');

textHeight = (lines.length * 25) + (lines.length * 3) + 31;


textBoxTop = 140 - (textHeight/2);
textBoxBottom = 140 + (textHeight/2);
 ctx.fillStyle = "#FFFFFF";
  ctx.fillRect(98, textBoxTop, 350, textHeight);
  
  
//TO DO: CHANGE 98 AND 350 ABOVE (B0X) AND 102 AND 444 BELOW (RED LINE) WITH LONGEST LINE WIDTH + BUFFER SPACE - FIND THIS 273 = middle x of screen

ctx.beginPath();
ctx.moveTo(102, textBoxTop + 3);
ctx.lineTo(102, textBoxBottom - 3);
ctx.lineTo(444, textBoxBottom - 3);
ctx.lineTo(444, textBoxTop + 3);
ctx.lineTo(102, textBoxTop + 3);
ctx.strokeStyle = "darkred";
ctx.stroke();

ctx.fillStyle = "black";
ctx.textAlign = "center";
ctx.font = "25px Arial bold";
//ctx.fillText(textVar, 273, textBoxTop + 31);

//DRAW THE WORDS
for (var i = 0; i<lines.length; i++){
    ctx.fillText(lines[i], 273, textBoxTop + 31 + (i*lineheight) );
}
}

textVar = "";
}
/////////////////////////////////////////////////////////////////////
function textEntryFunction() {
if (event.keyCode === 13) {
   event.preventDefault();
   var T = document.getElementById("textBox").value;
   T = T.toLowerCase();
   document.getElementById('textBox').value = "";
   
   
   if (T == ""){
   textVar = "";
   
   ////
   //  &&(myGameArea.key && myGameArea.key == 13) 
   
   ////
   
   if (textVar == ""){
if (textVar2.length > 0){
textVar = textVar2;
textVar2 = "";
} else if (textVar3.length > 0){
textVar = textVar3;
textVar3 = "";
    }
}
   
   } //make textBox go away
   
   
   if (room == "throneRoom1"){
   if (T.includes("i love you")){
        if(myGamePiece.x < 245){
    textVar = "Valanice: My love for you is \n deeper than Neptune's kingdom,\n and my love reaches higher\n than a giant standing \namongst the clouds.\n  Go, Graham, with all of my love";
        CompletedThroneRoomRequirements = 1;
        } else {
        textVar = "I'm not close enough \nto tell her that";
        }
    }else if (T.includes("talk")||T.includes("hello") || T.includes("speak")){ 
    
    if ((T.includes("valanice")) || (T.includes("woman")) || (T.includes("queen")) || (T.includes("lady"))){
     textVar ="Is there something you \nwant to say Graham?";
     }
        else if ((T.includes("rosella")) || (T.includes("girl")) || (T.includes("princess")) || (T.includes("daughter"))){
     textVar ="Rosella: Are you sure you don't \nwant to rest\nin your comfortable bed? \nBe careful out there, father";
     }
     else if ((T.includes("alexander")) || (T.includes("girl")) || (T.includes("prince")) || (T.includes("man"))){
     textVar ="Alexander: Are you certain \nlistening to the \nmirror is a good \nidea at your age?\n Well, good luck on \nyour adventure, dad";
     }
        
    
     
     //end TALK
    } else if (T.includes("look")){
        if (T.includes("queen") || T.includes("woman") || T.includes("valanice") || T.includes("wife")  ){
        textVar = "Graham's beautiful Queen Valanice.\n  As beautiful and intelligent\n as she is elegant";
        }
        else if (T.includes("prince") || T.includes("man") || T.includes("alexander") || T.includes("son") || T.includes("guy")  ){
        textVar = "Graham is proud \nof his clever son \nAlexander. He raised himself\n from a boy into a man,\n and now is a wonderful father";
        }
        else if (T.includes("princess") || T.includes("girl") || T.includes("rosella") || T.includes("daughter") || T.includes("blonde")  ){
        textVar ="Graham's wonderful daughter \nRosella, he wouldn't be here if \nshe hadn't saved his life\n with a medicinal fruit. \n She takes after her father";
        }
         else if (T.includes("mirror") ){
        textVar ="It seems like only yesterday";
        }
         else if (T.includes("throne") || T.includes("thrones") ){
        textVar ="An old throne, the seat of \nDaventry's power.  Graham remembers\n when there was only one \nthrone in this room.  \nThose were lonely days";
        }
         else if (T.includes("ground") || T.includes("carpet") ){
        textVar ="Beautiful red carpet handwoven \nby King Edward's weavers,\n dyed with red toadstool powder";
        }
         else if (T.includes("curtains") || T.includes("drapes") ){
        textVar ="Regal drapery now frames \nthe magical mirror, \nonce framed by \nthe scales of a dragon";
        }
    else { //just describe the room
         textVar ="Graham's family is here \nto see him off, \nPrince Alexander,\n Princess Rosella, \nand his beloved, \nValanice";
        }
    
    } //END LOOK
    
    //BOW
     else if (T.includes("bow")){
     if(myGamePiece.x < 252){
     bowing = 1;
     iterFour = 0;
     } else{
     textVar = "Graham needs to be\ncloser to bow\nto her eminence";
     }
     }
    
    //LOAD LOAD LOAD LOAD
    else if (T.includes("load")){
    
    //delete This
    // room = "blackscreen";
   // changeToNewScreen("blackscreen4.png", "transparent.png", "goingRight",147//,143);
    //speed = 0;
   // yspeed = 0;
    
    
    
   
    
    if (myGamePiece.y < 81){
    if (T.includes("owl")){
    CompletedThroneRoomRequirements = 1;
    CompletedCageRequirements = 1;
    CompletedCageKey = 1;
    CompletedCastleFrontRequirements = 1;
    gaveLoadOwlInfo = 1;
    
     myForegroundItem.image = new Image();
     myForegroundItem.image.src = "castleFront2Foreground4.png";
     myForegroundItem.image = new Image();
     myForegroundItem.image.src = "castleFront2Foreground3.png";
     myForegroundItem.image = new Image();
     myForegroundItem.image.src = "castleFront2Foreground2.png";
     myForegroundItem.image = new Image();
     myForegroundItem.image.src = "castleFront2Foreground1.png";
    
      room = "castleFront2";
    changeToNewScreen("castleFront2.png", "transparent.png", "goingRight",380,157);
    speed = 0;
    yspeed = 0;
    } // end load owl
    
    else if (T.includes("seed")){
    CompletedThroneRoomRequirements = 1;
    CompletedCageRequirements = 1;
    CompletedCageKey = 1;
    CompletedCastleFrontRequirements = 1;
    gaveLoadOwlInfo = 1;
    gotSeeds = 1;
    gotHairpin = 0;
    gotPickaxe = 0;
      room = "rumplestiltskin";
    changeToNewScreen("rumplestiltskin.png", "rumplestiltskinForeground.png", "goingRight",160,149);
    speed = 0;
    yspeed = 0;
    textVar = "Cedric the Grey: Welcome back!\nRemember you have\nsome magic seeds in your pocket";
    } // end seed
    
    else if (T.includes("dwarves")||T.includes("dwarf")){
    CompletedThroneRoomRequirements = 1;
    CompletedCageRequirements = 1;
    CompletedCageKey = 1;
    CompletedCastleFrontRequirements = 1;
    gaveLoadOwlInfo = 1;
    gotSeeds = 0;
    gotHairpin = 0;
    gotPickaxe = 1;
      room = "cave";
    changeToNewScreen("cave.png", "caveForeground.png", "goingRight",252,160);
    speed = 0;
    yspeed = 0;
    textVar = "Cedric the Grey:\nWelcome back old friend!\nRemember you have\na dwarf pickaxe";
    } //end dwarves
    
    else if (T.includes("farmer")){
    CompletedThroneRoomRequirements = 1;
    CompletedCageRequirements = 1;
    CompletedCageKey = 1;
    CompletedCastleFrontRequirements = 1;
    gaveLoadOwlInfo = 1;
    gotSeeds = 1;
    gotHairpin = 0;
    gotPickaxe = 1;
      room = "cave";
    changeToNewScreen("cave.png", "caveForeground.png", "goingRight",252,160);
    speed = 0;
    yspeed = 0;
    textVar = "Cedric the Grey:\nWelcome back my King!\nRemember you have\na dwarf pickaxe and seeds!";
    } //end farmer
    
     else if (T.includes("hairpin")||T.includes("hair pin")){
    CompletedThroneRoomRequirements = 1;
    CompletedCageRequirements = 1;
    CompletedCageKey = 1;
    CompletedCastleFrontRequirements = 1;
    gaveLoadOwlInfo = 1;
    gotSeeds = 0;
    gotHairpin = 1;
    gotPickaxe = 0;
      room = "mill";
    changeToNewScreen("mill.png", "millForeground.png", "goingRight",343,100);
    speed = 0;
    yspeed = 0;
    textVar = "Cedric the Grey:\nWelcome back my liege!\nRemember you have\na hairpin!";
    } //end hairpin
    
     else if (T.includes("strawman")||T.includes("straw man")){
    CompletedThroneRoomRequirements = 1;
    CompletedCageRequirements = 1;
    CompletedCageKey = 1;
    CompletedCastleFrontRequirements = 1;
    gaveLoadOwlInfo = 1;
    gotSeeds = 1;
    gotHairpin = 1;
    gotPickaxe = 0;
     room = "rumplestiltskin";
    changeToNewScreen("rumplestiltskin.png", "rumplestiltskinForeground.png", "goingRight",160,149);
    speed = 0;
    yspeed = 0;
    textVar = "Cedric the Grey:\nWelcome back my friend!\nRemember you have\nmagic seeds and a hairpin!";
    } //end strawman
    
     else if (T.includes("charity")){
    CompletedThroneRoomRequirements = 1;
    CompletedCageRequirements = 1;
    CompletedCageKey = 1;
    CompletedCastleFrontRequirements = 1;
    gaveLoadOwlInfo = 1;
    gotSeeds = 0;
    gotHairpin = 1;
    gotPickaxe = 1;
      room = "mill";
    changeToNewScreen("mill.png", "millForeground.png", "goingRight",343,100);
    speed = 0;
    yspeed = 0;
    textVar = "Cedric the Grey:\nWelcome back King!\nRemember you have\na hairpin and pickaxe!";
    } //end charity
    
     else if (T.includes("red riding hood")||T.includes("redridinghood")||T.includes("red ridinghood")){
    CompletedThroneRoomRequirements = 1;
    CompletedCageRequirements = 1;
    CompletedCageKey = 1;
    CompletedCastleFrontRequirements = 1;
    gaveLoadOwlInfo = 1;
    gotSeeds = 1;
    gotHairpin = 1;
    gotPickaxe = 1;
     room = "rumplestiltskin";
    changeToNewScreen("rumplestiltskin.png", "rumplestiltskinForeground.png", "goingRight",160,149);
    speed = 0;
    yspeed = 0;
    textVar = "Cedric the Grey:\nWelcome back old friend!\nRemember you have\na pickaxe, hairpin,\nand magic seeds!";
    } //end red riding hood
    
     else if (T.includes("cookie")){
CompletedThroneRoomRequirements = 1;
CompletedCageRequirements = 1;
CompletedCageKey = 1;
CompletedCastleFrontRequirements = 1;
gotEmeraldInTree = 1;
gaveLoadOwlInfo = 1;
gotSeeds = 1;
gotHairpin = 1;
plantedSeeds = 1;
gotPickaxe = 1;
gotTooth = 1;
gotCoin = 1;
doorOpen = 1;
unlockedDoor = 1;
madeCookie = 1;
gotCookie = 1;

room = "manannanDoor";
    changeToNewScreen("manannanDoorDaventry.png", "manannanForeground.png", "goingDown",173,141);
    yspeed = 0;
    speed = 0;
     
     } //end load cookie
    
    
     
        else if (T.includes("journal")){
CompletedThroneRoomRequirements = 1;
CompletedCageRequirements = 1;
CompletedCageKey = 1;
CompletedCastleFrontRequirements = 1;
gotEmeraldInTree = 1;
gaveLoadOwlInfo = 1;
gotSeeds = 1;
gotHairpin = 1;
gotPickaxe = 1;
gotCoin = 1;
doorOpen = 1;
plantedSeeds = 1;
gotTooth = 1;
unlockedDoor = 1;
madeCookie = 1;
gotCookie = 1;
mermaidHappy = 1;
gotShell = 1;
heardStory = 1;
gotJournal = 1;
        
      room = "castleFront";
    changeToNewScreen("castleFront.png", "transparent.png", "goingUp",222,180);
    speed = 0;
    yspeed = 0;
    } //end load journal
    
    
     else if (T.includes("grail")&&T.includes("quest")){
CompletedThroneRoomRequirements = 1;
CompletedCageRequirements = 1;
CompletedCageKey = 1;
CompletedCastleFrontRequirements = 1;
gotEmeraldInTree = 1;
gaveLoadOwlInfo = 1;
gotSeeds = 1;
gotHairpin = 1;
gotPickaxe = 1;
gotCoin = 1;
doorOpen = 1;
plantedSeeds = 1;
gotTooth = 1;
unlockedDoor = 1;
madeCookie = 1;
gotCookie = 1;
mermaidHappy = 1;
gotShell = 1;
heardStory = 1;
gotJournal = 1;
openedmap = 1;
     
    room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingDown",173,141);
    yspeed = 0;
    speed = 0;
    } //end load grail quest
    
    /////////////////////////////////////////////
    } //end close enough
     else {
     textVar = "Graham needs to be closer to \ngaze into the magical mirror";
     }
    
    
    
    } //end load
    
    
  } //end throneroom1
  
  else if (room == "throneRoom2"){
  if (T.includes("look")){
    textVar ="The grand majestic hall \nis framed by proud stone \nbuttresses overhead.  King \n Edward's stone-cutters \nwere master craftsmen. \n The stonework is joined together \nwithout masonry.  The ingenuity\n of great designers pieced it \ntogether like a great puzzle";
  } //end look
  } //end throne room 2
  
  
  
   if (room == "throneRoom3"){
  if (CompletedCageKey == 0){
  
  if (T.includes("look")){
    if(T.includes("armor")){
    if(myGamePiece.x < 193){
    textVar = "Graham looks over the\narms, legs, and helmet,\nand sees the glint of\na brass key\nas it falls\nto the ground";
    textVar2 = "Cedric the Grey:\nYour irascible granddaughter\nhas been playing practical\njokes and locked me\nin this cage";
    changeToNewScreen("throne3cagekey.png", "throne3foreground.png", "goingLeft",myGamePiece.x,myGamePiece.y);
    CompletedCageKey = 1;
   speed = 0;
   yspeed = 0;
    } else if(myGamePiece.x > 318){
    textVar = "The other set of armor\nseems to have something\nin it";
    } else {
    textVar = "Graham needs to be\ncloser to the armor";
    }
    
    
    } 
   
  
  else if (T.includes("cage")||T.includes("open")||T.includes("unlock")){
  textVar = "The cage is locked";
  }
     else if (T.includes("owl")||T.includes("cedric")){
  textVar = "Cedric sits trapped\nin the cage";
  }
    
    else{
    textVar ="The regal hall is decked\nwith luxurious red carpets\nand finely crafted chandeliers";
    textVar2 ="A wizened old owl\nsits trapped \n in a cage on the floor";
    textVar3 = "Graham notices something\nstrange about one of the\nsuits of armor";
    }
    
    
    } 
    else if (T.includes("cage")){
  textVar = "The cage is locked";
  }
     else if (T.includes("talk")||T.includes("hello")){
  textVar="Cedric the Grey:\nIt's been a while"
  }
    
   
  } //end COOMPLETEDCAGE KEY 0
  
  else if(CompletedCageKey == 1){ //GOT KEY ALREADY
  if (T.includes("look")){
    textVar = "A small brass key\nglints in the light";
    }
 else if (T.includes("talk")||T.includes("hello")){
  textVar="Cedric the Grey:\nGood work, Graham!"
  }
  
 
  
  
   if ((T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")) && T.includes("key")){
  if(myGamePiece.x < 273){
  CompletedCageKey = 2;
  changeToNewScreen("throne3cage.png", "throne3foreground.png", "goingLeft",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
  
  } else {
  textVar ="Graham isn't close enough\n to pick it up";
  }
  } //end pick up
  
  }  //END COMPLETEDCAGEKEY1
  
  else if (CompletedCageKey == 2 && CompletedCageRequirements == 0){ //PICKED UP KEY
   if (T.includes("unlock") || T.includes("open") || T.includes("use key") || T.includes("use the key") || T.includes("free")){
   if(myGamePiece.x > 273){
    CompletedCageRequirements = 1;
    changeToNewScreen("throne3.png", "throne3foreground.png", "goingDown",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
    textVar = "Cedric the Grey:\nI had a feeling we weren't \ntrapped in some dead end.  \nHappy 100th by the way.\nWe're both wiser with age, \naren't we, old friend";
    textVar2 = "Cedric the Grey:\nI'll make sure you never \nfind yourself in \nan unwinnable conundrum.\nCrispin taught me\n a useful spell or two ";
    textVar3 = "Cedric the Grey:\nAnother adventure, Graham!\nI can't wait!";
    } else {
     textVar = "Graham isn't close enough \nto free old Cedric";
     }
   }
    else if (T.includes("talk")||T.includes("hello")){
  textVar="Cedric the Grey:\nGood thinking, Graham!"
  }
  else if (T.includes("look")){
  textVar="Cedric anticipates his freedom"
  }
   
   }
   else if (CompletedCageKey == 2 && CompletedCageRequirements == 1){
   if (T.includes("talk")||T.includes("hello")){
  textVar="Cedric the Grey:\nIt's nice to be out!"
  }
  else if (T.includes("look")){
  textVar="Cedric anticipates his freedom"
  }
   
   }
  
  } //end throne room 3
  
  else if (room == "castleFront"){
  
   if (T.includes("look")){
  
  if(mermaidHappy == 1 && gotShell == 0){
 textVar = "The magical shells are\nsitting on the bridge";
  
  } else if (T.includes("cedric")||T.includes("owl")){
  textVar = "Cedric is enjoying\nthe weather";
  }
  else{
  textVar = "Mermaids sunbathe \nleisurely around the moat";
  }
  } //end look
  
   else if (T.includes("hairpin") || T.includes("hair pin")){
   textVar = "Mermaid:\nI appreciate the thought Grammy,\nbut I let my hair\nrun wild.  Find something\nelse for me and I'll\ntake you down into\nthe depths";
   }
  
  else if (T.includes("pickax") || T.includes("pick ax")){
   textVar = "Mermaid:\nDo I look like Snow White\nhee hee?\nBring me something else sweety";
   }
   
    else if (T.includes("petal") || T.includes("flower")|| T.includes("rose")){
   textVar = "Mermaid:\nMy grandma would\nlove flowers.\nBring me something else\nthough, sweety";
   }
  
   else if (T.includes("clover")){
   textVar = "Mermaid:\nEw, leprechauns.\nThose little things are\nso rude!\nBring me something else sweety";
   }
   
   else if (T.includes("fiddle")){
   textVar = "Mermaid:\nYou can't take a\nleprechaun's fiddle, silly.\nThey use magic to steal\nit back!\nBring me something else sweety";
   }
  
  else if (T.includes("seed")){
   textVar = "Mermaid:\nOh Grammy,\n I don't need that\n weirdo gnome's seeds.\nBring me something else sweet heart";
   }
  
   else if (T.includes("cookie")){
   if(gotCookie >= 1){
   mermaidHappy = 1;
   foregroundItems();
   textVar = "Mermaid:\nOh Grammy,\nthank you so much!\nNow I can stroll all\naround in the sunshine!";
   textVar2 = "Mermaid:\nYou don't want these\nmagic shells do you?\nThey'll let humans\nbreathe underwater";
   } else {
   textVar = "Graham doesn't have\na cookie";
   }
   
   } //end cookie
  
   else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")){
   if(T.includes("shell")|| T.includes("top")|| T.includes("suit")){
   if(mermaidHappy == 1){
   
   if(myGamePiece.x < 235){
   gotShell = 1;
   foregroundItems();
   
   textVar = "Cedric the Grey:\nI hope you're not\nplanning on\nswimming in that moat\nat your age";
   swimming = 1
   walking = 0;
   
    myGamePiece.image = new Image();
     myGamePiece.image.src = "swim1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "swim2.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "swim3.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "swim4.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "swim5.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "swim6.png";
   
   myGamePiece.image.src = swimArray[walkiter];
   room = "undermoat1";
   changeToNewScreen("undermoat1.png", "transparent.png", "goingDown",262,13);
   speed = 0;
   yspeed = 0;
   } else {
   textVar = "Graham needs to be closer\nto get the\nmagic shells";
   }
   }
   
   }
   
   }
   
   
  
  else if (T.includes("talk")||T.includes("hello") || T.includes("speak")|| T.includes("say")){ 
  if (T.includes("cedric") || T.includes ("owl")){
  textVar = "Cedric the Grey:\n It's a beautiful day\n to be out";
  } 
  else if (T.includes("mermaid") || T.includes("girl")|| T.includes("woman")|| T.includes("ariel")){
  textVar = "Mermaid:\nHi Grammy.\nOn another adventure? \n It's such beautiful weather \ntoday.  A good day for a \nleisurely stroll\n(I can only imagine)"; 
textVar2 = "Mermaid:\nSay, if you're a really \nsweet boy and give me a \npresent, I'll take you down\nbelow to the depths";  
textVar3 = "Mermaid:\nAlexander and Edgar both \nturned me down, can \nyou believe that?  \nBe sweet, Graham";
    CompletedCastleFrontRequirements = 1;
  } else {
  textVar = "Mermaid: Hi Grammy.\nOn another adventure? \n It's such beautiful weather \ntoday.  A good day for a \nleisurely stroll\n(I can only imagine)"; 
textVar2 = "Mermaid:\nSay, if you're a really \nsweet boy and give me a \npresent, I'll take you down \nbelow to the depths";  
textVar3 = "Mermaid:\nAlexander and Edgar both \nturned me down, can \nyou believe that?  \nBe sweet, Graham";
    CompletedCastleFrontRequirements = 1;
  
  }
  
  } //end talk
  else if (T.includes("open") || T.includes("door")|| T.includes("gate")|| T.includes("enter")){
  textVar = "After I complete my quest, the\n first thing I will do is\nreturn to my family";
  }//end open castle door
  
  }//end castleFront
  

  
   else if (room == "castleFront2"){
  
  if (T.includes("look")){
  
  if (T.includes("mermaid") || T.includes("merman")){
  textVar = "A Mermaid and Merboy\nrelax in the sunshine";
  }
  else if (T.includes("cedric") || T.includes("owl")){
  textVar = "Cedric stands vigilent\natop the castle";
  }
  
  else if (T.includes("hole") || T.includes("tree")){
  if(gotEmeraldInTree == 0){
  textVar = "Graham finds a gleaming emerald\n in a hole in the tree!\nCedric will deliver it to\nthe children at\n 'Gwydion's orphanage' \nfor Graham";
        gotEmeraldInTree = 1;
        }else{
        textVar = "The emerald I found has been\ntaken to 'Gwydion's orphanage.'\nThose children deserve it";
        }
  
  } else {
  if(gotJournal == 1){
  
textVar = "Queen Valanice in her\ntower as usual,\nhere to see Graham off";
  
  }  else{
  textVar = "I still remember the \n first time I crossed this bridge";
}
  }
   
  } //end look
  
   else if (T.includes("talk")||T.includes("hello")||T.includes("speak")){
        if (T.includes("cedric")|| T.includes("owl")){
        textVar = "Cedric the Grey:\nYou've come a long way\nsince you first set foot\nin Daventry";
        }
        else if (T.includes("mermaid")|| T.includes("merman")|| T.includes("merboy") || T.includes("girl")|| T.includes("guy")|| T.includes("boy")|| T.includes("person")){
        textVar = "Merboy:\nBeautiful day to float\nin the moat";
        } else if (T.includes("valanice")|| T.includes("woman")|| T.includes("queen") || T.includes("princess")|| T.includes("lady")|| T.includes("wife")|| T.includes("val")){
        
        if(gotJournal == 1){
        textVar = "Valanice:\nI believe in you.\nI always have";
        }
        
        } else{
        textVar = "Merboy:\nBeautiful day to float\nin the moat";
        }
        
        
  } //end talk
  
  else if(T.includes("i love you")){
 if(gotJournal == 1){
  textVar = "Valanice:\nI love you too!";
  }
  }
  
  
  
  else if (T.includes("hole") || T.includes("tree")){
  if(gotEmeraldInTree == 0){
  textVar = "Graham finds a gleaming emerald\n in a hole in the tree!\nCedric will deliver it to\nthe children at\n 'Gwydion's orphanage' \nfor Graham";
        gotEmeraldInTree = 1;
        }else{
        textVar = "The emerald I found has been\ntaken to 'Gwydion's orphanage.'\nThose children deserve it";
        }
  }
  
  } //end castleFront2
  
   else if (room == "C1pooltoy"){
   
   if (T.includes("look")){
    if (T.includes("girl")||T.includes("child")||T.includes("daughter")){
    textVar = "The young centaur child\nuses a horsey float\nas she swims";
    }
     else if (T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric is perched\natop the tree\n keeping a lookout";
    }
    
     else if (T.includes("father")||T.includes("wife")||T.includes("mother")||T.includes("man")||T.includes("centaur")){
    textVar = "A centaur child and her\nparents play in the\n tranquil pond";
    } else {
    textVar = "Flowers grow around the\n castle grounds.\nA centaur child and her\nparents play in the\n tranquil pond";
    }
   } //end look
   
   else if (T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
 if(T.includes("cedric")||T.includes("owl")){
 textVar = "Cedric the Grey:\nEveryone enjoys\na sunny day";
 } else if (T.includes("father")||T.includes("dad")||T.includes("man")||T.includes("centaur")){
 textVar = "Centaur:\nGood to see you\nout, your highness";
 }
 else if (T.includes("woman")||T.includes("wife")){
 textVar = "Centaur:\nNice weather\nfor a swim";
 }
 
 else if (T.includes("child")||T.includes("daughter")||T.includes("girl")){
 textVar = "Centaur girl:\nI swim better\nthan a mermaid";
 } else {
 textVar = "To whom would Graham\nlike to speak?";
 }
 }//end talk
   
    else if (T.includes("give hay")||T.includes("give straw")||T.includes("feed straw")||T.includes("feed hay")){
    textVar = "Do I look like a horse?";
    }
   
   } //end C1pooltoy
  
 
 else if (room == "garden"){
  
  if (T.includes("look")){
    if (T.includes("girl")||T.includes("woman")||T.includes("pushing up roses")){
    textVar = "A young Rosegirl pals\naround with Cedric and\nwatches her garden grow";
    }
     else if (T.includes("father")||T.includes("man")||T.includes("gardener")){
    textVar = "The Rosegirl's father \nadmires her work\nin the garden";
    }
    else if (T.includes("rose")||T.includes("garden")||T.includes("plants")){
    textVar = "Gorgeous roses push up \nfrom the soil";
    }
    else if (T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric is perched\natop the fence\nlooking over the garden";
    }
    else {
    textVar = "A lovely garden.\nA young Rosegirl \nand her father watch \ntheir fragrant roses \npush up from the soil";
    }
    
 } //end look
 
  else if (T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
 if(T.includes("cedric")||T.includes("owl")){
 textVar = "Cedric the Grey:\nWhat a fragrant garden, Graham.\nPlants require nourishment\nand protection";
 } else if (T.includes("father")||T.includes("dad")||T.includes("man")||T.includes("guy")){
 textVar = "Father:\nI'm so proud of her garden";
 }
 else{
 textVar = "Rosegirl:\nThey turned out lovely didn't\nthey?  Hard work\npays off";
 }
 }//end talk
 
  else if (T.includes("smell")){
 textVar = "Graham smells one of\nthe flowers. It's lovely";
 } //end take
 else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")||T.includes("smell")|| T.includes("pick")){
 textVar = "Graham smells one of\nthe flowers. It's lovely.\nHe puts some petals\nin his pocket";
 } //end take
 
  else if (T.includes("seed") || T.includes("bean")){
  if (gotSeeds == 1){
  plantedSeeds = 1;
  textVar = "Cedric the Grey:\nA giant rose!";
  
  room = "gardenStalk";
    changeToNewScreen("gardenStalk.png", "gardenStalkForeground.png", "goingUp",228,204);
    speed = 0;
    yspeed = 0;
  } else {
  textVar = "Graham doesn't have any seeds";
  }
  
  } //end plant seeds

 }//end garden
 
 else if (room == "gardenStalk"){
 
 if (T.includes("look")){
    if (T.includes("girl")||T.includes("woman")||T.includes("pushing up roses")){
    textVar = "The Rosegirl admires the\ntremendous new rose garden";
    }
     else if (T.includes("father")||T.includes("man")||T.includes("gardener")){
    textVar = "The Rosegirl's father \nis impressed";
    }
    else if (T.includes("rose")||T.includes("garden")||T.includes("plants")){
    textVar = "A tremendous rose has\npushed upwards into\nthe sky";
    }
    else if (T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric is perched\natop the fence\nlooking over the garden";
    }
    else {
    textVar = "The gargantuan rose springs\nfrom the earth";
    }
    }//end look
 
  else if (T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
 if(T.includes("cedric")||T.includes("owl")){
 textVar = "Feeling like a climb Graham?";
 } else if (T.includes("father")||T.includes("dad")||T.includes("man")||T.includes("guy")){
 textVar = "Father:\nLook out for any thorns\non the way up";
 }
 else{
 textVar = "Rosegirl:\n Okay, I'm impressed";
 }
 }//end talk
 
  else if (T.includes("climb") || T.includes("up") || T.includes("grab") || T.includes("scale") || T.includes("ascend")||T.includes("boulder")){
 if (myGamePiece.y < 160){ 
 textVar = "Cedric the Grey:\nHere we go!";
 walking = 0;
 climbing = 1;
 
  myGamePiece.image = new Image();
     myGamePiece.image.src = "climb1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "climb.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "climb.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "climb.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "climb.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "climb6.png";
 
createObstacles()
 myGamePiece.x = 189;
 myGamePiece.y = 107;
 myGamePiece.image.src = climbArray[walkiter];
 } else{
 textVar = "Graham needs to be closer\nto the rose";
 }
 } //end climb
 
  else if (T.includes("down") || T.includes("off") || T.includes("jump") || T.includes("drop") || T.includes("leave")||T.includes("dismount")){
    if(climbing == 1){
    climbing = 0;
    walking = 1;
 myGamePiece.x = 228;
 myGamePiece.y = 204;
    } 
 
 } //end dismount
 
 }//end gardenStalk
 
 else if (room == "stalk2"){
 
   if (T.includes("talk")||T.includes("hello")){
   textVar = "Cedric the Grey:\nWindy day today";
   } //end talk
 
 else if (T.includes("look")){
   textVar = "Graham can see all the\ncreatures of Daventry\nplaying below";
   } //end look
 
  else if (T.includes("down") || T.includes("off") || T.includes("jump") || T.includes("drop") || T.includes("leave")||T.includes("dismount")){
    climbing = 0;
    walking = 1;
    room = "gardenStalk";
    changeToNewScreen("gardenStalk.png", "transparent.png", "goingRight",432,215);
 } //end dismount
 
 } //end stalk2
 
  else if (room == "stalk3"){
   if (T.includes("talk")||T.includes("hello")){
   textVar = "Cedric the Grey:\nYes, Graham";
   } //end talk
 
 else if (T.includes("look")){
   textVar = "Graham can see the\nfour corners of\nexpansive Daventry\nfrom here";
   } //end look
 
 else if (T.includes("down") || T.includes("off") || T.includes("jump") || T.includes("drop") || T.includes("leave")||T.includes("dismount")){
    climbing = 0;
    walking = 1;
    room = "gardenStalk";
    changeToNewScreen("gardenStalk.png", "transparent.png", "goingRight",432,215);
 } //end dismount
 
 } //end stalk3
 
  else if (room == "stalkTop"){
   if (T.includes("talk")||T.includes("hello")){
   textVar = "Cedric the Grey:\nIt smells so lovely\nup here";
   } //end talk
 
 else if (T.includes("look")){
   textVar = "The vibrant blossom\nof a giant rose\nis unfolded above.\nThe clouds smell like perfume";
   } //end look
 
 } //end stalkTop
 
  else if (room == "cloud1"){
   if (T.includes("look")|| T.includes("bone")){
   textVar = "This is a very\npeculiar land";
   } //end look
 
 } //end cloud1
 
 else if (room == "cloud2"){
   if (T.includes("look")){
   if (T.includes("skull")||T.includes("bone")||T.includes("giant")||T.includes("tooth")||T.includes("behemoth")||T.includes("dead")){
   textVar = "Slumbering eternally.\nLooks like even he\ngot in over his head";
   if(gotTooth == 0){
   textVar2 = "The giant's golden tooth\ngleams like new";
   }
   } //end look giant
   
   else {
   textVar = "A curious door stands\nsolitary with nothing behind it\nbesides the bones of a behemoth";
   }
   
   } //end look
 
 else if (T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")||T.includes("owl")||T.includes("cedric")){
 
 if (gotHairpin == 1 || gotPickaxe == 1){
 
 if(gotJournal == 0){
 textVar = "Cedric the Grey:\nYou have what you need\nto enter the door";
 textVar2 = "Cedric the Grey:\nBut why do you need\nto enter the door?";
 } else {
 textVar = "Cedric the Grey:\nThe quest for\neternal life";
 }
 
 } else {
  textVar = "Cedric the Grey:\nYou do not possess \nwhat you require\nto enter the door.\nTo return to the ground speak\nthe incantation: 'downous'";
 }
 
 } //end talk
 
  else if (T.includes("downous")){
    climbing = 0;
    walking = 1;
    room = "gardenStalk";
    changeToNewScreen("gardenStalk.png", "transparent.png", "goingRight",432,215);
 } //end dismount
 
  else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")||T.includes("pull")){
  if (T.includes("tooth")||T.includes("teeth")){
  if (myGamePiece.x > 472){
 gotTooth = 1;
 
 
 if(unlockedDoor == 0){
   changeToNewScreen("cloud2doorclosedgottooth.png", "cloud2Foreground.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
   } else {
    changeToNewScreen("cloud2dooropengottooth.png", "cloud2Foreground.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
   }
 
 textVar = "With a heave Graham \n plucks out the gold tooth.\nCedric will deliver it\nto Daventry's dentists\nfor free fillings\nfor children who eat\ncandy houses";
 
 
 } else{
 textVar = "Graham needs to be \ncloser to pull the tooth";
 } //end proximity
 } //end pick up tooth
 } //end pick up
 
 else if (T.includes("hairpin")||T.includes("hair pin")){
 if(gotHairpin == 1){
 if(myGamePiece.y < 124){
 unlockedDoor = 1;
 doorOpen = 1;
  textVar = "Cedric the Grey: Dracula's \nhairpin. Your royalty allowed\nyou to wield it. Clever.\nCrispin and I destroyed\nthe keys to these\ndoors years ago.\nPoor Crispin vanished";
 textVar2 = "Cedric the Grey:\nI'm the most powerful wizard\nin Daventry. Trained by\nCrispinophur, and leader of\nthe society of wizards";
 textVar3 = "Cedric the Grey:\nI am telling you\nthat is a perilous place,\nbut I will go there\nwith you my old friend";
 
 if(gotTooth == 0){
   changeToNewScreen("cloud2dooropen.png", "cloud2Foreground.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
   } else {
    changeToNewScreen("cloud2dooropengottooth.png", "cloud2Foreground.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
   }
   
   }else {
   textVar = "Graham needs to be closer\nto the door";
   }
   
 } else {
  textVar = "Graham doesn't have a hairpin";
 } //end have hairpin
 
 } //end unlock door with hairpin
 
   else if (T.includes("ax")){
  if(gotPickaxe == 1){
  if(myGamePiece.y < 124){
 unlockedDoor = 1;
 doorOpen = 1;
 textVar = "Cedric the Grey: Your royalty\nallows you to open it.\nCrispin and I destroyed\nthe keys to these\ndoors years ago.\nCrispin vanished";
 textVar2 = "Cedric the Grey:\nI'm the most powerful wizard\nin Daventry. Trained by\nCrispinophur, and leader of\nthe society of wizards";
 textVar3 = "Cedric the Grey:\nI am telling you\nthat is a perilous place,\nbut I will go there\nwith you my old friend";
 room = "cloud2"; //same room
    changeToNewScreen("cloud2dooropen.png", "cloud2Foreground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    
     }else {
   textVar = "Graham needs to be closer\nto the door";
   }
    
 } else {
  textVar = "Graham doesn't have a Pickaxe";
  }
 } // end pickaxe
 
  else if (T.includes("open")||T.includes("unlock")||T.includes("enter")||T.includes("knock")){
 
 if(unlockedDoor == 0){
 textVar = "Cedric the Grey:\nThere are no keys\nto that door";
  textVar2 = "Cedric the Grey:\nThere are dark powers\ninside there my friend";
 }
 
 } // end try to open door
 
 } //end cloud2
 
 else if (room == "gardenNorthCliff"){
   if (T.includes("look")){
  
  if (T.includes("cedric")||T.includes("owl")){
  textVar = "Cedric is as lively as ever";
  }
  else {
  textVar = "Tall cliffs overlook the cool\nwaters of lake Maylie";
  }
  }//end look
   else if (T.includes("talk")||T.includes("hello")){
   textVar = "Cedric the Grey:\nDo you ever feel\nlike you can see\nthe entire universe\nfrom where you are?";
   } //end talk
  
  }// end gardenNorthCliff
 
  if (room == "fairyGround"){
 
  if (T.includes("look")){
  
  if (T.includes("cedric")||T.includes("owl")){
  textVar = "Cedric enjoys this\nbeautiful day";
  }
  else {
  textVar = "A beautiful meadow.\nSmall wildflowers speckle\nthe ground";
  }
  }//end look
 
 else if (T.includes("talk")||T.includes("hello")){
   textVar = "Cedric the Grey:\nIt's so peaceful\namongst the flowers\nisn't it?";
   } //end talk
  
  } //end Fairy room
  
  else if (room == "A2lake"){
  
   if (T.includes("look")){
   textVar = "Rosella tried kissing\nthis frog once, but\n it's only a frog";
   }
   else if (T.includes("talk")||T.includes("hello")||T.includes("speak")){
   textVar = "Cedric the Grey:\nThese wonderful frogs\nkeep the flies\nout of Daventry";
   } //end talk
  
  }//end A2lake
  
   else if (room == "rumplestiltskin"){
       if (T.includes("look")){
        if (T.includes("hay")||T.includes("straw")){
        textVar = "Piles of yellow \n straw surround the \gnome";
        }
        else if (T.includes("gold")||T.includes("coins")){
        textVar = "Golden coins lay\nscattered across\nthe ground\nat the Gnome's feet";
        }
        else if (T.includes("gnome")||T.includes("man")||T.includes("guy")){
        textVar = "The gnome works away\ncrafting gold\npurely for fun";
        }
        else if (T.includes("cedric")||T.includes("owl")){
        textVar = "Cedric is perched atop \n one of the many\n piles of hay";
        }
        else if (T.includes("sign")||T.includes("post")){
        textVar = "Sign:\nHood's Mill\nDue West";
        }
        else {
        textVar = "An old gnome delicately\nspins straw into gold";
        }
        
        } //end look
        else if (T.includes("sign")||T.includes("read")||T.includes("post")){
        textVar = "Sign:\nHood's Mill\nDue West";
        }
        
        else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")){
        
            if (T.includes("gold")||T.includes("coins")){
            textVar = "Graham picks up some gold.\nCedric will deliver the\ncoins to 'Gwydion's Orphanage'\nfor Graham";
            }
            else if (T.includes("hay")||T.includes("straw")){
            textVar = "Graham picks up some hay.\nHe can feed it \nto Rosella's unicorn\nsometime";
            }
            
        } //end pick up
       
       else if (T.includes("talk")||T.includes("hello") || T.includes("speak")|| T.includes("ask")){
            if (T.includes("owl")||T.includes("cedric")){
            if (gotSeeds == 0){
            textVar = "Cedric the Grey:\nThe gnome's name is\na logical fallacy";
            } else{
            textVar = "Cedric the Grey:\nYou're planning something\naren't you Graham";
            }
            }
            else {
            if(gotSeeds == 0){
            textVar = "Gnome: Your highness. How is\nthe economy going? Not too \nmuch inflation I hope.\nHave you forgotten my name?";
            textVar2 = "Strangers called my father\n'ifnkovhgroghprm,' but the\n name reversed was\n'Rumplestiltskin.'\nSome call me hgizdnzm,\nbut do you remember \nmy real name?";
            textVar3 = "I'll give you infinite tries,\nand if you win, a prize!";
            }
            else{
            textVar = "Strawman:\nGood luck finding\nfertile soil for the seeds";
            }
            } //end talk to rumplestiltskin
       }
       
       else if (T.includes("strawman") || T.includes("straw man")){
       textVar = "Strawman:\nYou remembered!\nHere are some magical\nseeds, worth more than gold";
       textVar2 = "Strawman:\nIf you can find fertile\nsoil to plant them in";
       
       if(gotPickaxe == 0 && gotHairpin == 0){
        textVar3 = "Cedric the Grey: Crispin\ntaught me the importance of\nlooking back with\nfond memories.\nTo return to this point in time,\nlook in the magic mirror\nand speak the incantation:\n'Load seeds'";
        } else if (gotPickaxe == 1 && gotHairpin == 0){
        textVar3 = "Cedric the Grey: Crispin\ntaught me the importance of\nlooking back with\nfond memories.\nTo return to this point in time\nLook in the magic mirror\nand speak the incantation:\n'Load Farmer'";
        } else if (gotHairpin == 1 && gotPickaxe == 0){
        textVar3 = "Cedric the Grey: Crispin\ntaught me the importance of\nlooking back with\nfond memories.\nTo return to this point in time\nLook in the magic mirror\nand speak the incantation:\n'Load Strawman'";
        }else if (gotHairpin == 1 && gotPickaxe == 1){
        textVar3 = "Cedric the Grey: Crispin\ntaught me the importance of\nlooking back with\nfond memories.\nTo return to this point in time\nLook in the magic mirror\nand speak the incantation:\n'Load Red Riding Hood'";
        }
        
        
        gotSeeds = 1;
       }
        
        
        
   } //end rumplestiltskin
  
  else if (room == "cave"){
    if (T.includes("look")){
    
    if (T.includes("dragon")||T.includes("monument")||T.includes("statue")){
    textVar = "This golden monument captures\nthe moment perfectly.\nIt seems like\nonly yesterday";
    } 
    else{
    textVar = "Upon hearing Graham's footsteps,\nthe seven dwarves put down\ntheir pickaxes in reverence\n to him";
    textVar2 = "The dwarves' golden bejeweled\nmonument gleams\nin the ambient light";
     }
    } // end look
    
    else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")){
    
        if (T.includes("gold")||T.includes("jewel")||T.includes("diamond")){
        textVar = "Graham picks up some valuables\non the ground.\nCedric will donate them to\n some orphan Dwarves for him";
        }
        else if (T.includes("ax")){
       
       if (gotPickaxe == 0){
        gotPickaxe = 1;
        textVar = "Graham picks up a dwarf pickaxe\noff the ground";
        textVar2 = "Cedric the Grey: (calls out)\n What are you planning Graham?";
        
        if (gotSeeds == 1 && gotHairpin == 0){
        textVar3 = "Cedric the Grey:\nTo return to this moment\nwith your seeds and pickaxe,\nlook in the enchanted mirror\nand speak the incantation:\n'Load Farmer'";
        } else if (gotSeeds == 0 && gotHairpin == 0){
        textVar3 = "Cedric the Grey:\nTo return to this moment\nwith your pickaxe,\nlook in the enchanted mirror\nand speak the incantation:\n'Load Dwarves'";
        }
         else if (gotSeeds == 0 && gotHairpin == 1){
        textVar3 = "Cedric the Grey:\nTo return to this moment\nwith your pickaxe,\nlook in the enchanted mirror\nand speak the incantation:\n'Load Charity'";
        }
         else if (gotSeeds == 1 && gotHairpin == 1){
        textVar3 = "Cedric the Grey:\nTo return to this moment\nwith your pickaxe,\nlook in the enchanted mirror\nand speak the incantation:\n'Load Red Riding Hood'";
        }
       
        } else if (gotPickaxe == 1){
            textVar = "Graham has picked up a\ndwarf pickaxe already";
            } 
    
        } //end picking up ax
       
        
    } //end pick up
    
    else if (T.includes("talk")||T.includes("hello") || T.includes("speak")|| T.includes("say")){
    
     if (T.includes("sleepy")){
    textVar = "Yawwwnnn\nOut of bed Your Highness?";
    } 
    
    else if (T.includes("grumpy")){
    textVar = "Hmmpphh\nToo many gems to mine";
    } 
     else if (T.includes("happy")){
    textVar = "There's never a rainy day\ndown in a cavern!";
    } 
     else if (T.includes("doc")){
    textVar = "Feeling Ok Sire?\nYou don't look so healthy";
    } 
     else if (T.includes("bashful")){
    textVar = "...oh gosh\nHi!";
    } 
     else if (T.includes("dopey")){
    textVar = "...";
    } 
     else if (T.includes("sneezy")){
    textVar = "Aaaah, aaaahhh,\nAchooo!";
    } 
    
    else{
   
    textVar = "'Yawwwwnnnn'\n'Hmmpphhhh'\n'Wonderful weather down here!'\n'Achoo!'\n'...'\n'Watch out for the dragon, heh'\n'Are you feeling healthy Graham?'";
    }
    } //end talk
    
  } //end cave
  
   else if (room == "B3goatback"){
    if (T.includes("look")){
    textVar = "Graham finds some silver\ndoubloons between the\ntree roots.  Cedric will\ndeliver them to \n'Gwydion's orphanage'";
    }
    else if (T.includes("talk")||T.includes("hello") || T.includes("speak")|| T.includes("say")){
    textVar = "Cedric the Grey:\nLooking good down there,\nGraham";
    }
  
  } //end B3goatback
  
   else if (room == "B2goat"){
    if (T.includes("rock")||T.includes("stone")){
    textVar = "Graham finds a necklace of\nrubies! Cedric will deliver\n it to an owl orphanage\n for Graham";
    }
   else if (T.includes("talk")||T.includes("hello") || T.includes("speak")|| T.includes("say")){
    textVar = "Cedric the Grey:\nHelooo down there Graham";
    } 
     else if (T.includes("look")){
     textVar = "There is a soft melody\nof birds chirping\nin the meadow.\nHealthy grass grows\nbeneath Graham's feet";
     }
  
  } //end B2goat
  
   else if (room == "mill"){
    
    if(T.includes(open)|| T.includes("enter")||T.includes("door")||T.includes("go in")){
    
     if (myGamePiece.x < 232){
     room = "hood";
  changeToNewScreen("hood.png", "transparent.png", "goingUp",153,210);
    speed = 0;
    yspeed = 0;
  } else{
  textVar = "Graham isn't close enough\nto the door";
  }
  } //end open door
  
  else if (T.includes("knock")){
  if (myGamePiece.x < 232){
  textVar = "Come in";
  } else{
  textVar = "Graham isn't close enough\nto the door";
  }
  } //end knock
  
   else if (T.includes("look")){
   
   if (T.includes("swan")){
   textVar = "A calm swan drifts\n peacefully in the stream";
   } else{
   textVar = "A quaint mill sits\ncozy on the riverside\n with a slow river\npassing by";
   }
   } //end look
  
  else if (T.includes("talk")||T.includes("hello") || T.includes("speak")|| T.includes("say")){
  
  if(T.includes("swan")){
  textVar = "Swan:\n...";
  } else{
    textVar = "Cedric the Grey:\nWhat are you up\nto at the mill?";
  }
    } // end talk
  
  } //end mill
  
  
  else if (room == "hood"){
  
  if(T.includes(open)|| T.includes("exit")||T.includes("door")||T.includes("go out")|| T.includes("leave")){
  if (gotHairpin == 1){
  room = "mill";
changeToNewScreen("mill.png", "millForeground.png", "goingDown",175,84);
yspeed = 0;
speed = 0;

textVar = "Cedric the Grey:\nHmm.\nWhat are you planning\n your highness?";

if(gotPickaxe == 0 && gotSeeds == 0){
textVar2 = "Cedric the Grey:\n To return to this point\nin time, look in the\nmagical mirror and speak\nthe incantation:\n'Load Hairpin'";

} else if (gotPickaxe == 1 && gotSeeds == 0){
textVar2 = "Cedric the Grey:\n To return to this point\nin time, look in the\nmagical mirror and speak\nthe incantation:\n'Load Charity'";
}
else if (gotPickaxe == 1 && gotSeeds == 1){
textVar2 = "Cedric the Grey:\n To return to this point\nin time, look in the\nmagical mirror and speak\nthe incantation:\n'Load Red Riding Hood'";
}
else if (gotPickaxe == 0 && gotSeeds == 1){
textVar2 = "Cedric the Grey:\n To return to this point\nin time, look in the\nmagical mirror and speak\nthe incantation:\n'Load Strawman'";
}

  }
  else if (gotCoin == 0){
  textVar = "Cedric the Grey:\nI think there is something\nyou should do here Graham";
  }
  else {
  textVar = "Cedric the Grey:\nHmm, isn't there something\nyou ought to do first?";
  }
  } //end exit
  
   else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")){
   
  if(T.includes("coin")||T.includes("gold")||T.includes("doubloon")){
  gotCoin = 1;
  foregroundItems();
  textVar = "Graham picks up the \nfamily's gold coin\n off the ground";
  } else {
  textVar ="Mother:\nwe need that here\nin the house Sire";
  }
  } //end pick up
  
  
  else if (T.includes("give") || T.includes("return") || T.includes("hand") || T.includes("donate")){
  
  if(T.includes("coin")||T.includes("gold")||T.includes("penny")||T.includes("money")||T.includes("doubloon")){
  if(gotCoin == 1){
  gotHairpin = 1;
  textVar = "Mother: There it is!\nThank you so much for\nreturning that!  Here\nis grandma's golden\nHairpin as thanks!\nWe have plenty already.\nThat machine never stops";
  } else {
  textVar = "Graham doesn't currently\nhave the coin";
  }
  }
  else {
  textVar = "Cedric the Grey:\nYou don't need to\ngive them that,\nyour Highness";
  }
  
  } //end give coin back
  
   
  
  else if (T.includes("look")){
  textVar = "The family uses the \nmill to automate\ntheir chores. A tool\nautomatically builds gold items\nin the center of the room";
  textVar2 = "An automated broom has\nswept a gold coin near Graham";
  } //end look
  
  else if (T.includes("taste")||T.includes("eat")){
  textVar = "Mother:\nIt's delicious, isn't it";
  } //end eat
  
  else if (T.includes("talk")||T.includes("hello") || T.includes("speak") || T.includes("ask") || T.includes("say")){
  textVar = "Mother:\nLife is easy these days\nwith the magic of\ntechnology";
  } //end talk
  
  } //end hood
  
   else if (room == "A1clover"){
  if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick")){
    
    if (T.includes("fiddle") || T.includes("instrument")|| T.includes("violin")){
    if(myGamePiece.x > 390 && myGamePiece.y < 167){
    gotFiddle = 1;
    foregroundItems();
    textVar = "Graham has picked up\nthe magic fiddle";
    } else{
    textVar = "Graham needs to be closer\nto pick up the fiddle";
    }
    } //end fiddle
    
    else if (T.includes("clover") || T.includes("plant")){
    textVar = "Graham picks a\nfour-leafed clover,\nand it makes him feel like\nthe luckiest man in Daventry";
    }
  } //end pick up
  
   else if (T.includes("leprechaun")&&T.includes("king")&&T.includes("loves")&&T.includes("you")){
   playedFiddle = 2;
   textVar ="Leprechaun King:\nIf you're going to\nbe alive, be lively";
   }
  
   else if (T.includes("leprechaun")&&T.includes("king")){
   if(playedFiddle == 2){
   textVar ="Leprechaun King:\nIf you're going to\nbe alive, be lively";
   }
   }
  
   else if (T.includes("look")){
   if(T.includes("cedric")||T.includes("owl")){
   textVar = "Cedric is shy around \nthe powerful magic \nof leprechauns";
   }
   else if(T.includes("clover")||T.includes("plant")){
   textVar = "The clovers are large\nand emerald green";
   }
   else if(playedFiddle == 1){
 textVar = "The leprechauns dance with\nthe merriment of a\nmillion rainbows";
  } else if(playedFiddle == 0){
   textVar = "Two leprechauns daydream\namongst a bed of giant clovers";
  textVar2 = "Their magic fiddle\nrests on the ground";
  } else if(playedFiddle == 2){
   textVar = "The leprechaun king is\nproud of his subjects";
  textVar2 = "He looks as though\nhe has something\nto say";
  } 
  
  
  } //end look
  
   else if (T.includes("talk")||T.includes("hello") || T.includes("speak") || T.includes("ask") || T.includes("say")){
  if (T.includes("cedric")||T.includes("owl")){ 
  textVar = "Cedric the Grey:\nLeprechauns have strong magic.\nVery strange beings";
  } else if(playedFiddle == 1 || playedFiddle == 0){
  textVar = "Leprechaun:\nIdle deedlee idle\nlee idley idley lee...";
  } else{
   textVar ="Leprechaun King:\nIf you're going to\nbe alive, be lively";
  }
  } //end talk
  
  
  else if (T.includes("play") || T.includes("music")|| T.includes("instrument")|| T.includes("use fiddle")|| T.includes("use violin")){
  if(gotFiddle == 1){
   playedFiddle = 1;
   textVar = "As the leprechauns\nmerrily dance,\ngold doubloons spill\nfrom their pockets.\nCedric will deliver them to\nthe children at\n'Gwydion's Orphanage'";
   
  } else {
   textVar = "Graham isn't holding the\nmagic fiddle yet";
  }
  
  } //end play fiddle
  
  
  
 
  
  } //end A1clover
  
  
   else if (room == "manannan" || room == "manannanDoor"){
   
    if (T.includes("look")){
   
   if (T.includes("shelves")||T.includes("shelf")||T.includes("case")){
   textVar = "The shelves are filled with\nevery ingredient imaginable,\nboth horrible and lovely";
   }
  
   
    else if (T.includes("desk")||T.includes("writing")){
   textVar = "The writing desk\nin the back of the room\nhas a large blank\npiece of paper on it";
   }
   
   else if (T.includes("inscription")){
    textVar = "'Gwydion's Cookie Recipe:\nMix Chocolate and\ndough with the\nmortar and pestle'";
   }
   
   else if (T.includes("paper")){
    textVar = "A large blank piece of\npaper sits on the desk";
   }
   
   else if (T.includes("cookie")){
   if(madeCookie == 1){
    textVar = "It's an ordinary\nlooking chocolate chip\ncookie. Suprisingly it baked\ninstantly";
   }
   }
   
    
   
     else if (T.includes("table")||T.includes("work")){
   
   if(madeCookie == 0 && gotCookie == 0){
   textVar = "The work table at the\nfront of the room has\ninstruments and containers\nnot used for\ndomestic work, including a\nmortar and pestle";
   textVar2 = "The table has something\nscratched onto it...";
   textVar3 = "'Gwydion's Cookie Recipe\nfor anyone hungry for freedom:\nMix Chocolate and\ndough with the\nmortar and pestle'";
   }else if(madeCookie == 1){
   textVar = "It's an ordinary\nlooking chocolate chip\ncookie. Suprisingly it baked\ninstantly";
   }
   }
   
   else{
   textVar = "This laboratory is filled\nwith arcane oddities\nand ingredients\npulled from the wildest\ncorners of distant lands";
   textVar2 = "The eerie torches are\nstill lit after\nall these decades";
   textVar3 = "A writing desk sits\nin the back corner,\nand a work table\nstands in the\nfront of the room";
   }
  
   
   } //end look
   
   else if (T.includes("voyagous")){
    walking = 1;
     small = 0;
     if(openedmap == 1){
     
     if (myGamePiece.x > 314 && myGamePiece.y < 129){
     lookingatmap = 1;
     
    
      changeToNewScreen("mapbackgroundblurred.png", "mapbackgroundblurred.png", "goingUp",myGamePiece.x,myGamePiece.y);
     
      speed = 0;
      yspeed = 0;
     } else {
     textVar = "Graham needs to be\ncloser to the map";
     }
     
     } else{ 
     textVar = "Cedric the Grey:\nWho taught you that?";
     textVar2 = "Cedric the Grey:\nLook, the map\nhas been revealed.\nSpeak the incantation again!";
     openedmap = 1;
     room = "manannanmap";
     changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",myGamePiece.x,myGamePiece.y);
     speed = 0;
     yspeed = 0;
     }
   }
   
   else if (T.includes("eat")){
   if (madeCookie == 1){
   becameCat = 1;
   foregroundItems();
   textVar = "Cedric the Grey:\nOh Graham,\nlook at what you've\nbecome";
   textVar2 = "To become human again\nspeak the incantation:\ngrahamous";
   textVar3 = "and you will need\nto make the cookie\nagain";
   
   madeCookie = 0;
   gotCookie = 0;
   }
   }
   
    else if (T.includes("grahamous")){
  becameCat = 0;
  foregroundItems();
   }
   
   
    else if (T.includes("read")||T.includes("inscription")||T.includes("recipe")){
   textVar = "'Gwydion's Cookie Recipe:\nMix Chocolate and\ndough with the\nmortar and pestle'";
   } //end read
   
   else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick")){
   if(T.includes("chocol")){
   if( (myGamePiece.y < 146 && myGamePiece.x > 365) || (myGamePiece.y < 121 && myGamePiece.x < 308)){
   gotChocolate = 1;
   textVar = "Graham picks up the\nChocolate";
   textVar2= "Cedric the Grey:\nCareful with that";
   } else {
   textVar = "Graham needs to be closer\nto pick up the\nchocolate";
   }// end proximity
   } //end chocolate
   
   if(T.includes("doug")){
     if( (myGamePiece.y < 146 && myGamePiece.x > 365) || (myGamePiece.y < 121 && myGamePiece.x < 308)){
   gotDough = 1;
   textVar = "Graham picks up the dough";
   textVar2 = "Cedric the Grey:\nYou are determined";
     } else {
   textVar = "Graham needs to be closer\nto pick up the\ndough";
   }// end proximity
   } // end doug
   
   if(T.includes("cookie")||T.includes("biscuit")){
    if (madeCookie == 1){
    textVar = "Cedric the Grey:\nAlright, you have it.\nInteresting work, Graham.\nLet's go home";
    textVar2 = "If you want to return\nto this perilous moment\nin time, look in\nthe magic mirror and say\nthe magical incantation\n'Load cookie'";
   gotCookie = 1;
   foregroundItems();
       room = "manannanDoor";
  changeToNewScreen("manannanDoorDaventry.png", "manannanForeground.png", "goingLeft",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
   } else{
   textVar = "Graham hasn't made\na cookie yet";
   }
   }
   
   } //end get
   
   else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   
   if (becameCat == 1){
   textVar = "Cedric the Grey:\nDangerous work.\nSpeak the incantation\n'Grahamous'\nYou will need to\nmake the cookie again";
   }
   
   } //end talk
   
   
   
   else if (T.includes("mix") || T.includes("use") || T.includes("combine") || T.includes("morter") || T.includes("mortar")|| T.includes("pestle")|| T.includes("blend")|| T.includes("put")){
   if(myGamePiece.x > 261 || myGamePiece.y > 139){
   
   if(gotChocolate == 0 || gotDough == 0){
   textVar = "Graham doesn't have all\nthe ingredients yet";
   }
   
   else if ((T.includes("morter") || T.includes("mortar")|| T.includes("pest")) && (T.includes("dough") && T.includes("chocol"))){
   madeCookie = 1; //!!!!!!!!!!!!!!!!!!!!
   foregroundItems();
   
   textVar = "Cedric the Grey:\nI'm starting to see\nyour plan";
   
   }else if (T.includes("dough") && T.includes("chocol")){
   textVar = "Specify what you want\nto mix them in";
   
   }else if (T.includes("dough") || T.includes("chocol")){
   textVar = "Cedric the Grey:\nBe sure to \ninclude every ingredient";
   
   } else{
   textVar = "Graham needs to use\nall the ingredients";
   }//end success mixing ingredients !!!!!
   
   } else {
   textVar = "Graham needs to be closer\nto the work table";
   }
   
   } //end mix ingredients
   
   
   
   } //end manannan
   
   
  
    else if (room == "manannanmap"){
    
     if (T.includes("look")){
     
      if (T.includes("table")){
      textVar = "The wizard's worktable\nhas a page from Gwydion's\njournal resting upon\nit, and the mortar\nand pestle are ready\nto accept ingredients";
      }
     else  if (T.includes("desk")||T.includes("map")){
     if(openedMap == 1){
     textVar = "The blank paper on\nthe desk transformed\ninto a wondrous\nmagical map";
     }else{
     textVar = "A blank piece of paper\nsits on the desk";
     }
     } //end desk
     
     else if (T.includes("shelves")||T.includes("shelf")||T.includes("case")){
     textVar = "The shelves are filled\nwith a panoply of\ningredients. Everything you\nneed for\nthe elixir of life\nbut which ones to use?";
     } //end shelves
     
      else if (T.includes("cedric")||T.includes("owl")){
      textVar = "My faithful friend";
      }
     
      else if (T.includes("mortar")||T.includes("pestle")){
      textVar = "The ancient mortar\nand pestle sit on the\ndesk at the front\nof the room,\nready to receive the\ningredients of the\nelixir of eternal life";
      }
     
     else if (T.includes("journal")||T.includes("page")||T.includes("gwydion")){
    
     if (myGamePiece.x > 264 && myGamePiece.y > 141){
     readingJournal = 1;
   foregroundItems();
    } else {
     textVar = "Graham needs to be\ncloser to the journal page";
     }
    } //end journal
     
     else {
     textVar = "Shelves filled with arcane\ningredients frame the room.\nA writing desk sits\nin the back of the\nbasement, and the table\nto the front of the room\nhas Gwydion's journal page\nupon it, and an old\nmortar and pestle";
     }
     
     } //end look
    
    /////// //grailmaplocations
    if (lookingatmap == 1){
    
    if (T.includes("northern")&&T.includes("sea")){
    room = "northernsea";
     changeToNewScreen("northernsea.png", "northernseaForeground.png", "goingUp",343,106);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
   else if (T.includes("equestria")){
    room = "equestria1";
     changeToNewScreen("equestria1.png", "transparent.png", "goingUp",77,124);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
    else if (T.includes("realm") && T.includes("sun")){
    room = "realmdoor1";
     changeToNewScreen("realmdoor1.png", "transparent.png", "goingUp",264,208);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
   
   else if (T.includes("vulcanix")){
   if(gotOtar == 1){
    myBackground.image = new Image();
     myBackground.image.src = "volcanix4.png";
     myBackground.image = new Image();
     myBackground.image.src = "volcanix3.png";
     myBackground.image = new Image();
     myBackground.image.src = "volcanix2.png";
     myBackground.image = new Image();
     myBackground.image.src = "volcanix1.png";
   
    room = "vulcanix";
     changeToNewScreen("volcanix1.png", "transparent.png", "goingRight",264,208);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }else {
    textVar = "Cedric the Grey:\nKing Otar isn't in\nhis kingdom currently.\nStrange";
    }
    }
  
  else if (T.includes("spirit")&&T.includes("isle")){
    room = "islandofspirits";
     changeToNewScreen("islandofspiritsNoGhost.png", "transparent.png", "goingUp",194,195);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
    else if (T.includes("rocky")&&T.includes("shoal")){
    room = "rockyshoals";
     changeToNewScreen("rockyshoals.png", "transparent.png", "goingUp",156,134);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
    
     else if (T.includes("sour")&&T.includes("peak")){
    room = "witchlair";
     changeToNewScreen("witchlair.png", "witchlairForeground.png", "goingUp",156,134);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
   else if (T.includes("green")&&T.includes("isle")){
    room = "greenisles";
     changeToNewScreen("greenisles.png", "transparent.png", "goingUp",215,195);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
  else if (T.includes("frozen")&&T.includes("north")){
    room = "northpole1";
     changeToNewScreen("northpole1.png", "northpole1Foreground.png", "goingRight",24,147);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
 
   else if (T.includes("tamir")){
    room = "tamir1";
     changeToNewScreen("tamir1.png", "transparent.png", "goingUp",215,195);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
 
  
   else if (T.includes("lion")||T.includes("compass")){
    room = "lion";
     changeToNewScreen("compass1.png", "transparent.png", "goingUp",195,147);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
  
    else if (T.includes("fairy")&&T.includes("island")){
    myBackground.image = new Image();
     myBackground.image.src = "fairy31.png";
       myBackground.image = new Image();
     myBackground.image.src = "fairy32.png";
       myBackground.image = new Image();
     myBackground.image.src = "fairy33.png";
       myBackground.image = new Image();
     myBackground.image.src = "fairy34.png";
   
    room = "fairy2";
     changeToNewScreen("fairy2.png", "transparent.png", "goingUp",127,182);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
     
    }
  
   else if (T.includes("king")&&T.includes("island")){
    room = "pirate2";
     changeToNewScreen("pirate2.png", "transparent.png", "goingUp",82,202);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
   else if (T.includes("harp")){
    room = "harpy";
     changeToNewScreen("harpy1.png", "transparent.png", "goingUp",82,202);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
    else if (T.includes("mordack")){
    room = "mordack1";
    myBackground.image = new Image();
     myBackground.image.src = "mordackForeground1L.png";
    myBackground.image = new Image();
     myBackground.image.src = "mordackForeground2L.png";
     myBackground.image = new Image();
     myBackground.image.src = "mordackForeground3L.png";
     myBackground.image = new Image();
     myBackground.image.src = "mordackForeground4L.png";
    
     changeToNewScreen("mordackForeground1L.png", "transparent.png", "goingUp",82,202);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
     textVar = "Cedric the Grey:\nIt's safe this way!";
    }
  
  else if (T.includes("enchanted")){
    room = "EnchantedA1";
     changeToNewScreen("EnchantedA1.png", "EnchantedA1Foreground.png", "goingUp",288,89);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
    
   else if (T.includes("town")){
    room = "daventrytown";
     changeToNewScreen("daventrytown.png", "transparent.png", "goingUp",300,175);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
 
  
  
     else if (T.includes("dangerous") && T.includes("current")){
    room = "dangerouscurrents";
     changeToNewScreen("dangerouscurrents.png", "transparent.png", "goingUp",28,175);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
   else if (T.includes("great") && T.includes("sea")&& T.includes("ocean")){
    room = "pirate1";
     changeToNewScreen("pirate1.png", "pirate1Foreground.png", "goingUp",170,53);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
  
   else if (T.includes("llewdor")){
    room = "llewdor";
     changeToNewScreen("llewdor.png", "llewdorForeground.png", "goingUp",300,175);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
  
     else if (T.includes("edge") && T.includes("of")&& T.includes("the")&& T.includes("world")){
    room = "edgeoftheworld";
     myBackground.image = new Image();
     myBackground.image.src = "edgeoftheworldForegrounddry2.png";
      myBackground.image = new Image();
     myBackground.image.src = "edgeoftheworldForegrounddry3.png";
      myBackground.image = new Image();
     myBackground.image.src = "edgeoftheworldForegrounddry4.png";
     myBackground.image = new Image();
     myBackground.image.src = "edgeoftheworldForegrounddry1.png";
     myBackground.image = new Image();
     myBackground.image.src = "edgeoftheworldForeground1.png";
      myBackground.image = new Image();
     myBackground.image.src = "edgeoftheworldForeground2.png";
      myBackground.image = new Image();
     myBackground.image.src = "edgeoftheworldForeground3.png";
      myBackground.image = new Image();
     myBackground.image.src = "edgeoftheworldForeground4.png";
     changeToNewScreen("edgeoftheworld.png", "transparent.png", "goingUp",272,98);
    oldBackground = new component(546, 280, "edgeoftheworldForegrounddry1.png",0, 0, "image");
     textVar = "Cedric the Grey:\nCareful, Graham!";
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
      
    }
    
    else if (T.includes("world")){
   textVar = "Cedric the Grey:\nThe world of Daventry\nis a beautiful place,\nisn't it?";
    }
    
    
     else if (T.includes("neptune")){
     room = "neptune";
     changeToNewScreen("neptune.png", "transparent.png", "goingUp",196,25);
    lookingatmap = 0;
    walking = 0;
    swimming = 1;
     speed = 0;
     yspeed = 0;
    myGamePiece.image.src = swimArray[walkiter];
    
    }
    
     else if (T.includes("desert")){
      
      if(T.includes("tanalore")){
      room = "tanaloredesert";
     changeToNewScreen("tanaloredesert.png", "tanaloredesertForeground1.png", "goingUp",511,208);
     textVar = "Cedric the Grey:\nI'll take care of\nthe bandits";
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
      }
      else if(T.includes("serenia")){
       room = "sereniadesert";
     changeToNewScreen("sereniadesert.png", "transparent.png", "goingUp",277,207);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
      }
      else {
      textVar = "Cedric the Grey:\nWhich desert,\n'Tanalore Desert' or\n'Serenia Desert'?";
      }
    }//end deserts
    
     
    
    
    
    else if (T.includes("swamp")){
    room = "swamp";
     changeToNewScreen("swamp.png", "swampForeground.png", "goingUp",28,175);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
    
    else if (T.includes("kolyma")){
     
    room = "church1";
     changeToNewScreen("church1.png", "transparent.png", "goingUp",109,210);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
    
     else if (T.includes("port") && T.includes("bruce")){
      room = "portbruce";
     changeToNewScreen("portbruce.png", "transparent.png", "goingUp",282,209);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }//end portbruce
    
     else if (T.includes("southern") && T.includes("sea")){
      room = "dolphin";
     changeToNewScreen("dolphin.png", "dolphinForeground.png", "goingLeft",362,194);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }//dolphin
    
      else if (T.includes("unknown")){
    room = "whale";
     changeToNewScreen("whaleotar.png", "transparent.png", "goingUp",70,200);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
    
    else if (T.includes("serenia")){
    
      
      myBackground.image = new Image();
      myBackground.image.src = "sereniaForeground2.png";
      myBackground.image = new Image();
      myBackground.image.src = "sereniaForeground3.png";
      myBackground.image = new Image();
      myBackground.image.src = "sereniaForeground4.png";
      myBackground.image = new Image();
      myBackground.image.src = "sereniaForeground1.png";
    
    room = "serenia";
     changeToNewScreen("sereniaForeground1.png", "transparent.png", "goingUp",110,162);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
    
     else if (T.includes("tanalore")){
    room = "tanalore";
     changeToNewScreen("tanalore.png", "tanaloreForeground.png", "goingUp",300,175);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
    
     else if (T.includes("land")&&T.includes("dead")){
    room = "landofthedead";
    
     myBackground.image = new Image();
     myBackground.image.src = "charon.png";
     myBackground.image = new Image();
     myBackground.image.src = "charon2.png";
     myBackground.image = new Image();
     myBackground.image.src = "deadbackground4.png";
     myBackground.image = new Image();
     myBackground.image.src = "deadbackground3.png";
     myBackground.image = new Image();
     myBackground.image.src = "deadbackground2.png";
     myBackground.image = new Image();
     myBackground.image.src = "deadbackground1.png";
    myBackground.image = new Image();
     myBackground.image.src = "deadbackground.png";
     changeToNewScreen("deadbackground.png", "transparent.png", "goingUp",252,197);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
    
     else if (T.includes("yeti")||T.includes("mountain")){
    room = "yetilair";
     changeToNewScreen("yetilair.png", "transparent.png", "goingUp",150,175);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
    
     else if (T.includes("daventry")){
    room = "daventry";
     changeToNewScreen("daventry.png", "daventryForeground.png", "goingUp",300,162);
    lookingatmap = 0;
     speed = 0;
     yspeed = 0;
    }
    
    
    else if (T.includes("exit")||T.includes("leave")||T.includes("quit")||T.includes("cedric")||T.includes("stop")||T.includes("close")||T.includes("away")||T.includes("back")||T.includes("basement")){
    
    if(lookingatmap == 1){
    lookingatmap = 0;
    room = "manannanmap";
    changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",myGamePiece.x,myGamePiece.y);
     speed = 0;
     yspeed = 0;
    }
    
    } //end exit map
    
   
    
    } //end looking at map
///////    
    
    
     else if (T.includes("talk")||T.includes("hello")||T.includes("speak")){
     
     if(elixirInGrail == 0){
     textVar = "Cedric the Grey:\nTogether, Graham";
     } else{
      textVar = "Cedric the Grey:\nCheers";
     }
     
     } //end talk
    
    else if (T.includes("restorous")){
    walking = 1;
    small = 0;
    }
    
    else if (T.includes("voyagous")){
     walking = 1;
     small = 0;
     if(openedmap == 1){
     
     if (myGamePiece.x > 314 && myGamePiece.y < 129){
     lookingatmap = 1;
     
    
      changeToNewScreen("mapbackgroundblurred.png", "mapbackgroundblurred.png", "goingUp",myGamePiece.x,myGamePiece.y);
     
      speed = 0;
      yspeed = 0;
     } else {
     textVar = "Graham needs to be\ncloser to the map";
     }
     
     } else{
     textVar = "Cedric the Grey:\nLook, the map\nhas been revealed.\nSpeak the incantation again!";
     openedmap = 1;
     changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",myGamePiece.x,myGamePiece.y);
     speed = 0;
     yspeed = 0;
     }
     
     } //end voyagous
    
   
    
    
    else if (T.includes("journal")||T.includes("page")||T.includes("gwydion")){
    
     if (myGamePiece.x > 264 && myGamePiece.y > 141){
     readingJournal = 1;
   foregroundItems();
    } else {
     textVar = "Graham needs to be\ncloser to the journal page";
     }
    } //end journal
    
    
    
     else if ((T.includes("grail")||T.includes("elixir"))&&T.includes("cedric")&&elixirInGrail == 1){
     textVar = "Cedric the Grey:\nNo thanks, Graham.\nI'm not thirsty";
     }
    
    else if ((T.includes("pick up")|| T.includes("elixer")|| T.includes("elixir") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick"))&& (T.includes("grail")||T.includes("grial"))&&elixirInGrail ==1){
     if(myGamePiece.x > 241 && myGamePiece.y > 121){
     
     gotGrail = 0;
     madeElixir = 0;
     elixirInGrail = 2;
      changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",myGamePiece.x,myGamePiece.y);
     speed = 0;
     yspeed = 0;
     
    } else{
     if(T.includes("drink")){
    if((T.includes("elixir")||T.includes("wine")||T.includes("grail")||T.includes("grial")||T.includes("elixer")) && elixirInGrail == 2){
    
    textVar = "Cedric the Grey:\nThat's it!\nIt will take some\ntime to feel the effects";
    textVar2 = "Cedric the Grey:\nI sense some rumblings\nfrom another realm.\nMorgash has regained\nhis strength";
    textVar3 = "Cedric the Grey:\nBack to Daventry, Graham.\nWe'll arrive on the\noutskirts, and I will look\nout for danger";
     room = "manannanfinal";
     changeToNewScreen("manannanfinaldoor.png", "manannanForegroundMap.png", "goingUp",myGamePiece.x,myGamePiece.y);
     speed = 0;
     yspeed = 0;
     elixirInGrail = 0;
    }
     } else{
    textVar = "Graham needs to be closer\nto obtain the Holy Grail";
    }
    }
    }//end pick up
    
    else  if(T.includes("drink")){
     if(T.includes("elixir")||T.includes("wine")||T.includes("grail")||T.includes("grial")||T.includes("elixer")){
    
    if(elixirInGrail == 1){ //grail on table with elixir 
      if(myGamePiece.x > 241 && myGamePiece.y > 121){
      gotGrail = 0;
     madeElixir = 0;
    textVar = "Cedric the Grey:\nThat's it!\nIt will take some\ntime to feel the effects";
    textVar2 = "Cedric the Grey:\nI sense some rumblings\nfrom another realm.\nMorgash has regained\nhis strength...";
    textVar3 = "Cedric the Grey:\nBack to Daventry, Graham.\nWe'll arrive on the\noutskirts, and I will look\nout for danger!";
    room = "manannanfinal";
     changeToNewScreen("manannanfinaldoor.png", "manannanForegroundMap.png", "goingUp",myGamePiece.x,myGamePiece.y);
      elixirInGrail = 0;
      speed = 0;
      yspeed = 0;
     } else {
     textVar = "Graham needs to be closer\nto the Holy Grail";
     }
    } //end elixirInGrail1
    
    else if(elixirInGrail == 2){ //holding grail w/elixir in it
    textVar = "Cedric the Grey:\nThat's it!\nIt will take some\ntime to feel the effects";
    textVar2 = "Cedric the Grey:\nI sense some rumblings\nfrom another realm.\nMorgash has regained\nhis strength...";
    textVar3 = "Cedric the Grey:\nBack to Daventry, Graham.\nWe'll arrive on the\noutskirts, and I will look\nout for danger!";
    room = "manannanfinal";
     changeToNewScreen("manannanfinaldoor.png", "manannanForegroundMap.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    } else if(madeElixir == 1){
textVar = "Cedric the Grey:\nYou need to put the\nwine of eternal life\nin the Holy Grail";    
    }
    
    } //end elixir
     } //end drink
    
    
    //MIXING MIXING MIXING MIXING MIXING
     else if (T.includes("mix")|| T.includes("grail")|| T.includes("pour") || T.includes("use") || T.includes("combine") || T.includes("morter") || T.includes("mortar")|| T.includes("pestle")|| T.includes("blend")|| T.includes("put")||T.includes("add")){
   if(myGamePiece.x > 261 || myGamePiece.y > 139){
   
   if (T.includes("mortar") || T.includes("pestle")||T.includes("morter")){
   
   if (T.includes("whale musk")){
   if(didMusk == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nThat's one of the\ncorrect ingredients\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didMusk = 1;
   } else{
   textVar = "Graham has already\nadded whale musk\nto the mortar";
   }
   
   }
   
     else if (T.includes("pegas")){
     if(didPegasus == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nPegasus feather is\nan ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didPegasus = 1;
   }else{
   textVar = "Graham has already\nadded Pegasus Feather\nto the mortar";
   }
  }
  
   else if (T.includes("willow")){
   if(didWillow == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nWillow tears is\nan ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didWillow = 1;
   }else{
   textVar = "Graham has already added\nwillow tears to\nthe mortar";
   }
  }
  
   
       else if (T.includes("olymp")){
       if(didOlympic == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nOlympic Water is\nan ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didOlympic = 1;
   } else{
   textVar = "Graham has already added\nOlympic Water to\nthe mortar";
   }
  }
   
        else if (T.includes("satyr")){
        if(didSatyr == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nSatyr hair is\nan ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didSatyr = 1;
   }else{
     textVar = "Graham has already added\nSatyr hair to\nthe mortar";
   }
  }
   
     else if (T.includes("cave")){
     if(didCave == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nCave Water is\nan ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didCave = 1;
   } else{
     textVar = "Graham has already added\nCave water to\nthe mortar";
   }
  }
  
    else if (T.includes("peas")){
    if(didMoon == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nMoon Peas are\nan ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didMoon = 1;
   }else{
   textVar = "Graham has already added\nMoon peas to\nthe mortar";
   }
  }
  
   else if (T.includes("shark")&&(T.includes("tooth")||T.includes("teeth"))){
   if(didShark == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nA shark tooth\nis an ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didShark = 1;
   }else{
   textVar = "Graham has already added\nShark tooth to\nthe mortar";
   }
  }
  
   else if (T.includes("kra")&&T.includes("blood")){
   if(didKraken == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nBlood of a Kraken\nis an ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didKraken = 1;
   } else{
   textVar = "Graham has already added\nKraken blood to\nthe mortar";
   }
  }
  
  else if (T.includes("tomato")){
  if(didTomato == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nTomato juice\nis an ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didTomato = 1;
   }else{
   textVar = "Graham has already added\ntomato juice to\nthe mortar";
   }
  }
  
  else if (T.includes("lion")&&T.includes("bone")){
  if(didLion == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nLion bone\nis an ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didLion = 1;
   }else{
   textVar = "Graham has already added\nlion bone to\nthe mortar";
   }
  }
  
   else if (T.includes("lamp")&&T.includes("oil")){
   if(didLamp == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nMagic lamp oil is\nan ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didLamp = 1;
   }else{
   textVar = "Graham has already added\nlamp oil to\nthe mortar";
   }
  }
  
   else if (T.includes("dog")&&T.includes("hair")){
   if(didHair == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nDaventry dog hair is\nan ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didHair = 1;
   }else{
    textVar = "Graham has already added\ndog hair to\nthe mortar";
   }
  }
   
      else if (T.includes("rose")){
      if(didRose == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nCopernicus Rose is\nan ingredient\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didRose = 1;
   }else{
   textVar = "Graham has already added\nCopernicus Rose to\nthe mortar";
   }
  }
   
    else if (T.includes("tamir")&&T.includes("wine")){
    if(didWine == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nTamir Wine is one of\n the ingredients\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didWine = 1;
   }else{
    textVar = "Graham has already added\nTamir Wine to\nthe mortar";
   }
  }
   
    else if (T.includes("mermaid")&&T.includes("scale")){
    if(didScale == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nThat's one of the\n ingredients\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didScale = 1;
   }else{
    textVar = "Graham has already added\nMermaid Scale to\nthe mortar";
   }
  }
  
  else if (T.includes("fang")){
  if(didFang == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nMedusa's fang is \none of the ingredients\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didFang = 1;
   }else{
     textVar = "Graham has already added\nMedusa's fang to\nthe mortar";
   }
  }
  
   else if (T.includes("heart")){
   if(didHeart == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nSerpent heart is\none of the ingredients\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didHeart = 1;
   }else{
   textVar = "Graham has already added\nserpent heart to\nthe mortar";
   }
  }
  
   else if (T.includes("snail")){
   if(didSnail == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nA snail from the sea\n is one of the ingredients\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didSnail = 1;
   }else{
    textVar = "Graham has already added\nsea snail to\nthe mortar";
   }
  }
  
  else if (T.includes("jelly")){
  if(didJelly == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nThe Queen's Royal Jelly\n is one of the ingredients\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didJelly = 1;
   } else{
   textVar = "Graham has already added\nRoyal Jelly to\nthe mortar";
   }
  }
  
   else if (T.includes("hair")&&T.includes("cat")){
   if(didCathair == 0){
   correctIngredients = correctIngredients + 1;
   textVar = "Cedric the Grey:\nHair of a cat\n is one of the ingredients\nfor the elixir\nof eternal life!";
   ingredientCalculator();
   didCathair = 1;
   }else{
   textVar = "Graham has already added\nCat Hair to\nthe mortar";
   }
  }
  
  
   if(correctIngredients == 10){
   madeElixir = 1;
   
   if(gotGrail == 0){
    changeToNewScreen("manannanmap.png", "manannanForegroundMapElixir.png", "goingDown",myGamePiece.x,myGamePiece.y);
    textVar = "Cedric the Grey:\nIt's beautiful";
   }else{
   
   changeToNewScreen("manannanmap.png", "manannanForegroundMapElixirGrail.png", "goingDown",myGamePiece.x,myGamePiece.y);
      textVar = "Cedric the Grey:\nIt's beautiful";
   }
   
    speed = 0;
    yspeed = 0;
   }
   
   
   
   }
     else if(T.includes("grail") &&T.includes("quest")){
     textVar = "";
     }
   
   else if(T.includes("grail")){
   if(gotGrail ==  1){
   
   if(T.includes("elixir")||T.includes("elixer")||T.includes("wine")){
   
   if(madeElixir == 1){
    
    //changeToNewScreen("manannanmap.png", "manannanForegroundMapGrail.png", "goingDown",myGamePiece.x,myGamePiece.y);
    textVar = "Graham carefully pours\nthe elixir of eternal life\ninto the Holy Grail";
    madeElixir = 0;
    elixirInGrail = 1;
   } else{
   textVar = "Graham hasn't made\nthe elixir\nof eternal life";
   }
   }
   
   } else{
   textVar = "Graham doesn't have\nthe Holy Grail";
   }
   
   }
   else{
   textVar = "What do you want\nto mix it in?";
   }
   
   } else {
   textVar = "Graham needs to be closer\nto the work table";
   }
   }// end mix
    
    
    
    
    
    
    
    } //end manannanmap
   
   
   
   /////////////////////
   //GRAILTEXTGRAIL
   /*
    else if (room == ""){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\n";
     } else{
     textVar = "King Neptune:\nWho are you\ninquiring about?";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "";
   }//end look
   
   } //end 
   
  
   */
   //////////////////////
   
    else if (room == "vulcanix"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nLovely little kingdom\nisn't it";
     textVar2 = "Cedric the Grey:\nMorgash has not been here";
     } 
     else if(T.includes("woman")||T.includes("female")){
     textVar = "Troll:\nStew is always\npiping hot down here";
     }
      else if(T.includes("dragon")){
     textVar = "Crystal Dragon:\nNever a dark moment\ndown here";
     }
     else{
     textVar = "King Otar:\nThank you for freeing me!\nI'm not much of\nan adventurer";
     textVar2 = "King Otar:\nCan you solve this riddle\nwhile you are here?";
     textVar3 = "King Otar:\nIt is on a bridge\nor behind a boat\nor in a pesky note";
     }
   }//end talk
   
     else if(T.includes("troll")){
   textVar = "King Otar:\nHa ha,\nvery good Sir Graham";
   textVar2 = "King Otar:\nI give your kingdom\na handsome prize of\nred diamonds!\nAlso, here is some\nham stew!";
   gotHam = 1;
   }//end look
   
    else if(T.includes("look")){
   textVar = "King Otar Fenris III and\na female troll stand\nin the cozy kingdom of\nVulcanix";
   textVar2 = "A merry crystal dragon\nrelaxes beside its\ncache of red diamonds";
   }//end look
   
   } //end 
   
     else if (room == "realmofthesun"){
     
     if(gotConnor == 1){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nI see light everywhere,\nGraham";
     } else if (T.includes("connor")){
     textVar = "Connor:\nThank you eternally for not\njudging me too harshly.\nI did my very best\nwith what I had";
     textVar2 = "Connor:\nThe Mask of Eternity\nwill watch over us\neternally";
     textVar3 = "Connor:\nThe kingdom of Daventry\nlives on.\nThank you Graham!";
     } else if (T.includes("edward")){
     textVar = "King Edward:\nI look forward to\ncelebrating with you\nin the future!\nI'm so proud of you!";
     textVar2 = "King Edward:\nGreat luck on your\nQuest!  When you wish to\nreturn, speak the phrase:\nThe Mask Lives";
     textVar3 = "King Edward:\nOh, and I shall fill\nyour elixir with\nfive ingredients!";
     correctIngredients += 5;
     if (correctIngredients > 21){
     correctIngredients = 21;
     }
     
     } 
     
     
     else{
     textVar = "To whom does Graham\nwish to speak?";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "King Edward and\nthe knight Connor\nstand in the light\nunder the mask of eternity";
   }//end look
   
     else if(T.includes("mask")&&T.includes("lives")){
  room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nWe can only perceive\nthe light as a mask";
ingredientCalculator();
   }//end mask
   
    else if(T.includes("bow")){
   textVar = "King Edward:\nThere is no need\nto bow this time";
   }//end mask
   
    else if(T.includes("mask")){
   textVar = "The restored Mask of\nEternity beams brilliantly";
   }//end mask
   
   } else{ //no connor
    if(T.includes("talk")||T.includes("hello")||T.includes("speak")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nI see light everywhere,\nGraham";
     }  else {
     textVar = "King Edward:\nI look forward to\ncelebrating with you\nin the future!\nI'm so proud of you!";
     textVar2 = "King Edward:\nGreat luck on your\nQuest!  When you wish to\nreturn, speak the phrase:\nThe Mask Lives";
     } 
     
     
    
   }//end talk
   
    else if(T.includes("look")){
   textVar = "King Edward stands in\nthe light under the\nmask of eternity";
   }//end look
   
    else if(T.includes("mask")&&T.includes("lives")){
  room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);
speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "Cedric the Grey:\nWe can only perceive\nthe light as a mask";
textVar2 = "Cedric the Grey:\nKeep going, Graham";
   }//end mask
   
    else if(T.includes("mask")){
   textVar = "The restored Mask of\nEternity beams brilliantly";
   }//end mask
   
    else if(T.includes("bow")){
   textVar = "King Edward:\nThere is no need\nto bow this time";
   }//end mask
   
   }
   
   } //end 
   
   else if (room == "realmdoor3"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nIt's the door of order";
     } else{
     textVar = "Cedric the Grey:\nIt's the door of order";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "The door of order";
   }//end look
   
      else if(T.includes("knock")||T.includes("open")||T.includes("go in")||T.includes("enter")||T.includes("pull")){
   textVar = "DOOR OF ORDER:\nSpeak thou of Order";
   textVar2 = "Cedric the Grey:\nOrder is Unity\nand therefore Perfect Harmony!";
   gotIngredient = 1;
   
   }//end open
   
   } //end realmdoor3
   
    else if (room == "realmdoor2"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nIt's the door of light";
     } else{
     textVar = "Cedric the Grey:\nIt's the door of light";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "The door of light";
   }//end look
   
      else if(T.includes("knock")||T.includes("open")||T.includes("go in")||T.includes("enter")||T.includes("pull")){
   textVar = "DOOR OF LIGHT:\nHow gainest thou the Light?";
   textVar2 = "Cedric the Grey:\nA mind enlightened gains\nthe Light of Life!";
   gotIngredient = 1;
   
   }//end open
   
   } //end realmdoor2
   
    else if (room == "realmdoor1"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nIt's the door of truth";
     } else{
     textVar = "Cedric the Grey:\nIt's the door of truth";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "The door of truth";
   }//end look
   
      else if(T.includes("knock")||T.includes("open")||T.includes("go in")||T.includes("enter")||T.includes("pull")){
   textVar = "DOOR OF TRUTH:\nWhat is the power of truth?";
   textVar2 = "Cedric the Grey:\nThe truth is mighty\nand shall prevail!";
   gotIngredient = 1;
   
   }//end open
   
   } //end realmdoor1
   
    else if (room == "samhain"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey\nis in the land\nof the living";
     } else if(T.includes("azriel")){
     textVar = "Azriel:\nStrange traveler.  Perhaps\nyou can counsel us.\nWe have been locked\nin a difficult decision";
     textVar2 = "Azriel:\nA knight named Connor\nhas come to us.\nHe has slain many,\nyet also accomplished\ngreat works";
     textVar3 = "Azriel:\nShould we abandon Connor\nin the land of the\ndead, as an outcast,\nor raise him above\nfor his good deeds?";
     }
     else if(T.includes("samhain")){
     textVar = "Samhain:\n...";
     }
     else{
     textVar = "To whom does Graham\nwish to speak?";
     }
   }//end talk
   
    else if(T.includes("look")){
    textVar = "Lord Samhain is chained\nto his prison throne\nwith his outgrowths\nconsuming the land\nof the dead";
    textVar2 = "Lord Azriel is off\nhis throne, standing\nat Samhain's side";
   textVar3 = "Lord Samhain and Lord\nAzriel are deep in\ncontemplation together,\nboth judges vexed";
   }//end look
   
   else if(T.includes("spare")||T.includes("raise")||T.includes("above")||T.includes("up")||T.includes("good")){
   
   textVar = "Azriel:\nYou have a gentle heart.\nGo free, King Graham!\nWe shall send him to\nthe Realm of the Sun!";
   textVar2 = "Cedric the Grey:\nThere you are, Graham";
   textVar3 = "Cedric the Grey:\nSamhain and Azriel!\nYou have no power\nover us";
   gotIngredient = 1;
    myBackground.image.src = "samhaindoor.png";
   gotConnor = 1;
   } //end spare him
   
     else if(T.includes("dead")||T.includes("outcast")||T.includes("abandon")||T.includes("condemn")||T.includes("death")){
    
     textVar = "Azriel:\nWe concur";
   textVar2 = "Cedric the Grey:\nThere you are, Graham";
   textVar3 = "Cedric the Grey:\nSamhain and Azriel!\nYou have no power\nover us";
    
     gotIngredient = 1;
    myBackground.image.src = "samhaindoorconnordead.png";
     
     }
   
   } //end 
   
   else if (room == "charon"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey\nis not present";
     } else{
     textVar = "Charon:\nPassage requires payment.\nI have no need for\ntreasures, for many goblins\nhave filled my purse";
     textVar2 = "Charon:\nAnswer this question and\nI will shephard thee";
     textVar3 = "Charon:\nWho rescued the\nmask of eternity?";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "The grim ferryman stands\nupon his craft in\nthe river styx";
   }//end look
   
    else if(T.includes("connor")){
    textVar = "Charon:\nThis way, mortal";
    room = "samhain";
     changeToNewScreen("samhain.png", "transparent.png", "goingUp",249,203);
   speed = 0;
   yspeed = 0;
   gotIngredient = 0;
    }
   
   } //end 
   
     else if (room == "landofthedead"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey\nis in the land\nof the living";
     } else{
     if(gotIngredient == 0){
     textVar = "Skeleton Guard:\nNo life allowed";
     }else{
     textVar = "Skeleton Guard:\n...";
     }
     }
   }//end talk
   
    else if(T.includes("look")){
   if(gotIngredient == 0){ 
   textVar = "The entrance to the\nland of the dead\nis guarded by fierce\nskeletal warriors";
   textVar2 = "A musical xylobone\nstands to the side";
   }else{
   textVar = "The guards are filled\nwith lively merriment";
   }
   }//end look
   
   else if(T.includes("play")||T.includes("use")||T.includes("music")){
   if(myGamePiece.x > 299){
   gotIngredient = 1;
   } else{
   textVar = "Graham needs to be\ncloser to the\nxylobone";
   }
   }//end music
   
   } //end 
   
    else if (room == "yetilair"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nThey aren't so bad,\njust primal";
     } 
      else if(T.includes("grail")){
   textVar = "Yeti:\nI know little of\nthe outside world,\nbesides what Cedric\nteaches us";
   }
     
     else{
     textVar = "Yeti:\nGrrrrrrrr";
     textVar2 = "Yeti:\nOur stomachs are growling.\nCan you spare any\nmeat?";
     }
     
     
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Yeti:\nI know little of\nthe outside world,\nbesides what Cedric\nteaches us";
   }
   
    else if(T.includes("ham")||T.includes("meat")){
    if(gotHam == 1){
    gotHam = 0;
   textVar = "Graham gives the ham\nto the yetis";
   textVar2 = "Yeti:\nDelicious!\nWe haven't had any\nham in a long time";
   textVar3 = "Yeti:\nOld Crispin and his\nbrother Morgash used to\nbring us hams\nevery Christmas";
   }
   }//end ham
   
    else if(T.includes("look")){
   textVar = "Two docile yetis\nreside in this\nDaventry cavern";
   }//end look
   
   } //end 
   
    else if (room == "witchlair"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
  
     textVar = "Cedric the Grey:\nCrispin and I\nhad many adventures";
   }//end talk
   
    else if(T.includes("look")){
    
    
    if(T.includes("crystal")||T.includes("ball")){
   
   if(myGamePiece.x > 178 && myGamePiece.x < 321 && myGamePiece.y > 161){
   textVar = "Cedric the Grey:\nWe policed the\ndark corners of\nthe world,\nCrispin and I";
   textVar2 = "Cedric the Grey:\nWe sent many beings\nto the\nLand Of The Dead";
   textVar3 = "Cedric the Grey:\nWe investigated every\naspect of the map, even\nthe inconspicuous parts";
   
    myBackground.image = new Image();
     myBackground.image.src = "witchcrispin4.png";
     myBackground.image = new Image();
     myBackground.image.src = "witchcrispin3.png";
     myBackground.image = new Image();
     myBackground.image.src = "witchcrispin2.png";
     myBackground.image = new Image();
     myBackground.image.src = "witchcrispin1.png";
   
    room = "witchlair2";
   changeToNewScreen("witchcrispin1.png", "witchcrispin1.png", "goingDown",249,181);
   speed = 0;
   yspeed = 0;
   } else{
   textVar = "Graham needs to be\ncloser to the crystal ball";
   }
   } //end crystal ball
   
   else if (T.includes("cauldron")){
   textVar = "Only ashes remain\nin the cauldron";
   }
     else if (T.includes("skull")||T.includes("bone")||T.includes("yeti")){
   textVar = "The skull of a yeti\nrests upon the floor";
   } 
   else{
   textVar = "The incinerated remains\nof a dark magic stronghold\nsit on the peak";
   textVar2 = "A black cauldron sits\nin the corner,\nyeti bones sit on\nthe floor, and\na crystal ball rests\non a podium";
   }
   
   }//end look
   
   } //end 
   
    else if (room == "EnchantedC3"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nShe won't bother us";
     } 
      else if(T.includes("grail")){
   textVar = "Witch:\nDoesn't exist!";
   }
     
     else{
     textVar = "Witch:\nI didn't go in your\ntower! Look at the\nfootprints!";
     textVar2 = "Witch:\nThings were better before\nCrispin and Cedric the Grey\nwent around wrecking lairs";
     textVar3 = "Witch:\nCedric flew down the\nchimney and turned the place\nupside down before\nI could blink.\nThey even destroyed the\noutpost at Sour Peak";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "Cedric the Grey holds\nthe witch at a\ncomfortable distance";
   }//end look
   
    else if(T.includes("grail")){
   textVar = "Witch:\nDoesn't exist!";
   }
   
   } //end 
   
   
   else if (room == "castleFrontgrail"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey\nis unresponsive";
     } 
     else{
     textVar = "Crispin:\nThis is beyond\nmy magic";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "Crispin cradles\nCedric the Grey";
   }//end look
   
    else if(T.includes("grail")||T.includes("grial")||T.includes("elixir")||T.includes("elixer")||T.includes("wine")||T.includes("cup")){
   
   if(T.includes("crispin")){
     textVar = "Crispin:\nCedric before me";
   } else{
   room = "theend";
   textVar = "THE END\n\nOld King Graham\nAuthored and Programmed by\nBrett Farkas";
textVar2 = "The Original 1983 Team:\nRoberta Williams, Ken Williams\nCharles Tingley, Ken MacNeill\nDoug MacNeill, Chris Iden\nGreg Rowland";
textVar3 = "I absolutely love you\nfor playing this game\n-Brett Farkas";
   
   
   gotIngredient = 3;
   
   }
   }//end grail
   
   
   } //end castlefrontgrail
   
   else if (room == "throneRoom3grail"){
  
    if(T.includes("look")){
   textVar = "The empty cage\nreminds Graham of\nhow far he's traveled";
   }//end look
   
   } //end 
   
   
   
    else if (room == "throneroomgrail"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("queen")||T.includes("valanice")){
   if(myGamePiece.x < 244 && myGamePiece.y < 131){
    if(valaniceYoung == 0){
     textVar = "Queen Valanice:\nLet me try it, Graham!";
   } else{
   textVar = "Valanice:\nI feel so lovely!\nYou are a king\neven without your crown,\nand I am forever\nyour queen";
   textVar2 = "Valanice:\nI told Cedric to\nlook after you,\nI hope he wasn't\na bother";
   textVar3 = "Valanice:\nOne lifetime wasn't\nenough for our love.\nI love you, Graham!";
   }
   } else {
   textVar = "Graham needs to be\ncloser to Valanice";
   }
     } 
     
     
   else  if (T.includes("alex")||T.includes("man")){
   if(myGamePiece.x > 395 && myGamePiece.x < 465){
    if(alexanderYoung == 0){
     textVar = "Prince Alexander:\nI can't wait, dad!";
   } else{
   textVar = "Prince Alexander:\nThis feels incredible!";
   textVar2 = "Prince Alexander:\nYou went to Manannan's?\nThat basement is a\nwicked place.\nWow, dad";
   textVar3 = "Prince Alexander:\nLike son, like father.\nCongratulations on\nmaking it out\nof there!";
   }
   } else {
   textVar = "Graham needs to be\ncloser to Alexander";
   }
     } 
    
     else if (T.includes("rosella")||T.includes("princess")||T.includes("girl")){
   if(myGamePiece.x > 465){
    if(rosellaYoung == 0){
     textVar = "Princess Rosella:\n You're back to\nrestore my health?";
   } else{
   textVar = "Princess Rosella:\nWhat a journey\nyou had, Father";
   textVar2 = "Princess Rosella:\nI feel like I\nhave a few journeys\nleft in me now";
   textVar3 = "Princess Rosella:\nI'm so relieved\nyou made it back!\nYou are my\ntreasure";
   }
   } else {
   textVar = "Graham needs to be\ncloser to Rosella";
   }
     } 
     
     else{
     textVar = "Queen Valanice,\nPrince Alexander,\nAnd Princess Rosella\ngladfully welcome Graham\nhome";
     textVar = "To whom would Graham\nlike to speak?";
     }
   }//end talk
   
   else if (T.includes("bow")){
     if(myGamePiece.x < 252){
     bowing = 1;
     iterFour = 0;
     } else{
     textVar = "Graham needs to be\ncloser to bow\nto Valanice";
     }
     }
   
    else if(T.includes("elixir")||T.includes("elixer")||T.includes("wine")||T.includes("grail")||T.includes("grial")){
    if(myGamePiece.x < 244 && myGamePiece.y < 131){ //valanice
   valaniceYoung = 1; 
    if(rosellaYoung == 0 && alexanderYoung == 0){
    changeToNewScreen("throneroomgrailvalanice.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
   } else  if(rosellaYoung == 1 && alexanderYoung == 0){
    changeToNewScreen("throneroomgrailrosellavalanice.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
   } else  if(rosellaYoung == 0 && alexanderYoung == 1){
    changeToNewScreen("throneroomgrailvalanicealexander.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
   
   }else  if(valaniceYoung == 1 && alexanderYoung == 1){
  
    changeToNewScreen("throneroomgrailall.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    gotIngredient = 1;
    speed = 0;
    yspeed = 0;
   }
    textVar = "Valanice:\nI feel so lovely!\nYou are a king\neven without your crown,\nand I am forever\nyour queen";
   textVar2 = "Valanice:\nI told Cedric to\nlook after you,\nI hope he wasn't\na bother";
   textVar3 = "Valanice:\nOne lifetime wasn't\nenough for our love.\nI love you, Graham!";
   
   } else if(myGamePiece.x > 395 && myGamePiece.x < 465){ //alexander
   alexanderYoung = 1;
   if(valaniceYoung == 0 && rosellaYoung == 0){
    changeToNewScreen("throneroomgrailalexander.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
   } else  if(valaniceYoung == 1 && rosellaYoung == 0){
    changeToNewScreen("throneroomgrailvalanicealexander.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
     } else  if(valaniceYoung == 0 && rosellaYoung == 1){
    changeToNewScreen("throneroomgrailrosellaalexander.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
   }else  if(valaniceYoung == 1 && rosellaYoung == 1){
  
    changeToNewScreen("throneroomgrailall.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    gotIngredient = 1;
   }
     textVar = "Prince Alexander:\nThis feels incredible!";
   textVar2 = "Prince Alexander:\nYou went to Manannan's?\nThat basement is a\nwicked place.\nWow, dad";
   textVar3 = "Prince Alexander:\nLike son, like father.\nCongratulations on\nmaking it out\nof there!";
   
   } else if(myGamePiece.x > 465){ //rosella
   rosellaYoung = 1;
   if(valaniceYoung == 0 && alexanderYoung == 0){
    changeToNewScreen("throneroomgrailrosella.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
   } else  if(valaniceYoung == 1 && alexanderYoung == 0){
    changeToNewScreen("throneroomgrailrosellavalanice.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    } else  if(valaniceYoung == 0 && alexanderYoung == 1){
    changeToNewScreen("throneroomgrailrosellaalexander.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
   }else  if(valaniceYoung == 1 && alexanderYoung == 1){
   
    changeToNewScreen("throneroomgrailall.png", "throneroomforeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    gotIngredient = 1;
   }
    textVar = "Princess Rosella:\nWhat a journey\nyou had, Father";
   textVar2 = "Princess Rosella:\nI feel like I\nhave a few journeys\nleft in me now";
   textVar3 = "Princess Rosella:\nI'm so relieved\nyou made it back!";
   } else {
   textVar = "Graham needs to be\ncloser to share the\nelixir";
   }
    
    
    }
   
   
    else if(T.includes("look")){
   if (gotIngredient == 0){ 
   textVar = "Graham's family is\nexcited to learn if\nhis journey has met\nsuccess";
   } else{
   textVar = "The mirror displays\na curious sight";
   }
   }//end look
   
     else if(T.includes("i")&&T.includes("love")&&T.includes("you")){
   textVar = "Valanice, Alexander, Rosella:\nWe love you too!";
   }//end i love you
   
   } //end 
   
   
    else if (room == "blackscreen"){
   
    if(T.includes("look")){
    
     if(T.includes("cedric")){
     textVar = "Cedric is resolved";
     }
     else if(T.includes("crispin")){
     textVar = "Crispin is barely\nconscious on the ground";
     
     }
      else if(T.includes("morgash")){
     textVar = "The evil wizard\nMorgash approaches the\npeaceful land of\nDaventry";
     }
      else if(T.includes("wand")){
     textVar = "Crispin's wand sparkles\nwith exhuberant magic";
     }
     else{
   textVar = "Morgash towers over\nthe land of Daventry.\nCrispin is injured.\nCedric flies, ready\nfor the fight.\nCrispin's wand sparkles\nwith energy";
   }
   
   }//end look
   
    else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick")|| T.includes("use")){
    textVar = "Cedric the Grey:\nNot this time, Graham";
    textVar2 = "Cedric the Grey:\nThis time, it's too\nperilous for you.\nTake care of your\nfamily, and tell them\nabout all of our\namazing adventures!";
    textVar3 = "Cedric the Grey:\nCatchous Grahamous!";
    gotIngredient = 1;
    }
   
   } //end 
   
   
   
    else if (room == "castleFrontEnd"){
   if(T.includes("a")||T.includes("e")||T.includes("i")||T.includes("o")||T.includes("u")||T.includes("s")||T.includes("t")||T.includes("l")||T.includes("y")){
   
    myBackground.image = new Image();
     myBackground.image.src = "blackscreen1.png";
     myBackground.image = new Image();
     myBackground.image.src = "blackscreen2.png";
     myBackground.image = new Image();
     myBackground.image.src = "blackscreen3.png";
     myBackground.image = new Image();
     myBackground.image.src = "blackscreen4.png";
   room = "blackscreen";
    changeToNewScreen("blackscreen4.png", "transparent.png", "goingRight",147,143);
    speed = 0;
    yspeed = 0;
   
    
   
   textVar = "Cedric the Grey:\nI need you to\nlisten to me,\nGraham";
   textVar2 = "Cedric the Grey:\nMorgash is going to\nkill me.\nIt's the only way\nwe can send him back";
   textVar3 = "Cedric the Grey:\nYou are the greatest\nking to ever live.\nThank you for letting\nme be your friend!";
   
   }
    } //end 
    
    else if (room == "end4"){
    if(T.includes("look")){
   textVar = "Graham feels\ncompletely refreshed";
   }//end look
   
    else if(T.includes("push")){
   textVar = "The rock is stuck\nthis time";
   }//end push
   
   } //end 
   
   
    else if (room == "northpole3"){
    
    if(gotGrail == 0){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nHooray!";
     } 
     else if(T.includes("sant")||T.includes("kringle")||T.includes("clau")||T.includes("nick")){
     textVar = "Santa Claus:\nHello there, young man";
     textVar2 = "Santa Claus:\nHave you been a good\nboy this year, Graham?";
     }
     else if(T.includes("elf")||T.includes("elves")){
     textVar = "Elf:\nHee hee hee!";
     }
      else if(T.includes("rein")||T.includes("deer")||T.includes("rudolf")){
     textVar = "Reindeer:\n...";
     }
     else{
     textVar = "Who would Graham\nlike to speak to?";
     }
   }//end talk
   
   else if (T.includes("yes") || T.includes("yeah") || T.includes("sure") || T.includes("i have")){
   textVar = "Santa Claus:\nHo, ho, ho.\nI know you have";
   textVar2 = "Santa Claus:\nYou've been a good bird\ntoo, haven't you Cedric?\n\nCedric:\nYes, certainly";
    textVar3 = "Santa Claus:\nSince you've been so\ngood Sir Graham,\nwhat would you like\nto have this year?";
    gotIngredient = 1;
   }//end yes
   
    else if ((T.includes("grail") || T.includes("grial")|| T.includes("eternal life"))&& gotIngredient == 1){
    textVar = "Santa Claus:\nHo, ho, ho.\nI've been saving it just for you!";
    textVar2 = "Merry travels King Graham!";
    changeToNewScreen("northpole3present.png", "transparent.png", "goingDown",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    gotIngredient = 2;
    } //end grail
   
    else if (( (T.includes("open")||T.includes("unwrap")) && T.includes("present"))&& gotIngredient == 2){
    if(myGamePiece.x > 306 && myGamePiece.y < 166){
    changeToNewScreen("northpole3grail.png", "transparent.png", "goingDown",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    gotIngredient = 3;
    } else{
    textVar = "Graham needs to be closer\nto open the present";
    }
    } //end open present
   
    else if ((T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick"))&& (T.includes("grail")||T.includes("grial"))&&gotIngredient ==3){
     if(myGamePiece.x > 306 && myGamePiece.y < 166){
     changeToNewScreen("northpole3door.png", "transparent.png", "goingDown",myGamePiece.x,myGamePiece.y);
     speed = 0;
     yspeed = 0;
     gotGrail = 1;
    } else{
    textVar = "Graham needs to be closer\nto obtain the Holy Grail";
    }
    }//end pick up
   
   else if(T.includes("thank")&&(gotIngredient == 3||gotIngredient == 2)){
   textVar = "Santa Claus:\nYou're welcome young man!";
   }
   
    else if(T.includes("look")){
   
   if(gotIngredient == 2){
   textVar = "A beautiful red\npresent sits in\nthe snow";
   }
   else if (gotIngredient == 2){
   textVar = "The Holy Grail\nstands solemn amongst\nthe north pole merriment";
   } else{
   textVar = "Joyful tidings surround\nGraham here at\nthe North Pole";
   textVar2 = "Excited elves are\ntaking a break from the\nworkshop.\nJolly reindeer bask in\nthe wonderful magic\nof the festivities";
   }
   }//end look
   
    else if (T.includes("cookie")){
    if(gotCookie == 1){
    textVar = "Santa Claus:\nHo ho ho,\nnow I just need\na saucer of milk!";
    textVar2 = "Santa Claus:\nMerry travels, Graham!";
    textVar3 = "Santa Claus:\nThe grail is yours!";
    gotGrail = 1;
    changeToNewScreen("northpole3cat.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    gotIngredient = 3;
    }
    }
   
   } //end check for gotgrail
  
   else if(T.includes("thank")&&(gotIngredient == 3||gotGrail == 1)){
   textVar = "Santa Claus:\nYou're welcome young man!";
   }
   else if(T.includes("look")){
   textVar = "Joyful tidings surround\nGraham here at\nthe North Pole";
   textVar2 = "Excited elves are\ntaking a break from the\nworkshop.\nJolly reindeer bask in\nthe wonderful magic\nof the festivities";
   }
  
   } //end northpole3
   
   
     else if (room == "islandofspirits"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nI'll understand if\nyou want to stay";
     } 
      else if(T.includes("grail")&&gotIngredient == 1){
   textVar = "Leprechaun King:\nNever came across\nthat chalice";
   }
     else{
     if(gotIngredient == 1){
     textVar = "Leprechaun King:\nYou are welcome to\nstay in our sanctuary.\nIt's peaceful here.\nIt's your choice";
     textVar2 = "Leprechaun King:\nYou've traveled far.\nI will bequeath\nall my treasure to\nyour kingdom if you\ncan answer this puzzle:";
     textVar3 = "Leprechaun King:\nCan you list these\ncreatures from least to\ngreatest?  You must speak\nthem one at a time:\nsnake, horse, spider,\nbeetle, man";
     }
     }
   }//end talk
   
      else if(T.includes("grave")){
      textVar = "The inscription on\nthe grave reads:\nHe does not slumber,\nbut sings in men's hearts.\nShout his name\nfor all time:\nLeprechaun King";
      }
   
   
    else if(T.includes("leprechaun")&&T.includes("king")){
   changeToNewScreen("islandofspirits.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
     yspeed = 0;
     speed = 0;
     gotIngredient = 1;
   }//end leprechaun
   
   else if(T.includes("grail")&&gotIngredient == 1){
   textVar = "Leprechaun King:\nNever came across\nthat chalice";
   }
   
    else if(T.includes("look")){
   if(gotIngredient == 0){
   textVar = "The solemn graveyard looks\npeaceful and inviting";
   textVar2 = "A particular gravestone\ncatches Graham's eye";
   }else{
   textVar = "The ghost of the\nLeprechaun King rests\nin his sanctuary";
   }
   }//end look
   
   //puzzle
    else if(T.includes("snake")||T.includes("man")||T.includes("horse")||T.includes("beetle")||T.includes("spider")){
   
   if (gotIngredient == 1){
   if(T.includes("snake")){
   textVar = "Leprechaun King:\nThat one is right\nand that's the only\nclue I'll give you";
   gotIngredient = 102;
   }
   if(T.includes("man")||T.includes("beetle")||T.includes("horse")||T.includes("spider")){
   gotIngredient = 2;
   }
   
   } else  if (gotIngredient == 2 || gotIngredient == 102){
    if(T.includes("man")){
   gotIngredient +=1;
   }
   if(T.includes("horse")||T.includes("beetle")||T.includes("snake")||T.includes("spider")){
   gotIngredient = 3;
   }
   textVar = "Leprechaun King:\nInteresting second choice";
   }
   else  if (gotIngredient == 3 || gotIngredient == 103){
    if(T.includes("horse")){
   gotIngredient += 1;
   }
   if(T.includes("man")||T.includes("beetle")||T.includes("snake")||T.includes("spider")){
   gotIngredient = 4;
   }
   
   textVar = "Leprechaun King:\nThat's three";
   }
   
   else  if (gotIngredient == 4|| gotIngredient == 104){
    if(T.includes("beetle")){
   gotIngredient +=1;
   }
    if(T.includes("man")||T.includes("horse")||T.includes("snake")||T.includes("spider")){
   gotIngredient = 5;
   }
   
   textVar = "Leprechaun King:\nFourth choice";
   }
   else  if (gotIngredient == 105){
    if(T.includes("spider")){
   gotIngredient = 6;
   textVar = "Leprechaun King:\nVery wise,\nsnakes have 0 legs\nand spiders have 8.\nCongratulations, the\ngold is yours!";
   textVar2 = "Leprechaun King:\nIt's a pity you\ndon't want to rest\nyour bones here, but\nmaybe the world is\nbetter for it";
   textVar3 = "Leprechaun King:\nOne more thing.\nIf you ever see\nthe leprechauns in Daventry\ntell them:\n'The Leprechaun King\nloves you.'";
    changeToNewScreen("islandofspiritsrainbow.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
   }
   
   }  else  if (gotIngredient == 5){
   textVar = "Leprechaun King:\nYou made a mistake\nalong the way somewhere\nmy well traveled friend";
   textVar2 = "Leprechaun King:\nYou are welcome to\ntry it again";
   gotIngredient = 1;
   }
   
   }//end puzzle
   
   } //end 
   
   
   
    else if (room == "sereniabottle"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
     textVar = "Alexander is silent";
   }//end talk
   
    else if(T.includes("look")){
   textVar = "Graham recognizes the\nbottle as a\ncommemorative gift for\n Alexander and Rosella's\nbirthday party";
   textVar2 = "It's labeled\n'The liberation of\nAlexander'";
   textVar3 = "The figure of Alexander\nis carved from hard\nDaventry oak";
   }//end look
   
    else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick")){
    textVar = "Graham picks up the figure\nof Alexander.\nIt's easy to carry\nlarge items at\nthis scale"; 
    changeToNewScreen("sereniabottledone.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
     yspeed = 0;
     speed = 0;
     gotAlexander = 1;
    } //end get
   
   } //end 
   
   
     else if (room == "serenia3"){
   
    if(T.includes("look")){
    if(T.includes("bottle")){
   textVar = "It's a ship\nin a bottle.\nGraham recognizes the\nbottle as a\ncommemorative gift for\n Alexander and Rosella's\nbirthday party";
   textVar2 = "It's labeled\n'The liberation of\nAlexander'";
   textVar3 = "Graham decides to leave\nit for a\nchild to find";
   }
   else{
   textVar = "The land north of Daventry\nis peaceful.\nA small bottle lays\nupon the ground";
   }
   }//end look
   
   else if(T.includes("bottle")){
   textVar = "It's a ship in a bottle.\nGraham recognizes the\nbottle as a\ncommemorative gift for\n Alexander and Rosella's\nbirthday party";
   textVar2 = "It's labeled\n'The liberation of\nAlexander'";
   textVar3 = "Graham decides to leave\nit for a\nchild to find";
   }//end bottle
   
   } //end 
   
  
   
     else if (room == "sereniahole"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
  
  if(gotAlexander != 2){
     textVar = "Rat:\nHey pal, think\nyou could give me\na little help";
     textVar2 = "Rat:\nI dragged this thing\nall the way\nfrom the Inn.\nWhat a pain";
     textVar3 = "Rat:\nBring me something\nto pry this\nopen with?";
     } 
      else if(T.includes("grail")){
   textVar = "Rat:\nIs that real?";
   }
     else{
    textVar = "Rat:\nThanks again!\nI'll tell you something\nas a favor.\nI heard some thieves\nat the Serenia Desert\ntemple say some magic\nwords to get in";
    textVar2 = "Rat:\nThis is top secret\nnow, Ok?"
    textVar3 = "Rat:\n'Open Sesame'";
     }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Rat:\nIs that real?";
   }
   
    else if(T.includes("look")){
   if(gotAlexander != 2){ 
   textVar = "The rat looks\nperturbed as it\nstands with\na trap clamped\nupon its tail";
   }else {
   textVar = "The rat has\nbeen freed by Alexander";
   }
   }//end look
   
    else if((T.includes("figure")||T.includes("alex")||T.includes("free")||T.includes("pry")||T.includes("open")||T.includes("trap")||T.includes("gwyd")||T.includes("alex"))&& gotAlexander == 1){
    textVar = "Graham uses Gwydion\nto liberate the\ntrapped rat";
    textVar2 = "Rat:\nWhat a relief!\nI'll tell you something\nas a favor.\nI heard some thieves\nat the Serenia Desert\ntemple say some magic\nwords to get in";
    textVar3 = "Rat:\n'Open Sesame'";
    changeToNewScreen("sereniaholeopen.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
     yspeed = 0;
     speed = 0;
     gotAlexander = 2;
     
    }
   
   } //end 
   
   
    else if (room == "sereniagrass"){ //red ants
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (myGamePiece.x > 263){
     textVar = "Ant Queen:\nI admire your\ngarments, friend.\nThese are dark days\nwhen regents must\nbe off their thrones";
     textVar2 = "Ant Queen:\nIf they don't respect\nme as a Queen, they\nwill be slain by\na General";
     textVar3 = "Ant Queen:\nTell the other Queen\nI will allow a\ntruce if they will\nagree to leave\nthe bakery to us";
     } 
      else if(T.includes("grail")){
   textVar = "Ant Queen:\nNot in our domain!";
   }
     else{
     textVar = "Graham needs to be closer\nto speak to the\nAnt Queen";
     }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Ant Queen:\nNot in our domain!";
   }
   
   else if(  (T.includes("queen")||T.includes("other")||T.includes("ant")||T.includes("black")) &&  (T.includes("truce")||T.includes("leave")||T.includes("concede")||T.includes("agree")||T.includes("stop")||T.includes("peace")||T.includes("end")) && (T.includes("gnome")||T.includes("house"))  ){
  gotIngredient = 2;
  textVar = "Ant Queen:\nI agree!\nPeace in the land\nat last!";
  textVar2 = "Ant Queen:\nAre you here looking\nfor something,\nstranger?";
  
  }
   
     else if(T.includes("morgash")||T.includes("ingredient")||T.includes("elixir")||T.includes("wizard")||T.includes("evil")){
     if(gotIngredient == 2){
     textVar = "Ant Queen:\nA wizard came\ntromping through here\nlooking for\n'willow tears'";
     
     }
     }
   
   
    else if(T.includes("look")){
   textVar = "The Ant Queen is off\nher throne, standing\namongst towering blades\nof grass";
   }//end look
   
   } //end sereniagrass - red ants
   
   
   
   else if (room == "sereniagrass2"){ //black ants
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (myGamePiece.x > 263){
     textVar = "Ant Queen:\nGo away red beast!";
     } 
      else if(T.includes("grail")){
   textVar = "Ant Queen:\nThe only cups we\nhave are full of\nberry juice";
   }
     else{
     textVar = "Graham needs to be closer\nto speak to the\nAnt Queen";
     }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Ant Queen:\nThe only cups we\nhave are full of\nberry juice";
   }
   
  else if(  (T.includes("queen")||T.includes("other")||T.includes("ant")||T.includes("red")) &&  (T.includes("truce")||T.includes("concede")||T.includes("leave")||T.includes("agree")||T.includes("stop")||T.includes("peace")||T.includes("end")) && (T.includes("baker")||T.includes("pie"))  ){
  gotIngredient = 1;
  textVar = "Ant Queen:\nI accept that truce,\nbut only if the\nRed Queen concedes\nthe Gnome house\nto us";
  
  }
 
    else if(T.includes("look")){
   textVar = "The Ant Queen is\nwatching over\nher army";
   }//end look
   
   } //end sereniagrass2 - black ants
  
     else if (room == "serenia2"){
   
    if(T.includes("look")){
   if(small == 1){ 
   textVar = "Blades of grass\nobscure everything";
   } else {
   textVar = "The peaceful outskirts\nof town";
   textVar2 = "A strange looking\nmushroom grows by\nthe stream";
   }
   }//end look
   
    else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick")|| T.includes("eat")){
     
     if(T.includes("mushroom")){
     if(myGamePiece.x > 170 && myGamePiece.x < 258 && myGamePiece.y > 153){
     walking = 0;
     small = 1;
      changeToNewScreen("serenia2.png", "transparent.png", "goingUp",myGamePiece.x,myGamePiece.y);
     speed = 0;
     yspeed = 0;
     } else{
     textVar = "Graham needs to be closer\nto pick up the mushroom";
     }
     } else if (T.includes("ant")){
     textVar = "Graham doesn't want to\nremove any citizens\nfrom the ant kingdom";
     }
   } //end get
   
   } //end serenia2
   
    else if (room == "serenia"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (small == 0){
     textVar = "Cedric the Grey:\nThe two colonies\nare at war";
     textVar2 = "Morgash has been here";
     } else{
     textVar = "Cedric the Grey:\nCareful, Graham";
     }
   }//end talk
   
    else if(T.includes("look")){
   if(small == 0){ 
   textVar = "Two robust ant colonies\nhave grown in Serenia";
   textVar2 = "Graham enjoys having\nso many kingdoms\nas neighbors";
   } else{
   textVar = "Blades of grass\nobscure everything";
   }
   }//end look
   
   else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick")|| T.includes("eat")){
     
     if (T.includes("ant")){
     textVar = "Graham doesn't want to\nremove any citizens\nfrom the ant kingdom";
     }
   } //end get
   
   } //end serenia
   
   
   
     else if (room == "equestria"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nComfort the king.\nMorgash has been here";
     } 
     else if(T.includes("grail")){
   textVar = "Horse King:\nThat couldn't be\nreal!";
   }
     
     else{
     if(gotIngredient == 0){
     textVar = "Horse King:\nHow did you find us?";
     textVar2 = "Horse King:\nI suggest you\nleave at once";
     
     } else if(gotIngredient == 1) {
     textVar = "Horse King:\nI am filled\nwith sorrow";
     textVar2 = "Horse King:\nCan you tell me\nkind words, good king?";
     }else if(gotIngredient == 2) {
     textVar = "Horse King:\nI will tell you\nif you leave\nimmediately.";
     textVar2 = "Horse King:\nWe don't want\ntrouble here";
     textVar3 = "Horse King:\nMorgash stole a\n'pegasus feather'";
     }
     
     }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Horse King:\nThat couldn't be\nreal!";
   }
   
     else if(T.includes("what")){
   textVar = "It's difficul to\nrule justly. Tell me\ngood words good king";
   }//end what
   
    else if(T.includes("look")){
   textVar = "The beautiful pastures\nof Equestria\nprovide ample food\nfor the denizens";
   }//end look
   
     else if(T.includes("alright")||T.includes("good")||T.includes("kind")||T.includes("nice")||T.includes("hair")||T.includes("mane")||T.includes("improve")||T.includes("coat")||T.includes("crown")||T.includes("beautiful")||T.includes("ok")||T.includes("there there")||T.includes("cheer")||T.includes("cry")||T.includes("better")||T.includes("back")){
   if(gotIngredient == 1){  
    textVar = "Horse King:\nYou are kind.\nI will tell you about\nour past if you\nleave immediately";
     textVar2 = "Horse King:\nWe don't want\ntrouble here";
     textVar3 = "Horse King:\nMorgash stole a\n'pegasus feather'";
     gotIngredient = 2;
   }
   }//end cheer up
   
   
   
   } //end 
   
   
   
   
    else if (room == "northernseadoor"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nFairy Island, hmm";
     }
       else if(T.includes("dunfor")||T.includes("fish")){
     textVar = "Dunfor:\nUhhhhhh";
     textVar2 = "Dunfor:\nI carried a Unicorn\nwho talked about seeing\nsomething like that.\nI dropped him off\nat the fairy island";
     textVar3 = "Dunfor:\nTell him\n'Dunfor sent me'\nand he'll tell you\nall about it";
     }
       else if(T.includes("grail")){
   textVar = "Satyr:\nSounds like just\na story";
   }
     else{
     textVar = "Satyr:\nShhhh,\nyou'll scare the\nfish away, old man";
     }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Satyr:\nSounds like just\na story";
   }
   
    else if(T.includes("look")){
   textVar = "The satyr\nintently tries to\ncatch a fish";
   }//end look
   
     else if(T.includes("dunfor")||T.includes("fish")){
     textVar = "Dunfor:\nUhhhhhh";
     textVar2 = "Dunfor:\nI carried a Unicorn\nwho talked about seeing\nsomething like that.\nI dropped him off\nat the fairy island";
     textVar3 = "Dunfor:\nTell him\n'Dunfor sent me'\nand he'll tell you\nall about it";
   }
   } //end northernseadoor 
   
   
      else if (room == "northernsea"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nEverything looks clear\nfrom here";
     
     } else if(T.includes("dunfor")||T.includes("fish")){
     textVar = "Dunfor:\nUhhhhhh";
     textVar2 = "Dunfor:\nI carried a Unicorn\nwho talked about seeing\nsomething like that.\nI dropped him off\nat the fairy island";
     textVar3 = "Dunfor:\nTell him\n'Dunfor sent me'\nand he'll tell you\nall about it";
     room = "northernseadoor";
      changeToNewScreen("northernseadoor.png", "northernseaForeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
     yspeed = 0;
     speed = 0;
     }
      else{
     textVar = "Satyr:\nThe fishing is awful\nout here.  I haven't\ncaught a fish\nall day";
     textVar2 = "Satyr:\nWhat are you looking\nfor way out here?";
     }
    
   }//end talk
   
    else if(T.includes("grail")){
   textVar = "Satyr:\nSounds like a\nfisherman's tale";
   }
   
     else if(T.includes("morgash")||T.includes("ingredient")||T.includes("elixir")||T.includes("wizard")||T.includes("evil")){
     textVar = "Satyr:\nHmmm, don't know\nabout that.\nMaybe ask Dunfor,\nyou're riding him";
     }
   
   
   
    else if(T.includes("look")){
   textVar = "A teen satyr tries\nhis luck fishing\nin the open sea";
   }//end look
   
    else if(T.includes("dunfor")||T.includes("fish")){
     textVar = "Dunfor:\nUhhhhhh";
     textVar2 = "Dunfor:\nI carried a Unicorn\nwho talked about seeing\nsomething like that.\nI dropped him off\nat the fairy island";
     textVar3 = "Dunfor:\nTell him\n'Dunfor sent me'\nand he'll tell you\nall about it";
     room = "northernseadoor";
      changeToNewScreen("northernseadoor.png", "northernseaForeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
     yspeed = 0;
     speed = 0;
     }
   
   } //end northernsea
   
   
   else if (room == "rockyflying"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nLovely view, isn't it?\nTell us if\nyou see Equestria Island";
     } else{
     textVar = "Pegasus:\nTell me when\nit's safe to land!";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "Beneath the beating wings\nof the Pegasus,\nGraham gazes upon\na wondrous kaleidoscope of\nblue and green below";
   }//end look
   
   else if(T.includes("land")||T.includes("now")||T.includes("down")||T.includes("safe")||T.includes("dismount")||T.includes("equestr")||T.includes("see")){
    room = "equestria1";
     changeToNewScreen("equestria1.png", "transparent.png", "goingUp",77,124);
     yspeed = 0;
     speed = 0;
     gotIngredient = 1;
   }
   
   } //end 
   
    else if (room == "rockyshoals"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nThis is a\ntreacherous place";
     } 
      else if(T.includes("grail")){
   textVar = "Pegasus:\nI've never seen it";
   }
     else{
     textVar = "Pegasus:\nWho's there?";
     }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Pegasus:\nI've never seen it";
   }
   
    else if(T.includes("graham")||T.includes("king")||T.includes("friend")||T.includes("man")||T.includes("davent")){
    textVar = "Pegasus:\nYou are a friend.\nI was flying with\na flock of Pegasi,\nand blown off course";
    textVar2 = "Pegasus:\nI don't see very clearly\nat my age.\nI need to get back\nto my home of\nEquestria Island";
    textVar3 = "Pegasus:\nI need a guide.\nLet's go for a ride!";
    }//end graham
   
    else if(T.includes("yes")||T.includes("ride")||T.includes("get on")||T.includes("saddle")||T.includes("mount")){
    room = "rockyflying";
     changeToNewScreen("rockyshoals.png", "unicornridingsky1.png", "goingRight",myGamePiece.x,myGamePiece.y);
    }
   
    else if(T.includes("look")){
   textVar = "Rocky shoals,\nwhere the seafloor\nmeets the surface,\nto drag ships down\nto the depths";
   textVar2 = "A lone pegasus stands\nstranded surrounded by\nthe sea";
   textVar3 = "The pegasus is weary,\nand has tears in\nits eyes";
   }//end look
   
   } //end 
   
   
     else if (room == "tamir2"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nI'm keeping an eye\non Zeus";
     } 
     else if (T.includes("hera")){
     textVar = "Hera:\nDon't get him started";
     }
     
     else{
     textVar = "Zeus:\nWoah, Cedric the Grey,\nwhy is the sheriff\nhere? Sorry about that\nthing back then Cedric,\ndidn't mean it";
     textVar2 = "Zeus:\nWho knew Cedric\nwas so...educated.\nThey call that bird\n'the sword of Graham'";
     textVar3 = "Zeus:\nWhat are you two\nlooking for?";
     }
   }//end talk
   
   else if(T.includes("morgash")||T.includes("ingredient")||T.includes("elixir")||T.includes("wizard")||T.includes("evil")){
   room = "tamir2dark";
     changeToNewScreen("tamir2dark.png", "tamir2darkForeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
       speed = 0;
       yspeed = 0;
       gotIngredient = 1;
       
       textVar = "Zeus:\nThat wizard came here\nand stole some\n'Olympic water'";
       textVar2 = "Zeus:\nYou are no longer\nwelcome here, Graham.\nIf your bodyguard wasn't\nhere it would be\na different story\nfor you";
       
   } //end Morgash
   
     else if(T.includes("grail")){
     textVar = "Zeus:\nHaven't heard of it";
     }
   
    else if(T.includes("look")){
   textVar = "Zeus and Hera lounge\nin their olympic pool";
   }//end look
   
   } //end tamir2
   
     else if (room == "tamir1"){
  
    if(T.includes("statue")||T.includes("inscription")||T.includes("rosella")||T.includes("pedestal")){
   textVar = "'The only rose without thorns\nis our Rosella'";
   textVar2 = "Dedicated by\nQueen Genesta";
   }//end statue
   
   else if(T.includes("look")){
   textVar = "A beautiful statue stands\nin the quiet meadow";
   textVar2 = "The statue has\nan inscription on\nits pedestal";
   }//end look
   
   } //end tamir1
   
   
   else if (room == "EnchantedTower3"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nThe gnome husband\nand wife have\nthe information we need";
     } //end ask cedric
     
      else if(T.includes("wife")||T.includes("woman")||T.includes("beloved")||T.includes("girl")){
      textVar = "Gnome Wife:\nThere's been a lot\nof gossip in the\ngnome towns";
      textVar2 = "Gnome Wife:\nWe heard Morgash\nwas looking for\n'shark teeth' at\nGenesta's fairy island";
      textVar3 = "Gnome Wife:\nDid you really meet a genie once?";
      gotIngredient = 1;
       changeToNewScreen("EnchantedTower3door.png", "EnchantedTower3Foreground.png", "goingUp",myGamePiece.x,myGamePiece.y);
       speed = 0;
       yspeed = 0;
      }
      else if(T.includes("husband")||T.includes("man")||T.includes("gnome")){
      textVar = "Gnome Husband:\nIt's an honor, sir.\nMy wife and I have\nstudied all your\nadventures! Did you\nreally climb a beanstalk\nonce?";
   textVar2 = "Gnome Husband:\nDid you know the\nwizard Morgash came here?\nHe took some\n'lion bone.' Odd.";
   textVar3 = "Gnome Husband:\nYou can ask\nmy beloved";
     }
     else if(T.includes("grail")){
   textVar = "Gnome Husband:\nYou know, I heard\na balloonist headed\nfor the dangerous currents\ntalking about something\nlike that";
   }
     
     else{
     textVar = "Gnome:\nAre you him?";
     }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Gnome Husband:\nYou know, I heard\na balloonist headed\nfor the dangerous currents\ntalking about something\nlike that";
   }
   
    else if(T.includes("yes")){
   
   if(gotIngredient == 0){ 
   textVar = "Gnome Husband:\nIt's an honor, sir.\nMy wife and I have\nstudied all your\nadventures! Did you\nreally climb a beanstalk\nonce?";
   textVar2 = "Gnome Husband:\nDid you know the\nwizard Morgash came here?\nHe took some\n'lion bone.' Odd.";
   }else{
   textVar = "Gnome Wife:\nAmazing!";
   }
   }//end yes
   
    else if(T.includes("look")){
   textVar = "A gnome and his\nwife enjoy\nthe romantic scenery\nof resplendent purple seas";
   }//end look
   
  
   
   } //end enchantedtower3
   
    else if (room == "EnchantedTower2"){
   if(T.includes("open")||T.includes("lock")||T.includes("knock")||T.includes("door")){
   
   if(myGamePiece.x > 261){
   room = "EnchantedTower3";
changeToNewScreen("EnchantedTower3.png", "EnchantedTower3Foreground.png", "goingUp",362,211);
   speed = 0;
   yspeed = 0;
   
   }else{
   textVar = "Graham needs to be\ncloser to the door";
   }
   
   }
   
    else if(T.includes("look")){
   textVar = "Graham remembers the\nexhuberant excitement\nhe felt as\nhe first anticipated\nopening this door";
   }//end look
   
   } //end enchantedTower2
   
    else if (room == "greenisles"){
    
     if(T.includes("unlock")||(T.includes("lock")&&T.includes("pic"))){
   if(gotLockpick == 1){
   textVar = "Graham uses Blackbeard's\nlockpick to open\nthe door";
    changeToNewScreen("greenislesopen.png", "transparent.png", "goingUp",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    textVar = "Red Queen:\nNice shirt, traveler.\nI'm always looking\nfor more knights.\nYou move like a\nRook though.  Farewell!";
   } else{
   textVar = "The door is locked";
   }
   }//end lockpick
    
   else if (T.includes("open")||T.includes("enter")||T.includes("knock")||T.includes("door")){
    textVar = "The door is locked";
    }
   
   else if(T.includes("grail")){
   textVar = "Rotten Tomato:\nThat couldn't be real.\nWe drink the rain\nanyways";
   }
   
    else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick")){
     textVar = "Rotten Tomato:\nHey buddy,\nwatch it!";
     }
   
    else if(T.includes("tomato")){
   textVar = "Rotten tomato:\nHey, you big brute!\nLeave us alone!\nWhat are you looking at?";
   textVar2 = "Rotten tomato:\nGet that bird\naway from us!\nGo shave, why don't you?";
   textVar3 = "Rotten tomato:\nWhy do you have to\neat innocent plants?\nIt's called photosynthesis,\nlook it up!\nGo away,\nour garden's full!";
   }
   
   else if(T.includes("lettuce")){
   textVar = "The iceberg lettuce\nis freezing cold";
   }
    else if(T.includes("snap")){
   textVar = "Snapdragon:\nSnap snap!";
   }
   else if(T.includes("grape")){
   textVar = "Sour grapes:\nIt's sunnier over\nto the south!\nWho wants\nto be around ladybugs\nanyway";
   }
    else if(T.includes("vine")){
   textVar = "Clinging vine:\nI love this cute owl!\nDon't leave us\nfor the south garden!";
   }
   else if(T.includes("wall")&&T.includes("flower")){
   textVar = "Wallflower:\nWe'll stay in the\nNorth garden, thanks";
   }
   else if(T.includes("baby")&&T.includes("tear")){
   textVar = "Baby tears:\nWaaaaa\naaaaaa\naaaaa";
   textVar2 = "Baby tears:\n...aaaaaaa\naaaaaaa\naaaaaaa";
   textVar3 = "Baby tears:\n...aaaaa\naaaaaah!";
   }
   
   else if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nOwl always\nprotect you Graham";
   
     }
   
   else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
  textVar = "To whom would Graham\nlike to speak?";
   }//end talk
   
   
    else if(T.includes("look")){
   textVar = "This quizzical garden\nis full of vegetables\nwith strong opinions";
   textVar2 = "Graham recognizes tomatoes,\nlettuce, snapdragons, grapes,\nvines, baby tears,\nand wallflowers";
   }//end look
   
    
   
    
   
  
   
  
   
   } //end green isles
   
   else if (room == "greenisles2"){
   
   if(T.includes("potato")){
   textVar = "Potatoes:\nWe're keeping our\neyes on you!";
   }
    else if(T.includes("corn")){
   textVar = "Ears of corn:\nShhhhh!\nWe're listening\nfor crows";
   }
   else if(T.includes("lion")){
   textVar = "Dandy lions:\nROAR!\nDo you like\nour green outfits?";
   }
   else if(T.includes("grail")){
   textVar = "Ladybug:\nNo grails here.\nSounds lovely though";
   }
   
    else if(T.includes("bell")||T.includes("pepper")){
   textVar = "Bell pepper:\nRing, ring!";
   }
   else if(T.includes("lady")){
   textVar = "Lady Bug:\nHello sir!\nDo you know King Alex?\nYou seem a lot nicer\nthan an old Wizard\nthat came through here";
   textVar2 = "Lady Bug:\nHe stole some\n'tomato juice'";
   gotIngredient = 1;
    changeToNewScreen("greenisles2door.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
   }
   
   else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
  textVar = "To whom would Graham\nlike to speak?";
   }//end talk
   
    else if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nOwl always\nprotect you Graham";
     }
   
    else if(T.includes("look")){
   textVar = "This bemusing South garden\nis full of\nlively vegetables";
   textVar2 = "Graham recognizes corn,\npotatoes, bell peppers,\nladybugs,\nand dandelions";
   }//end look
   
     else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick")){
     textVar = "Rotten Tomato:\n(calls out)\nHey buddy,\nI see you over there!\nWatch it!";
     }
   
   
   } //end green isles2
   
   
    else if (room == "lion"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")||T.includes("morgash")||T.includes("hello")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nMorgash has not\nbeen here";
     } else{
     textVar = "Cardinal Lion:\nHow is life\nto the West?\nThere has been strange\nelectrical activity\nto the Northwest\nat Mordack's island\naffecting my compass";
     textVar2 = "Cardinal Lion:\nI've seen a dark\nwizard chasing after\nthe Holy Grail\nto the South.\nHe came from the East\nbelieve it or not";
     textVar3 = "Cardinal Lion:\nYou are welcome to\ntake this ham, voyager.\nI neither eat\nnor drink";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "The Cardinal Lion\nkeeps watchful eyes\non the happenings\nfrom every direction";
   textVar2 = "Graham had heard\nlegends of the creature\nliving off seawater\nand sunlight";
   }//end look
   
   if ((T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick"))&& T.includes("ham") || T.includes("meat")|| T.includes("bone")|| T.includes("meal")|| T.includes("food")|| T.includes("pork")|| T.includes("dinner")){
   textVar = "Graham picks up\nthe ham";
    gotIngredient = 1;  
    gotHam = 1;
    changeToNewScreen("compass2.png", "transparent.png", "goingUp",myGamePiece.x,myGamePiece.y);

speed = 0;
yspeed = 0;
   } //end get meat
   
    if (T.includes("eat")){
    gotHam = 1;
    textVar = "Graham takes a bite\nof the briney ham.\nIt restores some\nof his vigor";
    textVar2 = "Cedric the Grey:\nSave some in case\nwe need it later";
    } //end eat
   
   } //end
   
   
   else if (room == "fairy4"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
  
     textVar = "Unicorn:\nI lost track\nof my friend the Pegasus.\nHave you seen him?";
     textVar2 = "Unicorn:\nHe was travelling through\nthe dangerous currents\nand got blown somewhere\nin the vicinity";
     
   }//end talk
   
    else if(T.includes("look")){
   textVar = "The clear blue water\nlaps on the shore\nsoftly, as a\nserene Unicorn snacks\non grass under\nthe shade of a tree";
   }//end look
   
   else if(T.includes("dunfor")&&T.includes("sent")&&T.includes("me")){
   textVar = "Unicorn:\nThat old minnow?\nI told him all\nabout this wizard that\nwas sneaking around\nTamir";
   textVar2 = "Unicorn:\nHe took some\n'Satyr hair'";
   }
   
    else if(T.includes("pet")){
    textVar = "Graham pets the \nvelvety nose of\nthe Unicorn";
    }
   
   } //end fairy4
   
   
   
    else if (room == "fairy3"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\n";
     } 
       else if(T.includes("grail")){
    textVar = "Queen Genesta:\nThe chalice of order?\nI wonder if it\nreally exists";
   }
     else{
     textVar = "Queen Genesta:\nWe're so excited\nto see you Graham!\nMy little fairies\nhave been talking\nabout you all day!";
     textVar2 = "Queen Genesta:\nWhat are you\nlooking for?";
     }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Queen Genesta:\nThe chalice of order?\nI wonder if it\nreally exists";
   }
   
    else if(T.includes("morgash")||T.includes("ingredient")||T.includes("grail")||T.includes("wizard")||T.includes("evil")||T.includes("dark")||T.includes("bad")){
   textVar = "Queen Genesta:\nThe mean old wizard\nMorgash came around\nour island and\ngrabbed a 'shark tooth'";
   textVar2 = "Queen Genesta:\nOh I wish Cedric\nwould stay with us,\nbut I understand.\nWe could always use\nhis protection";
   textVar3 = "Queen Genesta:\nJust leave through\nour door when\nyou are ready\nto go!";
   }//end look
   
    else if(T.includes("look")){
   textVar = "The lovely fairies\nflit about exuberantly";
   }//end look
   
    else if(T.includes("open")||T.includes("door")||T.includes("enter")){
    
    if(myGamePiece.y < 110){
   textVar = "Queen Genesta:\nHappy travels Cedric!\nGoodbye Sir Graham!";
   room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar2 = "Cedric the Grey:\nNo time to linger.\nLet's keep going, Graham";
} else {
textVar = "Graham needs to be\ncloser to the door";
}
   
   }//end leave through door
   
   } //end
   
   
    else if (room == "moon"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
     textVar = "Alien: Greetings Daventryling,\nDisregard the Moonwolf,\nit's always howling.\nThe Moon King will\ntell you all you\nwish to know if\nyou can pass the...";
      textVar2 = "Alien:\n...Moon Logic test.\nMoon logic is logical\non the inside but\nillogical from the outside\nlooking in";
       textVar3 = "Alien: In each crater\nare written words.\nSpeak the two that \ngo together.\nWin 3 out of 4 craters"; 
   }//end talk
   
    else if(T.includes("look")){
   
   if (T.includes("crater")|| T.includes("word")){
  
  if(myGamePiece.x < 93 && myGamePiece.y < 145 ){
  textVar = "This crater has the words:\nBridle, Rabbit, Peas,\nHound, Hat, Snake";
  }
  
  else if(myGamePiece.x < 66 && myGamePiece.y > 145){
  textVar = "This crater has the words:\nRope, Pie, Harp,\nYeti, Unicorn, Abacus";
  }
  
   else if(myGamePiece.x > 215 && myGamePiece.x < 310 && myGamePiece.y < 165){
  textVar = "This crater has the words:\nWitch, Diamond, Feather,\nWhale, Mirror, Sword";
  }
  
    else if(myGamePiece.x > 477 && myGamePiece.y < 159){
    textVar = "This crater has the words:\nCookie, Sword, Inkwell,\nMermaid, Chicken, Cobbler";
  }
  
  else {
  textVar = "Graham needs to be closer\nto see in the crater";
  }
  
   } else{
   textVar = "The moon kingdom is\npopulated by a\nmenagerie of alien species";
   textVar2 = "Dark craters are\nscattered across the\nlunar surface";
   textVar3 = "Graham admires the staggering\nuniverse surrounding his\nquaint little home";
   }
   }//end look
   
   
   
   else if(T.includes("cookie")&&T.includes("mermaid")){
   if(T.includes("Sword")||T.includes("inkwell")||T.includes("chicken")||T.includes("cobbler")){
   textVar = "Alien:\nThe Moon King says\nthat isn't moon logic,\ntry again";
   } else{
   textVar = "Alien:\nYes, that is correct!\nYour logic is\nover the moon!";
   gotIngredient = gotIngredient + 1;
   }
   }
   
   else if(T.includes("cookie")||T.includes("mermaid")){
   if(T.includes("Sword")||T.includes("inkwell")||T.includes("chicken")||T.includes("cobbler")){
      textVar = "Alien:\nThe Moon King says\nthat's only halfway\nright, try again";
   } 
   }
   
   
   else if(T.includes("feather")&&T.includes("whale")){
   if(T.includes("witch")||T.includes("diamond")||T.includes("mirror")||T.includes("sword")){
   textVar = "Alien:\nThe Moon King says\nthat isn't moon logic,\ntry again";
   } else{
   textVar = "Alien:\nYes, that is correct!\nYour logic is\nover the moon!";
   gotIngredient = gotIngredient + 1;
   }
   }
   
    else if(T.includes("feather")||T.includes("whale")){
   if(T.includes("witch")||T.includes("diamond")||T.includes("mirror")||T.includes("sword")){
      textVar = "Alien:\nThe Moon King says\nthat's only halfway\nright, try again";
   } 
   }
   
    else if(T.includes("pie")&&T.includes("yeti")){
   if(T.includes("rope")||T.includes("harp")||T.includes("unicorn")||T.includes("abacus")){
   textVar = "Alien:\nThe Moon King says\nthat isn't moon logic,\ntry again";
   } else{
   textVar = "Alien:\nYes, that is correct!\nYour logic is\nover the moon!";
   gotIngredient = gotIngredient + 1;
   }
   }
   
    else if(T.includes("pie")||T.includes("yeti")){
   if(T.includes("rope")||T.includes("harp")||T.includes("unicorn")||T.includes("abacus")){
     textVar = "Alien:\nThe Moon King says\nthat's only halfway\nright, try again";
   } 
   }
   
   else if(T.includes("bridle")&&T.includes("snake")){
   if(T.includes("rabbit")||T.includes("peas")||T.includes("hound")||T.includes("hat")){
   textVar = "Alien:\nThe Moon King says\nthat isn't moon logic,\ntry again";
   } else{
   textVar = "Alien:\nYes, that is correct!\nYour logic is\nover the moon!";
   gotIngredient = gotIngredient + 1;
   }
   }
   
   else if(T.includes("bridle")||T.includes("snake")){
   if(T.includes("rabbit")||T.includes("peas")||T.includes("hound")||T.includes("hat")){
    textVar = "Alien:\nThe Moon King says\nthat's only halfway\nright, try again";
   } 
   }
   else if(T.includes("grail")){
   textVar = "Alien:\nIt must be on\nthe planet\nif it really exists";
   }
   
   
   if(gotIngredient == 3){
   textVar = "Moon King:\nSometimes madness is logical\nin hindsight.";
   textVar2 = "Moon King:\nMorgash has been here.\nHe stole 'moon peas'";
   changeToNewScreen("moondoor.png", "transparent.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
   gotIngredient = 4;
   }
   
   } //end
   
   
   
   
   
    else if (room == "mordack2"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
  if(gotIngredient == 0){
     textVar = "Cedric the Grey:\nMoon cheese is\non the machine. Interesting";
     textVar2 = "The machine is missing\nsomething";
   } else{
   textVar = "Cedric the Grey:\nThrow the moon cheese\nin the vat\nwhen you're ready!";
   }
   
   }//end talk
   
    else if(T.includes("look")){
   if(gotIngredient == 0){
   textVar = "The diabolical machine\nwhich robbed the magic\nfrom Mordack's wand, magically\nspiriting it away\ninto Graham's\nwand all those years\nago";
   textVar2 = "The sky must have fallen.\nThere is green moon\ncheese sitting on the\nmachine, but something\nseems to be missing\nfrom the other side";
   textVar3 = "On the empty side\nof the machine there\nappears to be some\nblue hair from\none of the Harpies";
   }else {
   textVar = "The telescope is aimed\nupwards";
   }
   }//end look
   
   else if(T.includes("telescope")){
   if(gotTelescope == 1){
   changeToNewScreen("mordack2telescope.png", "mordack2telescope.png", "goingUp",myGamePiece.x,myGamePiece.y);
   gotIngredient = 1;
   textVar = "Cedric the Grey:\nThrow the moon cheese\ninto the vat\nwhen you are ready!";
   }
   }
   
     else if(T.includes("cheese")&&(T.includes("throw")||T.includes("put")||T.includes("toss")||T.includes("drop")||T.includes("use"))){
     if(gotIngredient == 1){
     textVar = "Cedric the Grey:\nHold onto your\nhat Graham!";
     gotIngredient = 0;
     room = "moon";
      changeToNewScreen("moon.png", "transparent.png", "goingUp",100,200);
      speed = 0;
      yspeed = 0;
      walking = 0;
      climbing = 1;
      
       myGamePiece.image = new Image();
     myGamePiece.image.src = "climb1.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "climb.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "climb.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "climb.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "climb.png";
     myGamePiece.image = new Image();
     myGamePiece.image.src = "climb6.png";
      
     }
     }
   
   else if(T.includes("cheese")&&(T.includes("get")||T.includes("pick")||T.includes("eat")||T.includes("grab")||T.includes("take"))){
     textVar = "Cedric the Grey:\nHmm, I think we\nshould leave the moon\ncheese until we\nsolve this mystery!";
     }
   
   } //end mordack2
   
   
    else if (room == "harpy"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nShe's no danger\nto us. Morgash has\nnot been here\nfor an ingredient\nthough. Curious";
     } 
      else if(T.includes("grail")){
   textVar = "Harpy:\nI don't like\nanything holy!";
   }
     else{
     textVar = "Harpy:\nLook at this mess\neverywhere, who is\ngoing to clean all\nthis up!  Bones\nlaying all over\nthe place!";
     textVar2 = "Harpy:\nWhat will the sailors\nthink? Someone needs\nto get this\nmess up!";
     }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Harpy:\nI don't like\nanything holy!";
   }
   
    else if(T.includes("look")){
   
   if(gotIngredient == 0){ 
   textVar = "The mad harpy Minotta sits\nalone on the island\ngrowing all the\nmore bitter every day";
   textVar2 = "The bones of her\nsisters lay scattered";
   textVar3 = "A mysterious telescope\nsits perched\naimed at\nthe heavens";
   } else{
   textVar = "Manannan's telescope\nis in Graham's possession";
   textVar = "Graham looks through\nthe telescope and\nsees...\nthe moon";
   }
   }//end look
   
    else if((T.includes("clean")||T.includes("get")||T.includes("pick")||T.includes("tidy"))&&(T.includes("bone")||T.includes("skelet"))){
   textVar = "Harpy:\nTook you long\nenough to get\nthat mess up!\nWhile you're at it,\nhere, take this\n magic telescope away!";
   textVar2 = "Harpy:\nWe took it from\nMordack's island, it\nbelonged to his cat\nthat was always spying\non everyone";
   gotIngredient = 1;
   gotTelescope = 1;
   changeToNewScreen("harpydoor.png", "transparent.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
   }//end clean
   
   } //end harpy
   
   
    else if (room == "EnchantedB2"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
     textVar = "Cedric the Grey:\nCrispin told me\nthe story, Graham.\nVery beautiful";
   }//end talk
   
    else if(T.includes("look")){
   if(T.includes("foot")){
   textVar = "The footprints lead\nup to the tower,\nappear to go in,\nand leave again";
   textVar2 = "The prints appear\nto be from\nsomeone with\na peg leg";
   }else{
   textVar = "The tower of\nValanice rises in\nits ivory splendor";
   textVar2 = "Some footprints are\npressed into the\nsand before the\ntower door";
   }
   }//end look
   
    else if(T.includes("open")||T.includes("enter")){
   if(myGamePiece.x <217 && myGamePiece.x > 77){
   textVar = "The door is locked";
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
   }//end enter
   
    else if(T.includes("hair")||T.includes("ax")){
   if(myGamePiece.x <217 && myGamePiece.x > 77){
   textVar = "That didn't seem\nto unlock the\ndoor";
   textVar2 = "Cedric the Grey:\nDrat";
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
   }//end hairpin/pickaxe
   
    else if(T.includes("unlock")||(T.includes("lock")&&T.includes("pic"))){
   if(myGamePiece.x <217 && myGamePiece.x > 77){
   if(gotLockpick == 1){
   textVar = "Graham uses blackbeard's\nlockpick to open\nthe door";
   textVar2 = "Cedric the Grey:\nYou did it!";
   room = "EnchantedTower1";
   changeToNewScreen("EnchantedTower1.png", "transparent.png", "goingUp",187,124);
     speed = 0;
     yspeed = 0;
   }
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
   }//end lockpick
   
   } //end EnchantedB2 tower
   
   
   
   
    else if (room == "pirate4"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nNo problem, Graham";
     } else{
     textVar = "Pirate King:\nNo harrrrd feelings\nmatey";
     }
   }//end talk
   
    else if(T.includes("look")){
   textVar = "The vast sea\nsurrounds Graham.\nHe wonders how\nmany wayward sailors\nhave met their\nend this way";
   }//end look
   
   } //end pirate 4
   
    else if (room == "pirate2"){
     if(T.includes("look")){
    textVar = "The Pirate King's elusive\nhideout overlooks the\nlonely ocean.\nA towering tree has\ngrown around the monster's\nbony back plates";
    }
    }
   
    else if (room == "pirate3"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nMorgash has been\nto this island";
     } else{
     textVar = "Parrot:\nSquack!\nMorgash is here!\nSquack!";
     }
   }//end talk
   

     else if(T.includes("open")||T.includes("unlock")){
     if(myGamePiece.x > 319){
   textVar = "There is a pile of\npirate loot\ninside the treasure\nchest";
    changeToNewScreen("pirate3open.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
     speed = 0;
     yspeed = 0;
     gotIngredient = 5;
} else {
textVar = "Graham needs to be closer\nto open the\nchest";
}
   }//end open
   
    else if((T.includes("loot")||T.includes("booty") ||T.includes("treasure")||T.includes("gold"))&&gotIngredient == 5){
   gotIngredient = 1;
   textVar = "Graham has bountiful\npirate loot\nin his possession";
   textVar2 = "There is a solid\nblack bottle, a jewel,\na bar of silver,\na hook, a ruby ring,\nblackbeard's lockpick,\nand a\ngold brooch";
   gotLockpick = 1;
   } //end loot
   
    else if((T.includes("treasure")||T.includes("chest"))&&gotIngredient == 1){
   textVar = "Graham has bountiful\npirate loot\nin his possession";
   textVar2 = "There is a solid\nblack bottle, a jewel,\na bar of silver,\na hook, a ruby ring,\nblackbeard's lockpick,\nand a\ngold brooch";
   } //end look at treasure
   
    else if(T.includes("bottle")&&T.includes("hook")){
   if(gotIngredient == 1){ 
   gotIngredient = 2;
   textVar = "Graham uses the hook\nto pop open the bottle.\nIt smells like\n'Kraken blood'";
   textVar2 = "Parrot:\nSquack! Intruder!";
   textVar3 = "Pirate King:\nApologies Sir Graham,\nif ye know where\nour hideout swims\nye must\nWALK THE PLANK!";
  
   }
   }//end bottle hook
   
   else if(T.includes("bottle")){
     if(gotIngredient == 1){ 
   textVar = "The bottle is\nsealed up tight";
   }
   } //end bottle
   
   else if(T.includes("lock")&&T.includes("pic")){
     if(gotIngredient == 1){ 
   textVar = "Blackbeard's lockpick.\nIt looks like it\ncould unlock anything";
   }
   } //end bottle
   
   else if(T.includes("hook")){
     if(gotIngredient == 1){ 
   textVar = "The iron hook\nhas come in\nhandy for some\npirate";
   }
   } //end hook
   
   else if(T.includes("brooch")){
     if(gotIngredient == 1){ 
   textVar = "Cedric will donate\nthe brooch to a\nmermaid orphanage";
   }
   } //end brooch
   
   else if(T.includes("ring")){
     if(gotIngredient == 1){ 
   textVar = "Cedric will donate\nthe ring to a\nsea dragon\norphanage";
   }
   } //end hook
   
    else if(T.includes("silver")){
     if(gotIngredient == 1){ 
   textVar = "Cedric will donate\nthe silver to a\nprosthetic smith";
   }
   } //end hook
   
   else if(T.includes("jewel")){
     if(gotIngredient == 1){ 
   textVar = "Cedric will donate\nthe jewel to a\ndwarf orphanage";
   }
   } //end hook
   
       else if(T.includes("look")){
   textVar = "The secluded\npirate treehouse\nis full of\npirate detritus";
   }//end look
   
   } //end
   
   
     else if (room == "pirate1"){
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nCurious life on\nthe sea.\nMorgash has not\nbeen here";
     } 
     else if(T.includes("parrot")){
     if(myGamePiece.x > 218){
     textVar = "Parrot:\nSquack!";
     textVar2 = "King's Island!\nDead ahead!\nSquack!";
     changeToNewScreen("pirate1door.png", "pirate1Foreground.png", "goingLeft",myGamePiece.x,myGamePiece.y);
     speed = 0;
     yspeed = 0;
     gotIngredient = 1;
     } else{
     textVar = "Graham needs to be closer\nto the parrot";
     } //end proximity
     }
     else if(T.includes("grail")){
   textVar = "Pirate King:\nNay, never did see\nwhere that beautiful chalice\nwound up";
   }
     else{
     textVar = "Pirate King:\nAy Graham!\nI heard a strange\nsailor's tale that ye\nlost your marbles and\ndied in bed!\nShould have known\nbetter, Ha!";  
     textVar2 = "Pirate King:\nIf you're travelling with\nCedric the Grey\nit must be\nserious business.\nLucky man, the things\nthat owl and I\ncould do...";
     textVar3 = "Pirate King:\nThe dark Wizard has\nbeen to my secret\nhideaway, but I'll\nnever tell another\nKing where it is.\nYe won't find it\non any map! Ha Harr!";
     }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Pirate King:\nNay, never did see\nwhere that beautiful chalice\nwound up";
   }
   
    else if(T.includes("look")){
   if(T.includes("parrot")){
   textVar = "The stoic green parrot\nmust feel as though\nit is soaring\nup here";
   }else if(T.includes("pirate")){
   textVar = "The Pirate King\nwears a nautical crown\nthat can be\nused as a compass\nand wears the suit\nof a defeated\nAdmiral";
   }else{
   textVar = "The brine of the\nsea sweeps through the\nair as the Pirate\nKing's dreaded ship\ncuts through the\nseas";
   }
   }//end look
   
   } //end
   
   
   
    else if (room == "whale" || room == "whaledoor"){
   
   if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   
   if(T.includes("cedric")||T.includes("owl")){
   textVar = "Cedric the Grey:\nMorgash has been in\nhere, certainly";
   } else{
   textVar = "King Otar:\nIt's impossible to climb\nthis thing!\nThank goodness you're here,\nCedric!";
   textVar2 = "King Otar:\nKing Graham, look\nat the skeleton,\nyou must be searching\nfor something there";
   }
   
   } //end talk
   
   else if (T.includes("look")){
   
   if(T.includes("tongue")){
   textVar = "A big slimey tongue\ncovered in germs";
   }
   
   else if(T.includes("teeth")){
   textVar = "Giant teeth of\nan odd whale\nspecies";
   }
   
    else if(T.includes("otar")||T.includes("king")){
   textVar = "King Otar Fenris III\nappears to be stuck\nin a vain attempt\nto climb the whale\ntongue";
   }
   
   else if(T.includes("skeleton")||T.includes("body")){
   if(myGamePiece.x > 359){
   textVar = "The unfortunate soul was\nswallowed whole\nand trapped";
   textVar2 = "The skeleton has\na small empty bottle\nresting in its ribs";
   } else {
   textVar = "Graham needs to be closer";
   }
   }
   
   else if(T.includes("boat")||T.includes("ship")){
   if(myGamePiece.x > 359){
   textVar = "The small boat\nappears to have been\nswallowed whole";
   textVar2 = "An old skeleton is\nstill resting in\nthe boat";
   } else {
   textVar = "Graham needs to be closer\nto the boat";
   }
   }
   
   
    else if(T.includes("bottle")){
    if(myGamePiece.x > 359){
   textVar = "The bottle is labeled\n'whale musk'";
   textVar2 = "Cedric the Grey:\nCatchous Otarous!";
   textVar3 = "King Otar:\nThank you, Cedric!\nBest of luck, Graham!\nBack to Vulcanix!";
   gotOtar = 1;
   gotIngredient = 1;
   room = "whaledoor";
   changeToNewScreen("whaledoor.png", "transparent.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
    } else {
   textVar = "Graham needs to be closer";
   }
   }
   
   else{
   textVar = "This whale must be\n cruising the\nuknown seas";
   textVar2 = "King Otar the troll\nappears to be partway\nup the whale's tongue";
   textVar3 = "A scum-preserved\nskeleton and rowboat\nsit in the slime";
   }
   } //end look
   
    else if(T.includes("bottle")){
   textVar = "The bottle is labeled\n'whale musk'";
   gotIngredient = 1;
    textVar2 = "Cedric the Grey:\nCatchous Otarous!";
   textVar3 = "King Otar:\nThank you, Cedric!\nBest of luck, Graham!\nBack to Vulcanix!";
   gotOtar = 1;
   room = "whaledoor";
   changeToNewScreen("whaledoor.png", "transparent.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
   }
   
    else if (T.includes("climb")){
    textVar = "Looks more slippery\nthan the giant rose";
    }
   
   } //end whale
   
   
     else if (room == "neptune" || room == "neptunedoor"){
     
     if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
     
     if (T.includes("cedric")||T.includes("owl")){
     textVar = "Cedric the Grey:\nMorgash has been\nin these seas";
     } else{
     textVar = "King Neptune:\nWho are you\ninquiring about?";
     }
     
     } //end talk
     
    else if (T.includes("look")){
       
       if(T.includes("neptune")){
       textVar = "King Neptune wears a\nweathered grimace on his\nbriney face";
       } 
       
       else if (T.includes("cedric")||T.includes("owl")){
       textVar = "Cedric floats comfortably\nin a magical bubble";
       }
       else{
       textVar = "King Neptune sits on\nhis barnacled undersea throne,\npresiding over his\nvoluminous kingdom";
       }
       
       } //end look
        
   
        else if (T.includes("morgash")||T.includes("wizard")){
        textVar= "King Neptune:\nThe trespasser.\nI will tell you\nif you are clever\nenough to answer\nmy riddle:";
        textVar2 = "I come and go,\nI wave goodbye\nand wave hello,\nI spring, I rip,\nI can consume cities whole.\nWhat am I?";
        }
     
      else if (T.includes("tide")){
      textVar = "King Neptune:\nA dark wizard stole\n'mermaid scale' from one\nof my citizens";
      gotIngredient = 1;
   room = "neptunedoor";
   changeToNewScreen("neptunedoor.png", "transparent.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
      }
     
     else if(T.includes("grail")&& gotIngredient == 1){
   textVar = "King Neptune:\nThat chalice has never\nbeen in the sea";
   textVar2 = "King Neptune:\nThough my mermaids found\na shipwreck with\na record of it\nand mention of\na large cross";
   }
     
     }//end neptune
   
    else if (room == "tanaloredesert" || room == "tanaloredesertdoor"){
   
    if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
     if(T.includes("bandit")){
    textVar = "Bandit:\nI thought Cedric\nthe Grey was just\na legend";
     }
     else if(T.includes("grail")){
   textVar = "Bandit:\nNever seen it,\ndon't believe in it";
   }
     else {
      textVar = "Cedric the Grey:\nOoh, this is where\n Sir Alexander fought\nthe witch Medusa";
     }
     } //end talk
     
     else if(T.includes("grail")){
   textVar = "Bandit:\nNever seen it,\ndon't believe in it";
   }
     
    else if (T.includes("look")||T.includes("examine")||T.includes("inspect")){
       
     
       if(T.includes("medusa")||T.includes("statue")||T.includes("witch")||T.includes("stone")||T.includes("snake")){
        
        if(myGamePiece.x < 310 && myGamePiece.x > 185 && myGamePiece.y < 176){
       textVar = "Medusa's hideous face\nis frozen in stone.\nUpon inspection you notice\nseveral snakes are missing\ntheir fangs";
       gotIngredient = 1;
   room = "tanaloredesertdoor";
   changeToNewScreen("tanaloredesertdoor.png", "tanaloredesertForeground1.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
       } else {
       textVar = "Graham needs to be closer\nto inspect Medusa";
       }
       } //end look at medusa
       
       else if (T.includes("cedric")||T.includes("owl")){
       textVar = "Cedric found a spot\non the cactus\nwithout needles";
       }
       
       else{
       textVar = "The petrified stone remains\nof Medusa\nsit in the sands.\nThe forlorn cracked\ndesert vista reaches\nto the horizon behind her";
       textVar2 = "The Tanalore bandits\nhave been dispatched\nby Cedric";
       }
      
       } //end look
   
   }// end tanaloredesert
   
   
   
    else if (room == "swamp" || room == "swampsnake" || room == "swampdoor"){
    
    if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
     
     if (T.includes("cedric")||T.includes("owl")){
     
     if(room == "swamp"){
     textVar = "Cedric the Grey:\nA curious fruit\nWhat kind is it?";
     } else {
     textVar = "Cedric the Grey:\nIf it weren't for\nyour kind heart Graham,\nI would transmogrify\nthat snake into\na trillion atoms";
     textVar2 = "Cedric the Grey:\nDon't trust\nthe poiisonous\ntemptations of the snake";
     }
     } //end talk cedric
     
     else if (T.includes("snake")||T.includes("devil")||T.includes("serpent")){
     textVar = "Serpent:\nWill you stay here\nforever and eat \nthe fruit?";
     tempted = 1;
     }
     else{
     textVar = "To whom do you\nwish to talk?";
     }
     
     } //end talk
    
    else if(T.includes("no")){
    if(tempted == 1){
    textVar = "Serpent:\nThen I will take your life";
    }
    }
    
    else if((T.includes("get")||T.includes("pick")||T.includes("take")||T.includes("grab")) && T.includes("fruit")){
    textVar = "Graham gets a piece\nof the unripe magic fruit";
    textVar2 = "Graham saves a piece\nin case he needs\nit later";
    gotFruit = 1;
    }//end pickup fruit
    
     else if((T.includes("give")||T.includes("feed")||T.includes("tempt")) && T.includes("fruit")){
     if(tempted == 1){
    textVar = "Serpent:\nIf you insist\nI go first,\nvery well";
    textVar2 = "The Serpent's heart\ncannot handle the\nsweet fruit. It\nslithers away into\nthe dark swamp";
    textVar3 = "The serpent calls out,\n'I fell for the temptation.\nMorgash sent you\n didn't he?\nHe seized part of my\n'heart' already'";
    gotIngredient = 1;
    room = "swampdoor";
      changeToNewScreen("swampDoor.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
      speed = 0;
      yspeed = 0;
      }
    } //end give fruit
    
    else if(T.includes("grail")&& tempted == 1){
   textVar = "Serpent:\nForget it,\nit's not real";
   }
    
     else if(T.includes("jump")||T.includes("leap")||T.includes("climb")||T.includes("hop")||T.includes("get out")||T.includes("crawl")){
     
     if (myGamePiece.x < 61){
     myGamePiece.x = 64;
     myGamePiece.y = 181;
     } 
     else  if (myGamePiece.x < 92){
     myGamePiece.x = 96;
     myGamePiece.y = 175;
     } 
    else  if (myGamePiece.x < 122){
     myGamePiece.x = 132;
     myGamePiece.y = 181;
     } else  if (myGamePiece.x < 158){
     myGamePiece.x = 162;
     myGamePiece.y = 213;
     } 
     else  if (myGamePiece.x < 196){
     if(T.includes("climb")||T.includes("get out")||T.includes("crawl")){
     myGamePiece.x = 200;
     myGamePiece.y = 175;
     }
     } 
     
     } //end jump
    
      else if(T.includes("look")){
      
      if(myGamePiece.x > 290){
      textVar = "This is the \nheart-healing magic fruit.\nIt hasn't had time\nto completely ripen";
      textVar2 = "Cedric the Grey:\nI don't think Morgash\nwas after the fruit";
      textVar3 = "Cedric the Grey:\nHe was after\nsomething more sinister";
      room = "swampsnake";
      changeToNewScreen("swampsnake.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
      speed = 0;
      yspeed = 0;
      
      
      } else{
      textVar = "Graham's too far away to\nsee the fruit clearly";
      }
      
      if(T.includes("snake")){
      textVar = "A wily serpent";
      }
      
      
      } //end look
    
    
    else if(T.includes("eat")){
    if(myGamePiece.x > 290){
   textVar = "Graham eats a piece\nof unripe fruit\nand saves some for\nCedric. He feels his\nheart fortified";
    } 
    else{
    textVar = "Graham's not close enough\nto eat the unripe fruit";
    }
    
    } //end eat
    
    
    } //end swamp
   
   
   
   else if (room == "church1"){
   
   if(T.includes("look")){
   textVar = "The church bell is\nsilent in the\nsolemn night";
   textVar = "The Monastery of\nthe Blessed Wilbury\nglows with dim light.\nThe monks here often\noffer respite to\nweary travelers";
   }//end look
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   textVar = "Cedric the Grey:\nI wonder what Morgash\nwas doing here";
   
   }//end talk
   }
   
    else if (room == "church2" || room == "church2door"){
   
   if(T.includes("look")){
   textVar = "The church seems to\nbe open despite\nthe late hour";
   }//end look
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   textVar = "Cedric the Grey:\nI wonder what Morgash\nwas doing here";
   
   }//end talk
   
   else if (T.includes("open")||T.includes("unlock")||T.includes("enter")||T.includes("knock")){
   
   if(myGamePiece.x > 255 && myGamePiece.x < 296){
    room = "church3";
      changeToNewScreen("church3.png", "transparent.png", "goingUp",274,196);
      speed = 0;
      yspeed = 0;
      myGamePiece.image.src = walkback[walkiter];
   } else{
   textVar = "Graham needs to be\ncloser to the church door";
   }
   
   }//end open
   
   } //end church2
   
    else if (room == "church3"){
   
   if(T.includes("look")){
   textVar = "A vampire is kneeling\nat the front of\nthe sanctuary,\nhis hands clasped\nin prayer";
   }//end look
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
    if(madeElixir == 0){
   textVar = "Vampire:\nDon't be alarmed.\nI'm here as penance\nfor the sorrows I've inflicted\non the Lord's children.\nI'm seeking forgiveness\nfor my trespasses";
   textVar2 = "Vampire:\nI sought eternal life,\nbut at the cost of\nlife's value, and didn't\ncare who I hurt\nalong the way";
   textVar3 = "Vampire: I know where\nthe Holy Grail resides.\nI wouldn't tell Morgash.\nPerhaps that will make amends.\nI will tell you after\nyou have created the\nelixir of life";
 }else{
 textVar = "Vampire:\nYou are a worthy\nknight in this quest.\nThe location of the\nHoly Grail was entrusted\nto me by an\nelderly Monk";
 textVar2 = "Vampire:\nYou won't find the\nlocation labelled on any\nmap...";
 textVar3 = "The Holy Grail is in\nthe 'Frozen North'";
 
 }
 
 
   gotIngredient = 1;
   
   }//end talk
   
     else if(T.includes("pray")){
     textVar = "Graham says a quiet\nprayer";
     }
   
    else if(T.includes("kill")){
    textVar = "Anyone who would \nkill a man in prayer\ndoesn't deserve to play\n this game. Therefore,\nI will end it. ";
    room = "trapped";
    swimming = 1;
    walking = 0;
    myGamePiece.image.src = swimArray[2];
    changeToNewScreen("undermoat4.png", "transparent.png", "goingDown",myGamePiece.x,20);
    speed = 0;
    yspeed = 0;
    }
   
   }//end church3
   
   
    else if (room == "daventry"){
      if(T.includes("look")){
   
    if(T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric sits atop the\nedge of the well\nkeeping a lookout";
    } 
    else if(T.includes("tree")||T.includes("dragon")||T.includes("feet")||T.includes("leg")){
    textVar = "Baby Dragon:\nMee grandpa always sez\nme about your kind man\nin sparing hez life.\nHe tell me few\nother secrets eez well";
    textVar2 = "Baby Dragon:\nIf yee can respond\nthis, I'll tell about\na wizard that fall in\nthe well";
    textVar3 = "Baby Dragon\nWhat is this say\nif held in mirror:\n(the baby dragon\nexhales smoke words)\n'3VOMOT3MIT'";
    
    }
    else if(T.includes("bottle")){
    textVar = "The label on the\nold bottle has rotted\naway";
    
    }
    
    else{
      textVar = "The bottom of the\nold spring well.\nIt was abandoned\nyears ago.\nIt has found new life\n as a place for\nwishes to come true";
       textVar2 = "An intrepid tree has\ngrown up through\nthe narrow well";
      textVar3 = "There appears to be\na baby dragon lounging\nin the tree,\nand an old bottle\nlaying on the ground";
    }
    
   }//end look
   
      else if ((T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick"))&& T.includes("gold") || T.includes("treasure")|| T.includes("doubloons")|| T.includes("coins")|| T.includes("wish")|| T.includes("booty")|| T.includes("money")){
      textVar = "Graham picks up a\nfew gold coins.\nCedric will donate them\nto a dragon orphanage\nto make their\nwishes come true";
      } //end get
   
    else if(T.includes("time")&&T.includes("to")&&T.includes("move")){
    textVar = "Baby Dragon:\nEez what me grandpa\nthink when all these\nwizards and knights moving in";
    textVar2 = "Baby Dragon:\nThe wizard been\na hard drink.\nHe climb down here after\nhe bottle of\n'Tamir Wine'";
    gotIngredient = 1;
    changeToNewScreen("daventrydoor.png", "daventryForeground.png", "goingLeft",myGamePiece.x,myGamePiece.y);
      speed = 0;
      yspeed = 0;
    }
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
    if(T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric the Grey:\nMorgash has been\nin this well";
    }
     else if(T.includes("dragon")){
   textVar = "Baby Dragon:\nMee grandpa always sez\nme about your kind man\nin sparing hez life.\nHe tell me few\nother secrets eez well";
    textVar2 = "Baby Dragon:\nIf yee can respond\nthis, I'll tell about\na wizard that fall in\nthe well";
    textVar3 = "Baby Dragon\nWhat is this say\nif held in mirror:\n(the baby dragon\nexhales smoke words)\n'3VOMOT3MIT'";
    
    }
    
    } //end talk
    else if(T.includes("grail")){
   textVar = "Baby Dragon:\nMee don't know,\nsounds amaazing";
   }
    
    
    } //end daventry
   
   
   
   
    else if (room == "dolphin"){
      if(T.includes("look")){
   textVar = "A dolphin husband and\nwife float gently\nunder a star filled\nnight, as salty\nbreezes blow";
   
    if(T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric the Grey is\ncomfortably swimming\nunderwater, keeping\nan eye on threats\nfrom below";
    }
   }//end look
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
    if(myGamePiece.x < 300){
    if(T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric the Grey:\n(underwater)\nBlub blub...\nMorgash has\nsailed these seas";
    }
    
    else if(T.includes("dolphin")||T.includes("man")||T.includes("porpoise")||T.includes("husband")){
    textVar = "Dolphin:\nWho do you want\nto know about?";
    } 
    
     else if(T.includes("wife")||T.includes("girl")||T.includes("woman")){
    textVar = "Dolphin:\nWho exactly are\nyou inquiring about?";
    } 
    
    else if(T.includes("grail")){
   textVar = "Dolphin:\nWe wouldn't know.\nKing Neptune may know\nabout the happenings\nin these seas";
   }
    
     else if(T.includes("morgash")||T.includes("wizard")||T.includes("evil")){
    textVar = "Dolphin:\nI have seen him.\nI'll tell you if\nyou are dedicated enough\nto answer a riddle";
     textVar2 = "'Does not grow on land,\ndoes not grow in\nthe sun,\nit only grows when eaten.\nIt does not wear,\nbut is worn.'\nWhat is it?";
    }
    else{
    textVar = "To whom does Graham\nwish to speak?";
    }
    
    }else{
    textVar = "Graham needs to be\ncloser to the dolphins";
    }
    
    } //end talk
    
     else if(T.includes("morgash")||T.includes("wizard")||T.includes("evil")||T.includes("wife")){
     textVar = "Dolphin:\nI have seen him.\nI'll tell you if\nyou are dedicated enough\nto answer a riddle";
     textVar2 = "'Does not grow on land,\ndoes not grow in\nthe sun,\nit only grows when eaten.\nIt does not wear,\nbut is worn.'\nWhat is it?";
     } //end morgash
    
    else if(T.includes("pearl")){
    gotIngredient = 1;
    textVar = "Dolphin:\nYou are a friend\nto the sea.\nI saw the evil\nwizard diving and gathering\n'sea snails'";
    changeToNewScreen("dolphindoor.png", "dolphinForeground.png", "goingRight",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    }
    
    } //end dolphin
   
   else if (room == "sereniadesert"){
    if(T.includes("look")){
      
      if(T.includes("cedric")||T.includes("owl")){
  textVar = "Graham sees Cedric atop\nthe temple,\nkeeping an eye out\nfor any roving bands\nof desert thieves";
  } else if (T.includes("door")){
  textVar = "The vast door is sealed,\nand there is no magic\nstaff around";
    } else{
   textVar = "The temple of Arabian\ntreasures stands in the\ndry sands of Serenia";
    textVar2 = "The doorway is sealed\nby powerful magic";
     textVar3 = "Graham tries to remember\nthe password of\nAlibaba's forty thieves";
    }
    
   }//end look
   
     else if(T.includes("knock")){
     textVar = "No one answers\nGraham's knock";
     }
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
    textVar = "Cedric the Grey:\nJust say 'Open Sesame!'\nI'll take care\nof the rest";
    } //end talk
   
   else if(T.includes("seseme")){
    textVar = "Cedric the Grey:\nIt's 'sesame'\nwith an A";
    
    } //end open
   
    else if(T.includes("open")&&T.includes("sesame")){
    textVar = "Cedric the Grey:\nAlibabous Thievous!";
    room = "sereniadesertopen";
      changeToNewScreen("sereniadesertopen.png", "transparent.png", "goingUp",myGamePiece.x,myGamePiece.y);
      speed = 0;
      yspeed = 0;
    } //end open
   
   } //end sereniadesert
   
    else if (room == "sereniadesertopen"){
    if(T.includes("look")){
      
      if(T.includes("cedric")||T.includes("owl")){
  textVar = "Graham never ceases\nto be impressed\nby Cedric's wonders";
  } else if (T.includes("door")){
  textVar = "The door to mountains\nof gold treasures\nhas opened";
    } else{
    textVar = "The temple of Arabian\ntreasures stands in the\ndry sands of Serenia";
    }
    
   }//end look
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
    textVar = "Cedric the Grey:\nGood thinking";
    } //end talk
   
   
   } //end sereniadesertopen
   
    else if (room == "sereniadesertlamp"){
    
    if(T.includes("cedric")||T.includes("owl")||T.includes("help")){
    changeToNewScreen("sereniadesertlampcedric.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
      speed = 0;
      yspeed = 0;
   textVar = "Cedric the Grey:\nYou Wish!\nGenie:\nCedric the Grey!\nForgive me, Sire.\nI didn't know any better";
   textVar2 = "Genie:\nMorgash has been here,\ngathering 'magic lamp oil.'\nCan you forgive me, Cedric?\nGrant me that wish?";
   textVar3 = "Cedric the Grey:\nI forgive you so\nthat you may learn.\nWhen you're ready\nto leave, Graham,\ntell the Genie you wish to be free";
    } //end cedric
    
    
    else if(T.includes("look")){
      
      if (T.includes("genie")){
  textVar = "The genie wears\nancient garb, a\nbright white turban,\nand floats on a\nbody of smoke";
  } else   if (T.includes("lamp")){
  textVar = "The lamp interior\nis small\nand affords no comfort";
    } else{
    textVar = "A terrible Genie\nwielding tremendous\npowers hovers\nbefore Graham";
    }
    
   }//end look
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
    textVar = "Genie:\nThere is NO ONE\nto help you now!";
    } //end talk
   
    
   
   
   else if(T.includes("wish")&&T.includes("free")){
 room = "manannanmap";
changeToNewScreen("manannanmap.png", "manannanForegroundMap.png", "goingUp",173,141);

speed = 0;
yspeed = 0;
gotIngredient = 0;
textVar = "The magic distortions\nof the genie\nhurt Graham's old bones";
textVar2 = "Cedric the Grey:\nKeep going, Graham";  
   }
   
   
   } //end sereniadesertlamp
   
    else if (room == "sereniadesert2"){
  
  
    if(T.includes("look")){
      
      if(T.includes("cedric")||T.includes("owl")){
  textVar = "Cedric is unperturbed by\nthe sealed door";
  } else if (T.includes("lamp")){
  textVar = "The golden lamp\nhas an alluring glow";
    } 
    
     else if(T.includes("grail")){
    textVar = "The penitant cup\nof Iejova\ndoesn't appear to be\nin this temple of doom";
    }
    
    else{
    textVar = "The massive door has\nsealed shut behind Graham";
    textVar2 = "Glorious treasures are\nstacked in the temple.\nPiles of diamonds, rubies\nemeralds and sapphires,\ncurrency from every\ncorner of the world";
    textVar3 = "A golden lamp sits\non the floor\napart from the\nother treasures";
    }
   }//end look
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
    textVar = "Cedric the Grey:\nMorgash has wandered\nthis temple";
    }
    
     else if(T.includes("wink")){
    textVar = "Graham doesn't have\ntime for practicing\ntiddlywinks";
    }
   
     else if(T.includes("grail")){
    textVar = "The penitant cup\nof Iejova\ndoesn't appear to be\nin this temple of doom";
    }
   
   else if(T.includes("get")||T.includes("pick")||T.includes("rub")||T.includes("grab")||T.includes("clean")){
    if(T.includes("lamp")){
    
    if(myGamePiece.x > 408){
     room = "sereniadesertlamp";
      changeToNewScreen("sereniadesertlamp.png", "transparent.png", "goingRight",194,194);
      speed = 0;
      yspeed = 0;
      textVar = "Genie:\nHa!";
      textVar2 = "Genie:\nYou used your\nthree wishes\nall those decades ago\non Kolyma!";
      textVar3 = "Genie:\nYou are condemned to\nlive in the lamp\nFOREVER!";
      
    }else {
    textVar = "Graham needs to be\ncloser to the lamp";
    }
    } else{
    textVar = "Graham picks up\nsome jewels off\nthe floor.\nCedric will donate them\nto a thief recovery\nprogram";
    }
    
    } //get
   
   }//end sereniadesert2 temple
   
   else if (room == "daventrytown"){
    if(T.includes("look")){
      
      if(T.includes("cedric")||T.includes("owl")){
  textVar = "Cedric seems comfortable\nin the town.\nThe dog seems\nfascinated by him";
  } else if (T.includes("dog")){
  textVar = "The dogs in town\nare always mesmerized by\nCedric's ability to\ncreate treats";
    } else{
    textVar = "The streets are quiet\nthis time of day\nin the usually bustling\nshopping avenue of Daventry";
    textVar2 = "The toy shop appears\nto be open";
    }
    
   }//end look
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
    textVar = "Cedric the Grey:\nThese dogs never\nget tired of me\nmanifesting treats for them.\nGood boy!";
    } //end talk
   
    else if(T.includes("open")||T.includes("knock")||T.includes("unlock")||T.includes("enter")||T.includes("go in")){
    if(myGamePiece.x > 156 && myGamePiece.x < 236){
     room = "daventrystore";
      changeToNewScreen("daventrystore.png", "transparent.png", "goingUp",274,196);
      speed = 0;
      yspeed = 0;
    textVar = "Shopkeeper:\nWelcome! Are you...\nNevermind";
    }else{
    textVar = "Graham needs to be\ncloser to the shop door";
    }
    
    } //end open
   
   }//end daventrytown
   
      else if (room == "daventrystore"){
    if(T.includes("look")){
   textVar = "The children of Daventry\nlove playing 'King's Quest'\nwith their favorite\nmembers of the royal\nfamily";
   }//end look
   
   else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   textVar="Shopkeeper:\nHow are you\nat random trivia?";
    textVar2="Shopkeeper:\nThere are a couple of\nToymakers in town.\nThe husband's name is\n'Ken Williams.'\nWhat is the wife's name?";
   } //end talk
   
    else if(T.includes("roberta")){
   textVar = "Shopkeeper:\nThat's right!\nWhich of our toys\ndo you want to know\nmore about?";
   gotIngredient = 1;
   } //end Roberta
   
   else if (gotIngredient == 1){
   if(T.includes("graham")||T.includes("king")){
   textVar = "Shopkeeper:\nThere is no one\nwiser and kinder than\nKing Graham.\nOther kings are all about\nwar and violence,\nbut not our Graham";
   textVar2 = "Shopkeeper:\nI've met him several times.\nThe most humble\nman you will\never meet";
   textVar3 = "Shopkeeper:\nKing Graham is definitely\nour best seller";
   } else if(T.includes("valanice")||T.includes("queen")){
   textVar = "Shopkeeper:\nValanice is so elegant\nand intelligent. All the\ngirls in Daventry love\nto play with her doll";
   }
   else if(T.includes("rosella")){
   textVar = "Shopkeeper:\nRosella sets the best\nfashion in Daventry. All\nthe girls love her\nbeautiful long dresses and\nwonderful hair";
   textVar2 = "Shopkeeper:\nAll the children enjoy\nreliving her dangerous\nadventures. What a\nrole model";
   }
   else if(T.includes("alexander")||T.includes("gwydion")){
   textVar = "Shopkeeper:\nThe children love\nto act out the tale of\nthe boy Wizard who lived"
   textVar2 = "Shopkeeper: Raised in a\nmean adoptive household,\nonly learned of his magic\nabilities as a young man,\nstudied to be a Wizard,\nand went on to\ndefeat the evil Wizard\nthat took him\nfrom his parents";
   textVar3 = "Shopkeeper:\nThere's truly no one\nlike Prince Alexander";
   }
   else if(T.includes("minotaur")){
   textVar = "Shopkeeper:\nChildren love to\nbuild mazes of blocks\nfor the minotaur\nto tromp around in";
   }
    else if(T.includes("cassima")){
   textVar = "Shopkeeper:\nThe Cassima doll\nwill sing\n'girl in the tower'";
   }
     else if(T.includes("snake")){
   textVar = "Shopkeeper:\nDon't worry,\nit's non-toxic\nfor children";
   }
    else if(T.includes("unicorn")){
   textVar = "Shopkeeper:\nChildren love\nthe rocking Unicorn";
   }
      else if(T.includes("dragon")){
   textVar = "Shopkeeper:\nBoys love to play\nGraham, and steal\nmirrors from their sisters";
   }
   else if(T.includes("lolot")){
   textVar = "Shopkeeper:\nLolotte was very independent.\nNever cared much for\nsettling down or children,\nexcept to eat them";
   textVar2 = "Shopkeeper:\nCupid's arrow\nnot included";
   }
   else if(T.includes("grail")){
   textVar = "Shopkeeper:\nWe don't sell anything\nlike that.\nAre you sure it\nexists?";
   }
   
     else if(T.includes("cedric")){
   textVar = "Shopkeeper:\nI've heard stories about\nthat owl you wouldn't\nbelieve";  
   textVar2 = "Shopkeeper:\nI heard he flies\nfaster than light,\nthat he creates a star\nevery time he flaps\nhis wings,\nthat he once held\nall the water at\nthe edge of the Earth";
   textVar3 = "Shopkeeper:\nHe seems to get stronger\nevery time we see him.\nHe and Crispin were\nquite the pair of\nWizards. We have a\nCrispin figure too, actually";
   }
   else if(T.includes("crispin")){
   textVar = "Shopkeeper:\nCedric and Crispin come\nas a set together.\nWe all miss Crispin\naround here";
   textVar2 = "Shopkeeper: Once he\nand Cedric chased away\na Wizard that was\nplucking 'Daventry Dog hair'\nfrom the puppies outside";
   room = "daventrystoredoor";
   changeToNewScreen("daventrystoredoor.png", "transparent.png", "goingUp",myGamePiece.x,myGamePiece.y);
      speed = 0;
      yspeed = 0;
   }
   
   }//end questions on toys
   
   } //end daventrystore
   
   
   else if (room == "tanalore"){
    if(T.includes("look")){
      
      if(T.includes("cedric")||T.includes("owl")){
  textVar = "Cedric seems friendly with\nthe bee kingdom";
    } 
    else if(T.includes("bee")||T.includes("hive")||T.includes("queen")||T.includes("swarm")){
    textVar = "A queen bee is \noff her throne\nflying around";
    }
    else if(T.includes("honeycomb")||T.includes("honey comb")){
    textVar = "The honeycomb oozes\nwith thick golden\nnourishing honey";
    }
    else {
   textVar = "It's a hot day on\nthe desert border of\nTanalore.  The steep\nmountains block any cooling\nsea breezes";
   textVar2 = "A swarm of lively\nbees buzzes merrily\naround the hive";
   }
    
   }//end look
   
   else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
     
     if(T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric the Grey:\nMorgash has hiked\nthrough here";
    }
    else if(T.includes("bee")||T.includes("queen")){
   textVar = "Queen Bee:\nOut for some fresh air\nlike me, your Highness?\nI know what you're\nlooking for. If you\nare spry enough to\nanswer me I'll tell, sugar";
   textVar2 = "Queen Bee:\nHave you flown\nfar from home?\nWhat is the name\nof the rose at\n the 'Edge of the World?'";
   textVar3 = "Queen Bee:\nMy soldiers are too\nafraid to fly\nthat far";
   } else{
   textVar = "To whom does Graham\nwish to speak?";
   }
   }//end talk
   
   else if(T.includes("grail")){
   textVar = "Queen Bee:\nWe haven't ever seen\nanything that sweet.\nSounds too good to\nbe true, sugar";
   }
   
    else if(T.includes("copernicus")){
    textVar = "Queen Bee:\nOh, that sounds so\nsweet.  I'll tell you\nsomething sweet too.\nA grumpy old Wizard\ncame through here and\nstole 'Royal Jelly' from me";
    textVar2 = "Queen Bee:\nGracious me, where are\nmy manners.  Here's a\nHoneycomb you can have,\nas sweet as you, sugar";
    gotHoney = 1;
    }
   
    else if(T.includes("eat")&&T.includes("honey")){
    if(gotHoney==1){
    textVar = "Graham tastes the honey,\nnectar of the bees,\nand feels refreshed";
    textVar2 = "Cedric the Grey:\nSave a morsel in case\nwe need it later";
    }
   }
   
   }//end tanalore
   
   
    else if (room == "dangerouscurrents"){
      if(T.includes("look")){
      
      if(T.includes("cedric")||T.includes("owl")){
  textVar = "Cedric the Grey \ncoasts undisturbed on the\nfierce gale winds,\nas he looks out\nfor danger";
    } else {
   textVar = "The winds punch at\nthe waters.\nA wayward balloonist\ngnome has been\nswept into the tempest";
   }
    
   }//end look
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
     
     if(T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric the Grey:\nMorgash has not\nsuffered these winds";
    }
    else if(T.includes("morgash")||T.includes("wizard")){
   textVar = "Gnome:\n(shouting)\nIn my travels\nI heard the dark\nwizard traveled to\nthe island of\nKolyma looking for\nthe Holy Grail!";
   }
    
    else   if(T.includes("gnome")||T.includes("balloon")||T.includes("man")){
    textVar = "Gnome:\n(shouting)\nWho are ye looking for?";
    }
    else{
    textVar = "To whom does Graham\nwish to speak?";
    }
    
    
    } //end talk
   
   else if(T.includes("morgash")||T.includes("wizard")){
   textVar = "Gnome:\n(shouting)\nIn me travels\nI heard tha dark\nwizard traveled to\ntha island of\nKolyma looking for\ntha Holy Grail!";
   }
   
   } //end dangerouscurrents
   
   
     else if (room == "llewdor"){
      if(T.includes("look")){
      
      if(T.includes("cedric")||T.includes("owl")){
  textVar = "Cedric the Grey\nseems uneasy\naround the house of\ndark magic";
    } else {
    textVar = "It's a pleasant day\nabove the basement.\nWinds sweep\nacross the mountaintop";
   textVar2 = "The house of Gwydion.\nThe wizard Crispin wanted\nthe house leveled, but\nin the back of his\nmind Graham thought there\nmay be some use\nfor it someday";
   }
   }//end look
   
    else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){

    if(T.includes("cedric")||T.includes("owl")){
   textVar = "Cedric the Grey:\nI prefer the view\nfrom up here";
   } else if(myGamePiece.x < 148){
   textVar = "Voice from door:\nGrrr, who are you\nlooking for?";
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
   
   } //end talk
   
    else if(T.includes("unlock")||(T.includes("lock")&&T.includes("pic"))){
    if(gotLockpick == 1){
    if(myGamePiece.x < 148){
   changeToNewScreen("llewdorbeardoor.png", "llewdorForeground.png", "goingUp",myGamePiece.x,myGamePiece.y);
   speed = 0;
   yspeed = 0;
    textVar = "Papa Bear:\nIt's too drafty\nin this house!";
   textVar2 = "Mama Bear:\nIt's not windy\nenough in here!";
   textVar3 = "Little Bear:\nFeels just right\nto me";
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
    }
    }//end lockpick
   
    else if(T.includes("open")||T.includes("knock")||T.includes("unlock")||T.includes("enter")||T.includes("go in")){
    if(myGamePiece.x < 148){
   textVar = "Voice from door:\nGrrr, who are you\nlooking for?";
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
    
    } //end open
   
   else if(T.includes("hair")&&T.includes("pin")){
    if(myGamePiece.x < 148){
    textVar = "The hairpin only works\non the magic door";
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
    }//end hairpin
    
     else if(T.includes("pic")&&T.includes("ax")){
    if(myGamePiece.x < 148){
    textVar = "The pickaxe only works\non the magic door";
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
    }//end hairpin
   
    else if(T.includes("morgash")||T.includes("manannan")||T.includes("wizard")){
    textVar = "Voice from door:\nWe've found some strange\nthings around here";
    textVar2 = "Tell you what.\nOur stomachs are grrrowling.\nWe can't bear it.\nBring us some dinner\nand I'll tell you\nwhat I know";
    textVar3 = "And no cookies!";
   
   } //end morgash
   
     else if(T.includes("honey")){
     if(gotHoney == 1){
     if(myGamePiece.x < 148){
   textVar = "Voice from door: Hey paw!\nThat looks just right";
   textVar2 = "Voice from door:\nHoney will do just fine.\nYou can leave it\nat the door.\nWe found receipts, the previous\nresident was selling\n'cat hair'";
   gotHoney = 0;
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
     } else{
     textVar = "I don't have\nany honey";
     }
     } //end honey
   
    else if(T.includes("fruit")){
     if(gotFruit == 1){
     if(myGamePiece.x < 148){
   textVar = "Voice from door: Hey paw!\nThat looks just right.\n";
   textVar2 = "Voice from door:\nFruit will do just fine.\nYou can leave it\nat the door.\nWe found receipts, the previous\nresident was selling\n'cat hair'";
   gotFruit = 0;
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
     } else{
     textVar = "I don't have\nany fruit";
     }
     } //end fruit
   
    else if(T.includes("ham")){
     if(gotHam == 1){
     if(myGamePiece.x < 148){
   textVar = "Voice from door: Hey paw!\nThat looks just right.\n";
   textVar2 = "Voice from door:\nHam will do just fine.\nYou can leave it\nat the door.\nWe found receipts, the previous\nresident was selling\n'cat hair'";
   gotHam = 0;
   } else{
   textVar = "Graham needs to be\ncloser to the door";
   }
     } else{
     textVar = "I don't have\nany ham";
     }
     } //end ham
   
   else if(T.includes("grail")){
   textVar = "Voice from door:\nNone of our\nbusiness. Sounds too\ngood to be true";
   }
   
   }//end llewdor
   
   
   
    else if (room == "edgeoftheworld"){
      if(T.includes("look")||T.includes("get")||T.includes("take")){
      
      if(T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric the Grey\nis none too disturbed\nby being on the edge\nof the known world";
    
    }else if (T.includes("flower")||T.includes("plant")||T.includes("rose")){
   
    room = "edgeoftheworlddry";
    
    
     
     
     createObstacles();
      speed = 0;
      yspeed = 0;
    gotIngredient = 1;
   // foregroundItems();
     textVar = "Graham recognizes the species,\nit's a 'Copernicus Rose'";
    textVar2 = "Morgash traveled all the\nway out here\nfor the Copernicus Rose";
    textVar3 = "Cedric the Grey:\nI'll take care of\nthis water, no problem";
    
    } else {
   if(gotIngredient == 0){ 
  textVar = "The cataclysmic edge\nof the world pours\naround Graham.\nHe finds standing on\nthe precipice peaceful\nin a way";
  textVar2 = "A red and purple flower\nis growing on the\nprecarious ledge";
   }
   }
    
   }//end look
   else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   textVar = "Cedric the Grey:\nIt's amazing,\nisn't it";
   }
   
   }//end edgeoftheworld
   
   else if (room == "portbruce"){
   
      if(T.includes("look")){
      
      if(T.includes("cedric")||T.includes("owl")){
    textVar = "Cedric the Grey keeps\na vigilant lookout";
    } 
    
    else if(T.includes("tavern")){
    textVar = "Closed: Sold out";
    }
     else if(T.includes("store")){
    textVar = "The general store appears\nto be open";
    }
    
    else {
   textVar = "The seaside shanty\ntown of Port Bruce\nhas few amenities";
   textVar2 = "There is a lone store,\nand a tavern frequented\nby thirsty sailors";
   }
   }//end look
   
   else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   if(gotIngredient != 2){
   textVar = "Cedric the Grey:\nNot many sailors around\ntoday.  Morgash has\ndocked here";
   }else if (gotIngredient == 2){
   textVar = "Barmaid:\nWe're sold out\nof ale, old man";
   textVar2 = "Barmaid:\nI heard rumor of\nan island called\n'I love spirits,'\n or something like that.\nMaybe I should\nport there";
   }
   
   } //end talk
   
    else if (T.includes("open")||T.includes("knock")||T.includes("enter")||T.includes("knock")){
     if(myGamePiece.x < 309){
     gotIngredient = 0;
     room = "portbrucestore";
      changeToNewScreen("portbrucestore.png", "portbrucestoreForeground.png", "goingLeft",368,158);
      speed = 0;
      yspeed = 0;
     } else{
     textVar = "The door is locked.\nThe Tavern sign reads\n'Sold out'";
     }
     
     }//end open
   
    else if (T.includes("unlock")||(T.includes("lock")&&T.includes("pic"))){
   if(gotLockpick == 1){
    changeToNewScreen("portbruceunlocked.png", "transparent.png", "goingLeft",myGamePiece.x,myGamePiece.y);
    speed = 0;
    yspeed = 0;
    
   gotIngredient = 2;
  
   }
   }
   
   } //end portbruce
   
    else if (room == "portbrucedock"){
     if(T.includes("look")){
     textVar = "Soft winds blow through\nGraham's white hair.\nThe horizon looks infinite,\nthough Graham feels he\ncan almost see\nSerenia from here";
     }//end look
   
     else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   textVar = "Cedric the Grey:\nBeautiful view from here.\nWe're going to discover\nall the ingredients,\nI can feel it";
   } //end talk
    
 
    }//end portbruce dock
   
     else if (room == "portbrucestore"){
     if(T.includes("look")){
     textVar = "The shopkeeper appears\nto be a hard-working\nand kindly man.\nGraham is impressed, considering\nthe ruffians he serves";
     textVar2 = "An elderly grey dog\nsleeps on the floor";
     }//end look
   
     else if(T.includes("talk")||T.includes("hello")||T.includes("speak")||T.includes("ask")){
   textVar = "Shopkeeper: Don't mind\nthe guard dog.\nI'll answer any question\nyou need, chap, but\nhelp me with this problem:\nThere are 3 stores around\nhere, call them A, B, and C.\nEach store sells 4 items";
   textVar2 = "Each item is sold in\nat least one store:\nFood, clothes, furniture, art,\nfish gear, spectacles, and\nlivestock. Store C sell 3\nof the same items as A.\nArt is only at A,\nand spectacles are only at C.\nStore A sells food";
   textVar3="What four items\nare sold at store B?";
   } //end talk
 
 else if(T.includes("fish")&&T.includes("livestock")&&T.includes("cloth")&&T.includes("furniture")){
 textVar = "Shopkeeper:\nSay, you're\nright. Good work.\nYeah, I remember a wizard,\nnot Manannan though.\nHe bought up all\nour local 'Cave Water'";
 gotIngredient = 1;
 changeToNewScreen("portbrucestoredoor.png", "portbrucestoreForeground.png", "goingRight",myGamePiece.x,myGamePiece.y);
 speed = 0;
 yspeed = 0;
 }
 
  else if(T.includes("grail")&& gotIngredient == 1){
   textVar = "Shopkeeper:\nI didn't think\nthat was real";
   }
 
    }//end portbruce store
   
   
   
   
//////////////
  else if (room == "undermoat1"){
  if (T.includes("talk")||T.includes("hello")||T.includes("speak")){
  textVar = "Mermaid:\nEnjoy your stay,\nyour majesty";
  
  } //end talk
  else if (T.includes("look")){
  textVar = "Families of mermaids\ndrift lackadaisically\nin the moat";
  
  
  } //end look
  
  
  } //end moat1
  
   else if (room == "undermoat2"){
   if ((T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick"))&& T.includes("gold") || T.includes("treasure")|| T.includes("doubloons")|| T.includes("coins")|| T.includes("chest")|| T.includes("booty")|| T.includes("money")){
   textVar = "Graham puts some treasure\nin his pockets\nand it helps him sink\nfarther";
  room = "undermoat3";
    changeToNewScreen("undermoat3.png", "transparent.png", "goingDown",myGamePiece.x,15);
    speed = 0;
    yspeed = 0;
  } //end pick up money
  
  else if (T.includes("talk")||T.includes("hello")){
  textVar = "Octopus:\n...";
  } //end talk
  else if (T.includes("look")){
  
  if (T.includes("octopus")){
  textVar = "The octopus\navariciously rests\non its treasures";
  } else{
  textVar = "Wonderous treasures\nhave accumulated over\nthe centuries";
  }
  } //end look
  
  } //end moat2 treasures
  
  else if (room == "undermoat3"){
  if (T.includes("look")){
  textVar = "The light from above\ngrows dimmer.\nThis gravewater\nis quiet";
  } //end look
  
  if ((T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")|| T.includes("pick"))&& T.includes("gold") || T.includes("treasure")|| T.includes("doubloons")|| T.includes("coins")|| T.includes("chest")|| T.includes("booty")|| T.includes("money")){
  textVar = "Graham finds some\ngrime covered coins.\nHe will donate\nthem to a mermaid\norphanage";
  } //end treasure
  
  }
  
   else if (room == "undermoat4"){
    if (T.includes("talk")||T.includes("hello") || T.includes("speak") || T.includes("ask") || T.includes("say")){
    
    if (T.includes("yes") || T.includes("yeah") || T.includes("sure") || T.includes("i am")){
      room = "journal";
    changeToNewScreen("journal.png", "transparent.png", "goingLeft",499,130);
    speed = 0;
    yspeed = 0;
    swimming = 0;
    walking = 1;
    myGamePiece.image.src = walkleft[2];
     textVar = "Behemoth:\nYou better be";
     }
    else {
    textVar = "Behemoth:\nYou are looking for the\ngrotto... \nBecause you are\nsearching for eternal life.\nHa ha ha.\nYou are the wisest\nking so far";
    textVar2 = "Behemoth:\nI will allow you to\nthe grotto if you\nanswer this one question:";
    textVar3 = "Behemoth:\nAre you a knight of\ngood faith and\ntrue heart?";
    }
    }
    
     else if (T.includes("yes") || T.includes("yeah") || T.includes("i am")){
      room = "journal";
    changeToNewScreen("journal.png", "transparent.png", "goingLeft",499,130);
    speed = 0;
    yspeed = 0;
    swimming = 0;
    walking = 1;
    myGamePiece.image.src = walkleft[2];
     textVar = "Behemoth:\nYou better be";
     }
   
    else if (T.includes("look")){
  textVar = "A behemoth";
  } //end look
   
   } //end undermoat4
  
   else if (room == "journal"){
    if (T.includes("look")){
    textVar = "The walls expand and\ncontract rhythmically";
    }
    
   }
  
  
  else if (room == "journal2"){
   if (T.includes("talk")||T.includes("hello") || T.includes("speak") || T.includes("ask") || T.includes("say")){
  
  if(heardStory == 0){ 
   textVar = "Cedric the Grey:\nI'm beginning to regret putting\nmyself in that cage.\nI must tell you\nsomething before you\nopen that oyster.\nTake hold of my foot";
  } else if (gotJournal == 1){
  
  if (readthejournal == 1){
  textVar = "Cedric the Grey:\nYou read the journal page.\nEternal life, Graham.\nIt's real.\nOff to that dreaded\nlab again.\nSpeak the incantation:\n'Abovous'";
  } else{
  textVar = "Cedric the Grey:\n Go on,\nyou might as well read it";
  }
  
  }
  
  } //end talk
  
   else if (T.includes("abovous")){
   if(gotJournal == 1 && readthejournal == 1){
   room = "castleFront";
    changeToNewScreen("castleFront.png", "transparent.png", "goingRight",222,180);
    speed = 0;
    yspeed = 0;
    textVar = "Cedric the Grey:\nWe've come a long\nway, sire.  To return\nto this moment before\nthe climb, speak the\nincantation 'Load journal'";
   }
   }
  
  else if (T.includes("foot") || T.includes("grab") || T.includes("hold")|| T.includes("take hold")){
  if(heardStory == 0){
  if (myGamePiece.x < 100){
  scrolling = 1;
  foregroundItems();
  }else{
   textVar = "Graham isn't close enough\nto grab Cedric's foot";
  }
  }
  }
  
  else if (T.includes("look")){
   if(heardStory == 0){ 
  textVar = "There is a large\noyster in the center\nof the room.  But first,\nCedric seems to want\nto say something";
   } 
   else if(T.includes("journal")){
   readingJournal = 1;
    readthejournal = 1;
   foregroundItems();
   }
   
   
   else {
  textVar = "An oyster shell sits\nin the center of the grotto";
  
  }
  } //end look
  
   else if (T.includes("pick up") || T.includes("get") || T.includes("grab") || T.includes("take") || T.includes("pickup")){
  
  if(T.includes("oyster")){
  textVar = "The oyster is too big\nto pick up";
  }
  } //end pickup
  
   else if (T.includes("read")){
   
   if (heardStory == 1){
    readingJournal = 1;
    readthejournal = 1;
   foregroundItems();
   }
   
   } //end read
  
  
   else if (T.includes("open")){
    if (heardStory == 1 && gotJournal == 0){
   if(myGamePiece.x > 236 && myGamePiece.x < 296 && myGamePiece.y < 153){ 
     changeToNewScreen("journal2open.png", "journal2Foreground.png", "goingUp",myGamePiece.x,myGamePiece.y);
     speed = 0;
     yspeed = 0;
   textVar = "Instead of a pearl,\nGraham finds a journal inside.\nGraham takes the journal";
   gotJournal = 1;
   }else {
   textVar = "Graham needs to be closer\nto open the oyster";
   }
   
   }
   }
  
  
  } //end journal2
  
  
  
  
  
  
  ////////////////////////////////////////////////////////////
  
   if (T.includes("coord")){
   x5 = myGamePiece.x;
      y5 = myGamePiece.y;
      x6 = x5 + 24;
      y6 = y5 + 64;
     // alert("xLeft: " + x5 + " xRight:"+ x6 + " yTop: " + y5 + " yBottom" + y6 + " room: " + room);
  alert("X: " + x5 + " Y: " + y5 + " room: " + room);
  }
  
  
 } //end press enter
 ///////////////////////////////////////////////////////////////////////////
 if (event.keyCode == 9) { //TAB key
textVar = "I have a difficult time \n remembering my inventory \n at my age";
}
 
}//end entire text function


////////GET COORDINATES ON MOUSECLICK///////////////////////


/*
    window.addEventListener('click', function (e) {
    
     // x5 = e.pageX;
     x5 = myGamePiece.x;
      y5 = myGamePiece.y;
      alert("x: " + x5 + "y: " + y5);
      
    })
*/

/*
 window.addEventListener('click', function (e) {
    
 var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");
ctx.beginPath();
ctx.rect(20, 20, 150, 100);
ctx.stroke();
      
    })
*/

/////////////////////////////////////////////////////////
 

</script>


<center>
<input type="textarea" size="30" id="textBox" font-size: 75px; onkeydown="textEntryFunction()" autofocus>
<h2>Old King Graham</h2>

<audio id="sound1" src="greensleevesharp.ogg"></audio>
<button class = "button" onclick="document.getElementById('sound1').play()"><img src="harp.jpg" alt="Submit"></button>
<br>
<br>
<a target="_blank" href="map.jpg">
  <img src="mapicon.png" alt="Map">
</a>
<br>
<br>
<a target="_blank" href="https://www.patreon.com/brettfarkas">
  <img src="patreon.png" alt="Map">
</center>
</body>
</html>
